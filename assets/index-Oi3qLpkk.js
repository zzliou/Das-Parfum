(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))s(i);new MutationObserver(i=>{for(const r of i)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const r={};return i.integrity&&(r.integrity=i.integrity),i.referrerPolicy&&(r.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?r.credentials="include":i.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(i){if(i.ep)return;i.ep=!0;const r=n(i);fetch(i.href,r)}})();function Dl(t,e){const n=Object.create(null),s=t.split(",");for(let i=0;i<s.length;i++)n[s[i]]=!0;return e?i=>!!n[i.toLowerCase()]:i=>!!n[i]}const Ae={},Ms=[],jt=()=>{},Fg=()=>!1,wo=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),Fl=t=>t.startsWith("onUpdate:"),Xe=Object.assign,$l=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},$g=Object.prototype.hasOwnProperty,ve=(t,e)=>$g.call(t,e),ne=Array.isArray,Ds=t=>bo(t)==="[object Map]",Vf=t=>bo(t)==="[object Set]",ce=t=>typeof t=="function",Be=t=>typeof t=="string",ii=t=>typeof t=="symbol",ke=t=>t!==null&&typeof t=="object",Hf=t=>(ke(t)||ce(t))&&ce(t.then)&&ce(t.catch),Wf=Object.prototype.toString,bo=t=>Wf.call(t),Ug=t=>bo(t).slice(8,-1),jf=t=>bo(t)==="[object Object]",Ul=t=>Be(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,xr=Dl(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Eo=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},Bg=/-(\w)/g,Kt=Eo(t=>t.replace(Bg,(e,n)=>n?n.toUpperCase():"")),zg=/\B([A-Z])/g,ri=Eo(t=>t.replace(zg,"-$1").toLowerCase()),So=Eo(t=>t.charAt(0).toUpperCase()+t.slice(1)),ca=Eo(t=>t?`on${So(t)}`:""),os=(t,e)=>!Object.is(t,e),Ar=(t,e)=>{for(let n=0;n<t.length;n++)t[n](e)},Ur=(t,e,n)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value:n})},za=t=>{const e=parseFloat(t);return isNaN(e)?t:e};let wu;const Va=()=>wu||(wu=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Bl(t){if(ne(t)){const e={};for(let n=0;n<t.length;n++){const s=t[n],i=Be(s)?jg(s):Bl(s);if(i)for(const r in i)e[r]=i[r]}return e}else if(Be(t)||ke(t))return t}const Vg=/;(?![^(]*\))/g,Hg=/:([^]+)/,Wg=/\/\*[^]*?\*\//g;function jg(t){const e={};return t.replace(Wg,"").split(Vg).forEach(n=>{if(n){const s=n.split(Hg);s.length>1&&(e[s[0].trim()]=s[1].trim())}}),e}function zl(t){let e="";if(Be(t))e=t;else if(ne(t))for(let n=0;n<t.length;n++){const s=zl(t[n]);s&&(e+=s+" ")}else if(ke(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}const Gg="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",qg=Dl(Gg);function Gf(t){return!!t||t===""}const te=t=>Be(t)?t:t==null?"":ne(t)||ke(t)&&(t.toString===Wf||!ce(t.toString))?JSON.stringify(t,qf,2):String(t),qf=(t,e)=>e&&e.__v_isRef?qf(t,e.value):Ds(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[s,i],r)=>(n[ua(s,r)+" =>"]=i,n),{})}:Vf(e)?{[`Set(${e.size})`]:[...e.values()].map(n=>ua(n))}:ii(e)?ua(e):ke(e)&&!ne(e)&&!jf(e)?String(e):e,ua=(t,e="")=>{var n;return ii(t)?`Symbol(${(n=t.description)!=null?n:e})`:t};let ht;class Kf{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this.parent=ht,!e&&ht&&(this.index=(ht.scopes||(ht.scopes=[])).push(this)-1)}get active(){return this._active}run(e){if(this._active){const n=ht;try{return ht=this,e()}finally{ht=n}}}on(){ht=this}off(){ht=this.parent}stop(e){if(this._active){let n,s;for(n=0,s=this.effects.length;n<s;n++)this.effects[n].stop();for(n=0,s=this.cleanups.length;n<s;n++)this.cleanups[n]();if(this.scopes)for(n=0,s=this.scopes.length;n<s;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!e){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0,this._active=!1}}}function Yf(t){return new Kf(t)}function Kg(t,e=ht){e&&e.active&&e.effects.push(t)}function Xf(){return ht}function Yg(t){ht&&ht.cleanups.push(t)}const Vl=t=>{const e=new Set(t);return e.w=0,e.n=0,e},Qf=t=>(t.w&Ln)>0,Jf=t=>(t.n&Ln)>0,Xg=({deps:t})=>{if(t.length)for(let e=0;e<t.length;e++)t[e].w|=Ln},Qg=t=>{const{deps:e}=t;if(e.length){let n=0;for(let s=0;s<e.length;s++){const i=e[s];Qf(i)&&!Jf(i)?i.delete(t):e[n++]=i,i.w&=~Ln,i.n&=~Ln}e.length=n}},Br=new WeakMap;let Ci=0,Ln=1;const Ha=30;let At;const es=Symbol(""),Wa=Symbol("");class Hl{constructor(e,n=null,s){this.fn=e,this.scheduler=n,this.active=!0,this.deps=[],this.parent=void 0,Kg(this,s)}run(){if(!this.active)return this.fn();let e=At,n=xn;for(;e;){if(e===this)return;e=e.parent}try{return this.parent=At,At=this,xn=!0,Ln=1<<++Ci,Ci<=Ha?Xg(this):bu(this),this.fn()}finally{Ci<=Ha&&Qg(this),Ln=1<<--Ci,At=this.parent,xn=n,this.parent=void 0,this.deferStop&&this.stop()}}stop(){At===this?this.deferStop=!0:this.active&&(bu(this),this.onStop&&this.onStop(),this.active=!1)}}function bu(t){const{deps:e}=t;if(e.length){for(let n=0;n<e.length;n++)e[n].delete(t);e.length=0}}let xn=!0;const Zf=[];function oi(){Zf.push(xn),xn=!1}function ai(){const t=Zf.pop();xn=t===void 0?!0:t}function ut(t,e,n){if(xn&&At){let s=Br.get(t);s||Br.set(t,s=new Map);let i=s.get(n);i||s.set(n,i=Vl()),eh(i)}}function eh(t,e){let n=!1;Ci<=Ha?Jf(t)||(t.n|=Ln,n=!Qf(t)):n=!t.has(At),n&&(t.add(At),At.deps.push(t))}function sn(t,e,n,s,i,r){const o=Br.get(t);if(!o)return;let a=[];if(e==="clear")a=[...o.values()];else if(n==="length"&&ne(t)){const l=Number(s);o.forEach((c,u)=>{(u==="length"||!ii(u)&&u>=l)&&a.push(c)})}else switch(n!==void 0&&a.push(o.get(n)),e){case"add":ne(t)?Ul(n)&&a.push(o.get("length")):(a.push(o.get(es)),Ds(t)&&a.push(o.get(Wa)));break;case"delete":ne(t)||(a.push(o.get(es)),Ds(t)&&a.push(o.get(Wa)));break;case"set":Ds(t)&&a.push(o.get(es));break}if(a.length===1)a[0]&&ja(a[0]);else{const l=[];for(const c of a)c&&l.push(...c);ja(Vl(l))}}function ja(t,e){const n=ne(t)?t:[...t];for(const s of n)s.computed&&Eu(s);for(const s of n)s.computed||Eu(s)}function Eu(t,e){(t!==At||t.allowRecurse)&&(t.scheduler?t.scheduler():t.run())}function Jg(t,e){var n;return(n=Br.get(t))==null?void 0:n.get(e)}const Zg=Dl("__proto__,__v_isRef,__isVue"),th=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(ii)),Su=e_();function e_(){const t={};return["includes","indexOf","lastIndexOf"].forEach(e=>{t[e]=function(...n){const s=_e(this);for(let r=0,o=this.length;r<o;r++)ut(s,"get",r+"");const i=s[e](...n);return i===-1||i===!1?s[e](...n.map(_e)):i}}),["push","pop","shift","unshift","splice"].forEach(e=>{t[e]=function(...n){oi();const s=_e(this)[e].apply(this,n);return ai(),s}}),t}function t_(t){const e=_e(this);return ut(e,"has",t),e.hasOwnProperty(t)}class nh{constructor(e=!1,n=!1){this._isReadonly=e,this._shallow=n}get(e,n,s){const i=this._isReadonly,r=this._shallow;if(n==="__v_isReactive")return!i;if(n==="__v_isReadonly")return i;if(n==="__v_isShallow")return r;if(n==="__v_raw")return s===(i?r?p_:oh:r?rh:ih).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(s)?e:void 0;const o=ne(e);if(!i){if(o&&ve(Su,n))return Reflect.get(Su,n,s);if(n==="hasOwnProperty")return t_}const a=Reflect.get(e,n,s);return(ii(n)?th.has(n):Zg(n))||(i||ut(e,"get",n),r)?a:Fe(a)?o&&Ul(n)?a:a.value:ke(a)?i?lh(a):rr(a):a}}class sh extends nh{constructor(e=!1){super(!1,e)}set(e,n,s,i){let r=e[n];if(!this._shallow){const l=qs(r);if(!zr(s)&&!qs(s)&&(r=_e(r),s=_e(s)),!ne(e)&&Fe(r)&&!Fe(s))return l?!1:(r.value=s,!0)}const o=ne(e)&&Ul(n)?Number(n)<e.length:ve(e,n),a=Reflect.set(e,n,s,i);return e===_e(i)&&(o?os(s,r)&&sn(e,"set",n,s):sn(e,"add",n,s)),a}deleteProperty(e,n){const s=ve(e,n);e[n];const i=Reflect.deleteProperty(e,n);return i&&s&&sn(e,"delete",n,void 0),i}has(e,n){const s=Reflect.has(e,n);return(!ii(n)||!th.has(n))&&ut(e,"has",n),s}ownKeys(e){return ut(e,"iterate",ne(e)?"length":es),Reflect.ownKeys(e)}}class n_ extends nh{constructor(e=!1){super(!0,e)}set(e,n){return!0}deleteProperty(e,n){return!0}}const s_=new sh,i_=new n_,r_=new sh(!0),Wl=t=>t,To=t=>Reflect.getPrototypeOf(t);function _r(t,e,n=!1,s=!1){t=t.__v_raw;const i=_e(t),r=_e(e);n||(os(e,r)&&ut(i,"get",e),ut(i,"get",r));const{has:o}=To(i),a=s?Wl:n?ql:Bi;if(o.call(i,e))return a(t.get(e));if(o.call(i,r))return a(t.get(r));t!==i&&t.get(e)}function vr(t,e=!1){const n=this.__v_raw,s=_e(n),i=_e(t);return e||(os(t,i)&&ut(s,"has",t),ut(s,"has",i)),t===i?n.has(t):n.has(t)||n.has(i)}function yr(t,e=!1){return t=t.__v_raw,!e&&ut(_e(t),"iterate",es),Reflect.get(t,"size",t)}function Tu(t){t=_e(t);const e=_e(this);return To(e).has.call(e,t)||(e.add(t),sn(e,"add",t,t)),this}function Cu(t,e){e=_e(e);const n=_e(this),{has:s,get:i}=To(n);let r=s.call(n,t);r||(t=_e(t),r=s.call(n,t));const o=i.call(n,t);return n.set(t,e),r?os(e,o)&&sn(n,"set",t,e):sn(n,"add",t,e),this}function Iu(t){const e=_e(this),{has:n,get:s}=To(e);let i=n.call(e,t);i||(t=_e(t),i=n.call(e,t)),s&&s.call(e,t);const r=e.delete(t);return i&&sn(e,"delete",t,void 0),r}function Pu(){const t=_e(this),e=t.size!==0,n=t.clear();return e&&sn(t,"clear",void 0,void 0),n}function wr(t,e){return function(s,i){const r=this,o=r.__v_raw,a=_e(o),l=e?Wl:t?ql:Bi;return!t&&ut(a,"iterate",es),o.forEach((c,u)=>s.call(i,l(c),l(u),r))}}function br(t,e,n){return function(...s){const i=this.__v_raw,r=_e(i),o=Ds(r),a=t==="entries"||t===Symbol.iterator&&o,l=t==="keys"&&o,c=i[t](...s),u=n?Wl:e?ql:Bi;return!e&&ut(r,"iterate",l?Wa:es),{next(){const{value:d,done:f}=c.next();return f?{value:d,done:f}:{value:a?[u(d[0]),u(d[1])]:u(d),done:f}},[Symbol.iterator](){return this}}}}function hn(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function o_(){const t={get(r){return _r(this,r)},get size(){return yr(this)},has:vr,add:Tu,set:Cu,delete:Iu,clear:Pu,forEach:wr(!1,!1)},e={get(r){return _r(this,r,!1,!0)},get size(){return yr(this)},has:vr,add:Tu,set:Cu,delete:Iu,clear:Pu,forEach:wr(!1,!0)},n={get(r){return _r(this,r,!0)},get size(){return yr(this,!0)},has(r){return vr.call(this,r,!0)},add:hn("add"),set:hn("set"),delete:hn("delete"),clear:hn("clear"),forEach:wr(!0,!1)},s={get(r){return _r(this,r,!0,!0)},get size(){return yr(this,!0)},has(r){return vr.call(this,r,!0)},add:hn("add"),set:hn("set"),delete:hn("delete"),clear:hn("clear"),forEach:wr(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(r=>{t[r]=br(r,!1,!1),n[r]=br(r,!0,!1),e[r]=br(r,!1,!0),s[r]=br(r,!0,!0)}),[t,n,e,s]}const[a_,l_,c_,u_]=o_();function jl(t,e){const n=e?t?u_:c_:t?l_:a_;return(s,i,r)=>i==="__v_isReactive"?!t:i==="__v_isReadonly"?t:i==="__v_raw"?s:Reflect.get(ve(n,i)&&i in s?n:s,i,r)}const d_={get:jl(!1,!1)},f_={get:jl(!1,!0)},h_={get:jl(!0,!1)},ih=new WeakMap,rh=new WeakMap,oh=new WeakMap,p_=new WeakMap;function m_(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function g_(t){return t.__v_skip||!Object.isExtensible(t)?0:m_(Ug(t))}function rr(t){return qs(t)?t:Gl(t,!1,s_,d_,ih)}function ah(t){return Gl(t,!1,r_,f_,rh)}function lh(t){return Gl(t,!0,i_,h_,oh)}function Gl(t,e,n,s,i){if(!ke(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const r=i.get(t);if(r)return r;const o=g_(t);if(o===0)return t;const a=new Proxy(t,o===2?s:n);return i.set(t,a),a}function rn(t){return qs(t)?rn(t.__v_raw):!!(t&&t.__v_isReactive)}function qs(t){return!!(t&&t.__v_isReadonly)}function zr(t){return!!(t&&t.__v_isShallow)}function ch(t){return rn(t)||qs(t)}function _e(t){const e=t&&t.__v_raw;return e?_e(e):t}function Co(t){return Ur(t,"__v_skip",!0),t}const Bi=t=>ke(t)?rr(t):t,ql=t=>ke(t)?lh(t):t;function uh(t){xn&&At&&(t=_e(t),eh(t.dep||(t.dep=Vl())))}function dh(t,e){t=_e(t);const n=t.dep;n&&ja(n)}function Fe(t){return!!(t&&t.__v_isRef===!0)}function ae(t){return fh(t,!1)}function __(t){return fh(t,!0)}function fh(t,e){return Fe(t)?t:new v_(t,e)}class v_{constructor(e,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?e:_e(e),this._value=n?e:Bi(e)}get value(){return uh(this),this._value}set value(e){const n=this.__v_isShallow||zr(e)||qs(e);e=n?e:_e(e),os(e,this._rawValue)&&(this._rawValue=e,this._value=n?e:Bi(e),dh(this))}}function ue(t){return Fe(t)?t.value:t}const y_={get:(t,e,n)=>ue(Reflect.get(t,e,n)),set:(t,e,n,s)=>{const i=t[e];return Fe(i)&&!Fe(n)?(i.value=n,!0):Reflect.set(t,e,n,s)}};function hh(t){return rn(t)?t:new Proxy(t,y_)}function w_(t){const e=ne(t)?new Array(t.length):{};for(const n in t)e[n]=ph(t,n);return e}class b_{constructor(e,n,s){this._object=e,this._key=n,this._defaultValue=s,this.__v_isRef=!0}get value(){const e=this._object[this._key];return e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return Jg(_e(this._object),this._key)}}class E_{constructor(e){this._getter=e,this.__v_isRef=!0,this.__v_isReadonly=!0}get value(){return this._getter()}}function S_(t,e,n){return Fe(t)?t:ce(t)?new E_(t):ke(t)&&arguments.length>1?ph(t,e,n):ae(t)}function ph(t,e,n){const s=t[e];return Fe(s)?s:new b_(t,e,n)}class T_{constructor(e,n,s,i){this._setter=n,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this._dirty=!0,this.effect=new Hl(e,()=>{this._dirty||(this._dirty=!0,dh(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!i,this.__v_isReadonly=s}get value(){const e=_e(this);return uh(e),(e._dirty||!e._cacheable)&&(e._dirty=!1,e._value=e.effect.run()),e._value}set value(e){this._setter(e)}}function C_(t,e,n=!1){let s,i;const r=ce(t);return r?(s=t,i=jt):(s=t.get,i=t.set),new T_(s,i,r||!i,n)}function An(t,e,n,s){let i;try{i=s?t(...s):t()}catch(r){Io(r,e,n)}return i}function Mt(t,e,n,s){if(ce(t)){const r=An(t,e,n,s);return r&&Hf(r)&&r.catch(o=>{Io(o,e,n)}),r}const i=[];for(let r=0;r<t.length;r++)i.push(Mt(t[r],e,n,s));return i}function Io(t,e,n,s=!0){const i=e?e.vnode:null;if(e){let r=e.parent;const o=e.proxy,a=n;for(;r;){const c=r.ec;if(c){for(let u=0;u<c.length;u++)if(c[u](t,o,a)===!1)return}r=r.parent}const l=e.appContext.config.errorHandler;if(l){An(l,null,10,[t,o,a]);return}}I_(t,n,i,s)}function I_(t,e,n,s=!0){console.error(t)}let zi=!1,Ga=!1;const Ze=[];let Wt=0;const Fs=[];let Jt=null,jn=0;const mh=Promise.resolve();let Kl=null;function Po(t){const e=Kl||mh;return t?e.then(this?t.bind(this):t):e}function P_(t){let e=Wt+1,n=Ze.length;for(;e<n;){const s=e+n>>>1,i=Ze[s],r=Vi(i);r<t||r===t&&i.pre?e=s+1:n=s}return e}function Yl(t){(!Ze.length||!Ze.includes(t,zi&&t.allowRecurse?Wt+1:Wt))&&(t.id==null?Ze.push(t):Ze.splice(P_(t.id),0,t),gh())}function gh(){!zi&&!Ga&&(Ga=!0,Kl=mh.then(vh))}function R_(t){const e=Ze.indexOf(t);e>Wt&&Ze.splice(e,1)}function x_(t){ne(t)?Fs.push(...t):(!Jt||!Jt.includes(t,t.allowRecurse?jn+1:jn))&&Fs.push(t),gh()}function Ru(t,e,n=zi?Wt+1:0){for(;n<Ze.length;n++){const s=Ze[n];if(s&&s.pre){if(t&&s.id!==t.uid)continue;Ze.splice(n,1),n--,s()}}}function _h(t){if(Fs.length){const e=[...new Set(Fs)];if(Fs.length=0,Jt){Jt.push(...e);return}for(Jt=e,Jt.sort((n,s)=>Vi(n)-Vi(s)),jn=0;jn<Jt.length;jn++)Jt[jn]();Jt=null,jn=0}}const Vi=t=>t.id==null?1/0:t.id,A_=(t,e)=>{const n=Vi(t)-Vi(e);if(n===0){if(t.pre&&!e.pre)return-1;if(e.pre&&!t.pre)return 1}return n};function vh(t){Ga=!1,zi=!0,Ze.sort(A_);try{for(Wt=0;Wt<Ze.length;Wt++){const e=Ze[Wt];e&&e.active!==!1&&An(e,null,14)}}finally{Wt=0,Ze.length=0,_h(),zi=!1,Kl=null,(Ze.length||Fs.length)&&vh()}}function k_(t,e,...n){if(t.isUnmounted)return;const s=t.vnode.props||Ae;let i=n;const r=e.startsWith("update:"),o=r&&e.slice(7);if(o&&o in s){const u=`${o==="modelValue"?"model":o}Modifiers`,{number:d,trim:f}=s[u]||Ae;f&&(i=n.map(h=>Be(h)?h.trim():h)),d&&(i=n.map(za))}let a,l=s[a=ca(e)]||s[a=ca(Kt(e))];!l&&r&&(l=s[a=ca(ri(e))]),l&&Mt(l,t,6,i);const c=s[a+"Once"];if(c){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,Mt(c,t,6,i)}}function yh(t,e,n=!1){const s=e.emitsCache,i=s.get(t);if(i!==void 0)return i;const r=t.emits;let o={},a=!1;if(!ce(t)){const l=c=>{const u=yh(c,e,!0);u&&(a=!0,Xe(o,u))};!n&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!r&&!a?(ke(t)&&s.set(t,null),null):(ne(r)?r.forEach(l=>o[l]=null):Xe(o,r),ke(t)&&s.set(t,o),o)}function Ro(t,e){return!t||!wo(e)?!1:(e=e.slice(2).replace(/Once$/,""),ve(t,e[0].toLowerCase()+e.slice(1))||ve(t,ri(e))||ve(t,e))}let gt=null,xo=null;function Vr(t){const e=gt;return gt=t,xo=t&&t.type.__scopeId||null,e}function vt(t){xo=t}function yt(){xo=null}function Ne(t,e=gt,n){if(!e||t._n)return t;const s=(...i)=>{s._d&&Uu(-1);const r=Vr(e);let o;try{o=t(...i)}finally{Vr(r),s._d&&Uu(1)}return o};return s._n=!0,s._c=!0,s._d=!0,s}function da(t){const{type:e,vnode:n,proxy:s,withProxy:i,props:r,propsOptions:[o],slots:a,attrs:l,emit:c,render:u,renderCache:d,data:f,setupState:h,ctx:p,inheritAttrs:m}=t;let w,b;const g=Vr(t);try{if(n.shapeFlag&4){const S=i||s,I=S;w=Ht(u.call(I,S,d,r,h,f,p)),b=l}else{const S=e;w=Ht(S.length>1?S(r,{attrs:l,slots:a,emit:c}):S(r,null)),b=e.props?l:O_(l)}}catch(S){ki.length=0,Io(S,t,1),w=fe(as)}let y=w;if(b&&m!==!1){const S=Object.keys(b),{shapeFlag:I}=y;S.length&&I&7&&(o&&S.some(Fl)&&(b=N_(b,o)),y=Ks(y,b))}return n.dirs&&(y=Ks(y),y.dirs=y.dirs?y.dirs.concat(n.dirs):n.dirs),n.transition&&(y.transition=n.transition),w=y,Vr(g),w}const O_=t=>{let e;for(const n in t)(n==="class"||n==="style"||wo(n))&&((e||(e={}))[n]=t[n]);return e},N_=(t,e)=>{const n={};for(const s in t)(!Fl(s)||!(s.slice(9)in e))&&(n[s]=t[s]);return n};function L_(t,e,n){const{props:s,children:i,component:r}=t,{props:o,children:a,patchFlag:l}=e,c=r.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return s?xu(s,o,c):!!o;if(l&8){const u=e.dynamicProps;for(let d=0;d<u.length;d++){const f=u[d];if(o[f]!==s[f]&&!Ro(c,f))return!0}}}else return(i||a)&&(!a||!a.$stable)?!0:s===o?!1:s?o?xu(s,o,c):!0:!!o;return!1}function xu(t,e,n){const s=Object.keys(e);if(s.length!==Object.keys(t).length)return!0;for(let i=0;i<s.length;i++){const r=s[i];if(e[r]!==t[r]&&!Ro(n,r))return!0}return!1}function M_({vnode:t,parent:e},n){for(;e&&e.subTree===t;)(t=e.vnode).el=n,e=e.parent}const wh="components";function bh(t,e){return F_(wh,t,!0,e)||t}const D_=Symbol.for("v-ndc");function F_(t,e,n=!0,s=!1){const i=gt||je;if(i){const r=i.type;if(t===wh){const a=Cv(r,!1);if(a&&(a===e||a===Kt(e)||a===So(Kt(e))))return r}const o=Au(i[t]||r[t],e)||Au(i.appContext[t],e);return!o&&s?r:o}}function Au(t,e){return t&&(t[e]||t[Kt(e)]||t[So(Kt(e))])}const $_=t=>t.__isSuspense;function U_(t,e){e&&e.pendingBranch?ne(t)?e.effects.push(...t):e.effects.push(t):x_(t)}const Er={};function $s(t,e,n){return Eh(t,e,n)}function Eh(t,e,{immediate:n,deep:s,flush:i,onTrack:r,onTrigger:o}=Ae){var a;const l=Xf()===((a=je)==null?void 0:a.scope)?je:null;let c,u=!1,d=!1;if(Fe(t)?(c=()=>t.value,u=zr(t)):rn(t)?(c=()=>t,s=!0):ne(t)?(d=!0,u=t.some(S=>rn(S)||zr(S)),c=()=>t.map(S=>{if(Fe(S))return S.value;if(rn(S))return Yn(S);if(ce(S))return An(S,l,2)})):ce(t)?e?c=()=>An(t,l,2):c=()=>{if(!(l&&l.isUnmounted))return f&&f(),Mt(t,l,3,[h])}:c=jt,e&&s){const S=c;c=()=>Yn(S())}let f,h=S=>{f=g.onStop=()=>{An(S,l,4),f=g.onStop=void 0}},p;if(ji)if(h=jt,e?n&&Mt(e,l,3,[c(),d?[]:void 0,h]):c(),i==="sync"){const S=Rv();p=S.__watcherHandles||(S.__watcherHandles=[])}else return jt;let m=d?new Array(t.length).fill(Er):Er;const w=()=>{if(g.active)if(e){const S=g.run();(s||u||(d?S.some((I,U)=>os(I,m[U])):os(S,m)))&&(f&&f(),Mt(e,l,3,[S,m===Er?void 0:d&&m[0]===Er?[]:m,h]),m=S)}else g.run()};w.allowRecurse=!!e;let b;i==="sync"?b=w:i==="post"?b=()=>ot(w,l&&l.suspense):(w.pre=!0,l&&(w.id=l.uid),b=()=>Yl(w));const g=new Hl(c,b);e?n?w():m=g.run():i==="post"?ot(g.run.bind(g),l&&l.suspense):g.run();const y=()=>{g.stop(),l&&l.scope&&$l(l.scope.effects,g)};return p&&p.push(y),y}function B_(t,e,n){const s=this.proxy,i=Be(t)?t.includes(".")?Sh(s,t):()=>s[t]:t.bind(s,s);let r;ce(e)?r=e:(r=e.handler,n=e);const o=je;Ys(this);const a=Eh(i,r.bind(s),n);return o?Ys(o):ts(),a}function Sh(t,e){const n=e.split(".");return()=>{let s=t;for(let i=0;i<n.length&&s;i++)s=s[n[i]];return s}}function Yn(t,e){if(!ke(t)||t.__v_skip||(e=e||new Set,e.has(t)))return t;if(e.add(t),Fe(t))Yn(t.value,e);else if(ne(t))for(let n=0;n<t.length;n++)Yn(t[n],e);else if(Vf(t)||Ds(t))t.forEach(n=>{Yn(n,e)});else if(jf(t))for(const n in t)Yn(t[n],e);return t}function qa(t,e){const n=gt;if(n===null)return t;const s=No(n)||n.proxy,i=t.dirs||(t.dirs=[]);for(let r=0;r<e.length;r++){let[o,a,l,c=Ae]=e[r];o&&(ce(o)&&(o={mounted:o,updated:o}),o.deep&&Yn(a),i.push({dir:o,instance:s,value:a,oldValue:void 0,arg:l,modifiers:c}))}return t}function zn(t,e,n,s){const i=t.dirs,r=e&&e.dirs;for(let o=0;o<i.length;o++){const a=i[o];r&&(a.oldValue=r[o].value);let l=a.dir[s];l&&(oi(),Mt(l,n,8,[t.el,a,t,e]),ai())}}/*! #__NO_SIDE_EFFECTS__ */function Th(t,e){return ce(t)?Xe({name:t.name},e,{setup:t}):t}const kr=t=>!!t.type.__asyncLoader,Ch=t=>t.type.__isKeepAlive;function z_(t,e){Ih(t,"a",e)}function V_(t,e){Ih(t,"da",e)}function Ih(t,e,n=je){const s=t.__wdc||(t.__wdc=()=>{let i=n;for(;i;){if(i.isDeactivated)return;i=i.parent}return t()});if(Ao(e,s,n),n){let i=n.parent;for(;i&&i.parent;)Ch(i.parent.vnode)&&H_(s,e,n,i),i=i.parent}}function H_(t,e,n,s){const i=Ao(e,t,s,!0);Rh(()=>{$l(s[e],i)},n)}function Ao(t,e,n=je,s=!1){if(n){const i=n[t]||(n[t]=[]),r=e.__weh||(e.__weh=(...o)=>{if(n.isUnmounted)return;oi(),Ys(n);const a=Mt(e,n,t,o);return ts(),ai(),a});return s?i.unshift(r):i.push(r),r}}const un=t=>(e,n=je)=>(!ji||t==="sp")&&Ao(t,(...s)=>e(...s),n),W_=un("bm"),Xl=un("m"),Ph=un("bu"),Ql=un("u"),Jl=un("bum"),Rh=un("um"),j_=un("sp"),G_=un("rtg"),q_=un("rtc");function K_(t,e=je){Ao("ec",t,e)}function at(t,e,n,s){let i;const r=n&&n[s];if(ne(t)||Be(t)){i=new Array(t.length);for(let o=0,a=t.length;o<a;o++)i[o]=e(t[o],o,void 0,r&&r[o])}else if(typeof t=="number"){i=new Array(t);for(let o=0;o<t;o++)i[o]=e(o+1,o,void 0,r&&r[o])}else if(ke(t))if(t[Symbol.iterator])i=Array.from(t,(o,a)=>e(o,a,void 0,r&&r[a]));else{const o=Object.keys(t);i=new Array(o.length);for(let a=0,l=o.length;a<l;a++){const c=o[a];i[a]=e(t[c],c,a,r&&r[a])}}else i=[];return n&&(n[s]=i),i}const Ka=t=>t?Uh(t)?No(t)||t.proxy:Ka(t.parent):null,Ai=Xe(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>Ka(t.parent),$root:t=>Ka(t.root),$emit:t=>t.emit,$options:t=>Zl(t),$forceUpdate:t=>t.f||(t.f=()=>Yl(t.update)),$nextTick:t=>t.n||(t.n=Po.bind(t.proxy)),$watch:t=>B_.bind(t)}),fa=(t,e)=>t!==Ae&&!t.__isScriptSetup&&ve(t,e),Y_={get({_:t},e){const{ctx:n,setupState:s,data:i,props:r,accessCache:o,type:a,appContext:l}=t;let c;if(e[0]!=="$"){const h=o[e];if(h!==void 0)switch(h){case 1:return s[e];case 2:return i[e];case 4:return n[e];case 3:return r[e]}else{if(fa(s,e))return o[e]=1,s[e];if(i!==Ae&&ve(i,e))return o[e]=2,i[e];if((c=t.propsOptions[0])&&ve(c,e))return o[e]=3,r[e];if(n!==Ae&&ve(n,e))return o[e]=4,n[e];Ya&&(o[e]=0)}}const u=Ai[e];let d,f;if(u)return e==="$attrs"&&ut(t,"get",e),u(t);if((d=a.__cssModules)&&(d=d[e]))return d;if(n!==Ae&&ve(n,e))return o[e]=4,n[e];if(f=l.config.globalProperties,ve(f,e))return f[e]},set({_:t},e,n){const{data:s,setupState:i,ctx:r}=t;return fa(i,e)?(i[e]=n,!0):s!==Ae&&ve(s,e)?(s[e]=n,!0):ve(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(r[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:s,appContext:i,propsOptions:r}},o){let a;return!!n[o]||t!==Ae&&ve(t,o)||fa(e,o)||(a=r[0])&&ve(a,o)||ve(s,o)||ve(Ai,o)||ve(i.config.globalProperties,o)},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:ve(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};function ku(t){return ne(t)?t.reduce((e,n)=>(e[n]=null,e),{}):t}let Ya=!0;function X_(t){const e=Zl(t),n=t.proxy,s=t.ctx;Ya=!1,e.beforeCreate&&Ou(e.beforeCreate,t,"bc");const{data:i,computed:r,methods:o,watch:a,provide:l,inject:c,created:u,beforeMount:d,mounted:f,beforeUpdate:h,updated:p,activated:m,deactivated:w,beforeDestroy:b,beforeUnmount:g,destroyed:y,unmounted:S,render:I,renderTracked:U,renderTriggered:K,errorCaptured:L,serverPrefetch:C,expose:R,inheritAttrs:F,components:O,directives:x,filters:D}=e;if(c&&Q_(c,s,null),o)for(const ie in o){const j=o[ie];ce(j)&&(s[ie]=j.bind(n))}if(i){const ie=i.call(n,n);ke(ie)&&(t.data=rr(ie))}if(Ya=!0,r)for(const ie in r){const j=r[ie],re=ce(j)?j.bind(n,n):ce(j.get)?j.get.bind(n,n):jt,Ce=!ce(j)&&ce(j.set)?j.set.bind(n):jt,$e=st({get:re,set:Ce});Object.defineProperty(s,ie,{enumerable:!0,configurable:!0,get:()=>$e.value,set:De=>$e.value=De})}if(a)for(const ie in a)xh(a[ie],s,n,ie);if(l){const ie=ce(l)?l.call(n):l;Reflect.ownKeys(ie).forEach(j=>{Us(j,ie[j])})}u&&Ou(u,t,"c");function V(ie,j){ne(j)?j.forEach(re=>ie(re.bind(n))):j&&ie(j.bind(n))}if(V(W_,d),V(Xl,f),V(Ph,h),V(Ql,p),V(z_,m),V(V_,w),V(K_,L),V(q_,U),V(G_,K),V(Jl,g),V(Rh,S),V(j_,C),ne(R))if(R.length){const ie=t.exposed||(t.exposed={});R.forEach(j=>{Object.defineProperty(ie,j,{get:()=>n[j],set:re=>n[j]=re})})}else t.exposed||(t.exposed={});I&&t.render===jt&&(t.render=I),F!=null&&(t.inheritAttrs=F),O&&(t.components=O),x&&(t.directives=x)}function Q_(t,e,n=jt){ne(t)&&(t=Xa(t));for(const s in t){const i=t[s];let r;ke(i)?"default"in i?r=Tt(i.from||s,i.default,!0):r=Tt(i.from||s):r=Tt(i),Fe(r)?Object.defineProperty(e,s,{enumerable:!0,configurable:!0,get:()=>r.value,set:o=>r.value=o}):e[s]=r}}function Ou(t,e,n){Mt(ne(t)?t.map(s=>s.bind(e.proxy)):t.bind(e.proxy),e,n)}function xh(t,e,n,s){const i=s.includes(".")?Sh(n,s):()=>n[s];if(Be(t)){const r=e[t];ce(r)&&$s(i,r)}else if(ce(t))$s(i,t.bind(n));else if(ke(t))if(ne(t))t.forEach(r=>xh(r,e,n,s));else{const r=ce(t.handler)?t.handler.bind(n):e[t.handler];ce(r)&&$s(i,r,t)}}function Zl(t){const e=t.type,{mixins:n,extends:s}=e,{mixins:i,optionsCache:r,config:{optionMergeStrategies:o}}=t.appContext,a=r.get(e);let l;return a?l=a:!i.length&&!n&&!s?l=e:(l={},i.length&&i.forEach(c=>Hr(l,c,o,!0)),Hr(l,e,o)),ke(e)&&r.set(e,l),l}function Hr(t,e,n,s=!1){const{mixins:i,extends:r}=e;r&&Hr(t,r,n,!0),i&&i.forEach(o=>Hr(t,o,n,!0));for(const o in e)if(!(s&&o==="expose")){const a=J_[o]||n&&n[o];t[o]=a?a(t[o],e[o]):e[o]}return t}const J_={data:Nu,props:Lu,emits:Lu,methods:Ii,computed:Ii,beforeCreate:nt,created:nt,beforeMount:nt,mounted:nt,beforeUpdate:nt,updated:nt,beforeDestroy:nt,beforeUnmount:nt,destroyed:nt,unmounted:nt,activated:nt,deactivated:nt,errorCaptured:nt,serverPrefetch:nt,components:Ii,directives:Ii,watch:ev,provide:Nu,inject:Z_};function Nu(t,e){return e?t?function(){return Xe(ce(t)?t.call(this,this):t,ce(e)?e.call(this,this):e)}:e:t}function Z_(t,e){return Ii(Xa(t),Xa(e))}function Xa(t){if(ne(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function nt(t,e){return t?[...new Set([].concat(t,e))]:e}function Ii(t,e){return t?Xe(Object.create(null),t,e):e}function Lu(t,e){return t?ne(t)&&ne(e)?[...new Set([...t,...e])]:Xe(Object.create(null),ku(t),ku(e??{})):e}function ev(t,e){if(!t)return e;if(!e)return t;const n=Xe(Object.create(null),t);for(const s in e)n[s]=nt(t[s],e[s]);return n}function Ah(){return{app:null,config:{isNativeTag:Fg,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let tv=0;function nv(t,e){return function(s,i=null){ce(s)||(s=Xe({},s)),i!=null&&!ke(i)&&(i=null);const r=Ah(),o=new WeakSet;let a=!1;const l=r.app={_uid:tv++,_component:s,_props:i,_container:null,_context:r,_instance:null,version:xv,get config(){return r.config},set config(c){},use(c,...u){return o.has(c)||(c&&ce(c.install)?(o.add(c),c.install(l,...u)):ce(c)&&(o.add(c),c(l,...u))),l},mixin(c){return r.mixins.includes(c)||r.mixins.push(c),l},component(c,u){return u?(r.components[c]=u,l):r.components[c]},directive(c,u){return u?(r.directives[c]=u,l):r.directives[c]},mount(c,u,d){if(!a){const f=fe(s,i);return f.appContext=r,u&&e?e(f,c):t(f,c,d),a=!0,l._container=c,c.__vue_app__=l,No(f.component)||f.component.proxy}},unmount(){a&&(t(null,l._container),delete l._container.__vue_app__)},provide(c,u){return r.provides[c]=u,l},runWithContext(c){Hi=l;try{return c()}finally{Hi=null}}};return l}}let Hi=null;function Us(t,e){if(je){let n=je.provides;const s=je.parent&&je.parent.provides;s===n&&(n=je.provides=Object.create(s)),n[t]=e}}function Tt(t,e,n=!1){const s=je||gt;if(s||Hi){const i=s?s.parent==null?s.vnode.appContext&&s.vnode.appContext.provides:s.parent.provides:Hi._context.provides;if(i&&t in i)return i[t];if(arguments.length>1)return n&&ce(e)?e.call(s&&s.proxy):e}}function sv(){return!!(je||gt||Hi)}function iv(t,e,n,s=!1){const i={},r={};Ur(r,Oo,1),t.propsDefaults=Object.create(null),kh(t,e,i,r);for(const o in t.propsOptions[0])o in i||(i[o]=void 0);n?t.props=s?i:ah(i):t.type.props?t.props=i:t.props=r,t.attrs=r}function rv(t,e,n,s){const{props:i,attrs:r,vnode:{patchFlag:o}}=t,a=_e(i),[l]=t.propsOptions;let c=!1;if((s||o>0)&&!(o&16)){if(o&8){const u=t.vnode.dynamicProps;for(let d=0;d<u.length;d++){let f=u[d];if(Ro(t.emitsOptions,f))continue;const h=e[f];if(l)if(ve(r,f))h!==r[f]&&(r[f]=h,c=!0);else{const p=Kt(f);i[p]=Qa(l,a,p,h,t,!1)}else h!==r[f]&&(r[f]=h,c=!0)}}}else{kh(t,e,i,r)&&(c=!0);let u;for(const d in a)(!e||!ve(e,d)&&((u=ri(d))===d||!ve(e,u)))&&(l?n&&(n[d]!==void 0||n[u]!==void 0)&&(i[d]=Qa(l,a,d,void 0,t,!0)):delete i[d]);if(r!==a)for(const d in r)(!e||!ve(e,d))&&(delete r[d],c=!0)}c&&sn(t,"set","$attrs")}function kh(t,e,n,s){const[i,r]=t.propsOptions;let o=!1,a;if(e)for(let l in e){if(xr(l))continue;const c=e[l];let u;i&&ve(i,u=Kt(l))?!r||!r.includes(u)?n[u]=c:(a||(a={}))[u]=c:Ro(t.emitsOptions,l)||(!(l in s)||c!==s[l])&&(s[l]=c,o=!0)}if(r){const l=_e(n),c=a||Ae;for(let u=0;u<r.length;u++){const d=r[u];n[d]=Qa(i,l,d,c[d],t,!ve(c,d))}}return o}function Qa(t,e,n,s,i,r){const o=t[n];if(o!=null){const a=ve(o,"default");if(a&&s===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&ce(l)){const{propsDefaults:c}=i;n in c?s=c[n]:(Ys(i),s=c[n]=l.call(null,e),ts())}else s=l}o[0]&&(r&&!a?s=!1:o[1]&&(s===""||s===ri(n))&&(s=!0))}return s}function Oh(t,e,n=!1){const s=e.propsCache,i=s.get(t);if(i)return i;const r=t.props,o={},a=[];let l=!1;if(!ce(t)){const u=d=>{l=!0;const[f,h]=Oh(d,e,!0);Xe(o,f),h&&a.push(...h)};!n&&e.mixins.length&&e.mixins.forEach(u),t.extends&&u(t.extends),t.mixins&&t.mixins.forEach(u)}if(!r&&!l)return ke(t)&&s.set(t,Ms),Ms;if(ne(r))for(let u=0;u<r.length;u++){const d=Kt(r[u]);Mu(d)&&(o[d]=Ae)}else if(r)for(const u in r){const d=Kt(u);if(Mu(d)){const f=r[u],h=o[d]=ne(f)||ce(f)?{type:f}:Xe({},f);if(h){const p=$u(Boolean,h.type),m=$u(String,h.type);h[0]=p>-1,h[1]=m<0||p<m,(p>-1||ve(h,"default"))&&a.push(d)}}}const c=[o,a];return ke(t)&&s.set(t,c),c}function Mu(t){return t[0]!=="$"}function Du(t){const e=t&&t.toString().match(/^\s*(function|class) (\w+)/);return e?e[2]:t===null?"null":""}function Fu(t,e){return Du(t)===Du(e)}function $u(t,e){return ne(e)?e.findIndex(n=>Fu(n,t)):ce(e)&&Fu(e,t)?0:-1}const Nh=t=>t[0]==="_"||t==="$stable",ec=t=>ne(t)?t.map(Ht):[Ht(t)],ov=(t,e,n)=>{if(e._n)return e;const s=Ne((...i)=>ec(e(...i)),n);return s._c=!1,s},Lh=(t,e,n)=>{const s=t._ctx;for(const i in t){if(Nh(i))continue;const r=t[i];if(ce(r))e[i]=ov(i,r,s);else if(r!=null){const o=ec(r);e[i]=()=>o}}},Mh=(t,e)=>{const n=ec(e);t.slots.default=()=>n},av=(t,e)=>{if(t.vnode.shapeFlag&32){const n=e._;n?(t.slots=_e(e),Ur(e,"_",n)):Lh(e,t.slots={})}else t.slots={},e&&Mh(t,e);Ur(t.slots,Oo,1)},lv=(t,e,n)=>{const{vnode:s,slots:i}=t;let r=!0,o=Ae;if(s.shapeFlag&32){const a=e._;a?n&&a===1?r=!1:(Xe(i,e),!n&&a===1&&delete i._):(r=!e.$stable,Lh(e,i)),o=e}else e&&(Mh(t,e),o={default:1});if(r)for(const a in i)!Nh(a)&&o[a]==null&&delete i[a]};function Ja(t,e,n,s,i=!1){if(ne(t)){t.forEach((f,h)=>Ja(f,e&&(ne(e)?e[h]:e),n,s,i));return}if(kr(s)&&!i)return;const r=s.shapeFlag&4?No(s.component)||s.component.proxy:s.el,o=i?null:r,{i:a,r:l}=t,c=e&&e.r,u=a.refs===Ae?a.refs={}:a.refs,d=a.setupState;if(c!=null&&c!==l&&(Be(c)?(u[c]=null,ve(d,c)&&(d[c]=null)):Fe(c)&&(c.value=null)),ce(l))An(l,a,12,[o,u]);else{const f=Be(l),h=Fe(l);if(f||h){const p=()=>{if(t.f){const m=f?ve(d,l)?d[l]:u[l]:l.value;i?ne(m)&&$l(m,r):ne(m)?m.includes(r)||m.push(r):f?(u[l]=[r],ve(d,l)&&(d[l]=u[l])):(l.value=[r],t.k&&(u[t.k]=l.value))}else f?(u[l]=o,ve(d,l)&&(d[l]=o)):h&&(l.value=o,t.k&&(u[t.k]=o))};o?(p.id=-1,ot(p,n)):p()}}}const ot=U_;function cv(t){return uv(t)}function uv(t,e){const n=Va();n.__VUE__=!0;const{insert:s,remove:i,patchProp:r,createElement:o,createText:a,createComment:l,setText:c,setElementText:u,parentNode:d,nextSibling:f,setScopeId:h=jt,insertStaticContent:p}=t,m=(v,E,T,P=null,k=null,N=null,G=!1,z=null,H=!!E.dynamicChildren)=>{if(v===E)return;v&&!gi(v,E)&&(P=A(v),De(v,k,N,!0),v=null),E.patchFlag===-2&&(H=!1,E.dynamicChildren=null);const{type:M,ref:Q,shapeFlag:Y}=E;switch(M){case ko:w(v,E,T,P);break;case as:b(v,E,T,P);break;case Or:v==null&&g(E,T,P,G);break;case Oe:O(v,E,T,P,k,N,G,z,H);break;default:Y&1?I(v,E,T,P,k,N,G,z,H):Y&6?x(v,E,T,P,k,N,G,z,H):(Y&64||Y&128)&&M.process(v,E,T,P,k,N,G,z,H,W)}Q!=null&&k&&Ja(Q,v&&v.ref,N,E||v,!E)},w=(v,E,T,P)=>{if(v==null)s(E.el=a(E.children),T,P);else{const k=E.el=v.el;E.children!==v.children&&c(k,E.children)}},b=(v,E,T,P)=>{v==null?s(E.el=l(E.children||""),T,P):E.el=v.el},g=(v,E,T,P)=>{[v.el,v.anchor]=p(v.children,E,T,P,v.el,v.anchor)},y=({el:v,anchor:E},T,P)=>{let k;for(;v&&v!==E;)k=f(v),s(v,T,P),v=k;s(E,T,P)},S=({el:v,anchor:E})=>{let T;for(;v&&v!==E;)T=f(v),i(v),v=T;i(E)},I=(v,E,T,P,k,N,G,z,H)=>{G=G||E.type==="svg",v==null?U(E,T,P,k,N,G,z,H):C(v,E,k,N,G,z,H)},U=(v,E,T,P,k,N,G,z)=>{let H,M;const{type:Q,props:Y,shapeFlag:J,transition:le,dirs:ge}=v;if(H=v.el=o(v.type,N,Y&&Y.is,Y),J&8?u(H,v.children):J&16&&L(v.children,H,null,P,k,N&&Q!=="foreignObject",G,z),ge&&zn(v,null,P,"created"),K(H,v,v.scopeId,G,P),Y){for(const Ee in Y)Ee!=="value"&&!xr(Ee)&&r(H,Ee,null,Y[Ee],N,v.children,P,k,Je);"value"in Y&&r(H,"value",null,Y.value),(M=Y.onVnodeBeforeMount)&&Vt(M,P,v)}ge&&zn(v,null,P,"beforeMount");const Pe=dv(k,le);Pe&&le.beforeEnter(H),s(H,E,T),((M=Y&&Y.onVnodeMounted)||Pe||ge)&&ot(()=>{M&&Vt(M,P,v),Pe&&le.enter(H),ge&&zn(v,null,P,"mounted")},k)},K=(v,E,T,P,k)=>{if(T&&h(v,T),P)for(let N=0;N<P.length;N++)h(v,P[N]);if(k){let N=k.subTree;if(E===N){const G=k.vnode;K(v,G,G.scopeId,G.slotScopeIds,k.parent)}}},L=(v,E,T,P,k,N,G,z,H=0)=>{for(let M=H;M<v.length;M++){const Q=v[M]=z?vn(v[M]):Ht(v[M]);m(null,Q,E,T,P,k,N,G,z)}},C=(v,E,T,P,k,N,G)=>{const z=E.el=v.el;let{patchFlag:H,dynamicChildren:M,dirs:Q}=E;H|=v.patchFlag&16;const Y=v.props||Ae,J=E.props||Ae;let le;T&&Vn(T,!1),(le=J.onVnodeBeforeUpdate)&&Vt(le,T,E,v),Q&&zn(E,v,T,"beforeUpdate"),T&&Vn(T,!0);const ge=k&&E.type!=="foreignObject";if(M?R(v.dynamicChildren,M,z,T,P,ge,N):G||j(v,E,z,null,T,P,ge,N,!1),H>0){if(H&16)F(z,E,Y,J,T,P,k);else if(H&2&&Y.class!==J.class&&r(z,"class",null,J.class,k),H&4&&r(z,"style",Y.style,J.style,k),H&8){const Pe=E.dynamicProps;for(let Ee=0;Ee<Pe.length;Ee++){const Ue=Pe[Ee],xt=Y[Ue],Ss=J[Ue];(Ss!==xt||Ue==="value")&&r(z,Ue,xt,Ss,k,v.children,T,P,Je)}}H&1&&v.children!==E.children&&u(z,E.children)}else!G&&M==null&&F(z,E,Y,J,T,P,k);((le=J.onVnodeUpdated)||Q)&&ot(()=>{le&&Vt(le,T,E,v),Q&&zn(E,v,T,"updated")},P)},R=(v,E,T,P,k,N,G)=>{for(let z=0;z<E.length;z++){const H=v[z],M=E[z],Q=H.el&&(H.type===Oe||!gi(H,M)||H.shapeFlag&70)?d(H.el):T;m(H,M,Q,null,P,k,N,G,!0)}},F=(v,E,T,P,k,N,G)=>{if(T!==P){if(T!==Ae)for(const z in T)!xr(z)&&!(z in P)&&r(v,z,T[z],null,G,E.children,k,N,Je);for(const z in P){if(xr(z))continue;const H=P[z],M=T[z];H!==M&&z!=="value"&&r(v,z,M,H,G,E.children,k,N,Je)}"value"in P&&r(v,"value",T.value,P.value)}},O=(v,E,T,P,k,N,G,z,H)=>{const M=E.el=v?v.el:a(""),Q=E.anchor=v?v.anchor:a("");let{patchFlag:Y,dynamicChildren:J,slotScopeIds:le}=E;le&&(z=z?z.concat(le):le),v==null?(s(M,T,P),s(Q,T,P),L(E.children,T,Q,k,N,G,z,H)):Y>0&&Y&64&&J&&v.dynamicChildren?(R(v.dynamicChildren,J,T,k,N,G,z),(E.key!=null||k&&E===k.subTree)&&Dh(v,E,!0)):j(v,E,T,Q,k,N,G,z,H)},x=(v,E,T,P,k,N,G,z,H)=>{E.slotScopeIds=z,v==null?E.shapeFlag&512?k.ctx.activate(E,T,P,G,H):D(E,T,P,k,N,G,H):$(v,E,H)},D=(v,E,T,P,k,N,G)=>{const z=v.component=wv(v,P,k);if(Ch(v)&&(z.ctx.renderer=W),bv(z),z.asyncDep){if(k&&k.registerDep(z,V),!v.el){const H=z.subTree=fe(as);b(null,H,E,T)}return}V(z,v,E,T,k,N,G)},$=(v,E,T)=>{const P=E.component=v.component;if(L_(v,E,T))if(P.asyncDep&&!P.asyncResolved){ie(P,E,T);return}else P.next=E,R_(P.update),P.update();else E.el=v.el,P.vnode=E},V=(v,E,T,P,k,N,G)=>{const z=()=>{if(v.isMounted){let{next:Q,bu:Y,u:J,parent:le,vnode:ge}=v,Pe=Q,Ee;Vn(v,!1),Q?(Q.el=ge.el,ie(v,Q,G)):Q=ge,Y&&Ar(Y),(Ee=Q.props&&Q.props.onVnodeBeforeUpdate)&&Vt(Ee,le,Q,ge),Vn(v,!0);const Ue=da(v),xt=v.subTree;v.subTree=Ue,m(xt,Ue,d(xt.el),A(xt),v,k,N),Q.el=Ue.el,Pe===null&&M_(v,Ue.el),J&&ot(J,k),(Ee=Q.props&&Q.props.onVnodeUpdated)&&ot(()=>Vt(Ee,le,Q,ge),k)}else{let Q;const{el:Y,props:J}=E,{bm:le,m:ge,parent:Pe}=v,Ee=kr(E);if(Vn(v,!1),le&&Ar(le),!Ee&&(Q=J&&J.onVnodeBeforeMount)&&Vt(Q,Pe,E),Vn(v,!0),Y&&we){const Ue=()=>{v.subTree=da(v),we(Y,v.subTree,v,k,null)};Ee?E.type.__asyncLoader().then(()=>!v.isUnmounted&&Ue()):Ue()}else{const Ue=v.subTree=da(v);m(null,Ue,T,P,v,k,N),E.el=Ue.el}if(ge&&ot(ge,k),!Ee&&(Q=J&&J.onVnodeMounted)){const Ue=E;ot(()=>Vt(Q,Pe,Ue),k)}(E.shapeFlag&256||Pe&&kr(Pe.vnode)&&Pe.vnode.shapeFlag&256)&&v.a&&ot(v.a,k),v.isMounted=!0,E=T=P=null}},H=v.effect=new Hl(z,()=>Yl(M),v.scope),M=v.update=()=>H.run();M.id=v.uid,Vn(v,!0),M()},ie=(v,E,T)=>{E.component=v;const P=v.vnode.props;v.vnode=E,v.next=null,rv(v,E.props,P,T),lv(v,E.children,T),oi(),Ru(v),ai()},j=(v,E,T,P,k,N,G,z,H=!1)=>{const M=v&&v.children,Q=v?v.shapeFlag:0,Y=E.children,{patchFlag:J,shapeFlag:le}=E;if(J>0){if(J&128){Ce(M,Y,T,P,k,N,G,z,H);return}else if(J&256){re(M,Y,T,P,k,N,G,z,H);return}}le&8?(Q&16&&Je(M,k,N),Y!==M&&u(T,Y)):Q&16?le&16?Ce(M,Y,T,P,k,N,G,z,H):Je(M,k,N,!0):(Q&8&&u(T,""),le&16&&L(Y,T,P,k,N,G,z,H))},re=(v,E,T,P,k,N,G,z,H)=>{v=v||Ms,E=E||Ms;const M=v.length,Q=E.length,Y=Math.min(M,Q);let J;for(J=0;J<Y;J++){const le=E[J]=H?vn(E[J]):Ht(E[J]);m(v[J],le,T,null,k,N,G,z,H)}M>Q?Je(v,k,N,!0,!1,Y):L(E,T,P,k,N,G,z,H,Y)},Ce=(v,E,T,P,k,N,G,z,H)=>{let M=0;const Q=E.length;let Y=v.length-1,J=Q-1;for(;M<=Y&&M<=J;){const le=v[M],ge=E[M]=H?vn(E[M]):Ht(E[M]);if(gi(le,ge))m(le,ge,T,null,k,N,G,z,H);else break;M++}for(;M<=Y&&M<=J;){const le=v[Y],ge=E[J]=H?vn(E[J]):Ht(E[J]);if(gi(le,ge))m(le,ge,T,null,k,N,G,z,H);else break;Y--,J--}if(M>Y){if(M<=J){const le=J+1,ge=le<Q?E[le].el:P;for(;M<=J;)m(null,E[M]=H?vn(E[M]):Ht(E[M]),T,ge,k,N,G,z,H),M++}}else if(M>J)for(;M<=Y;)De(v[M],k,N,!0),M++;else{const le=M,ge=M,Pe=new Map;for(M=ge;M<=J;M++){const ft=E[M]=H?vn(E[M]):Ht(E[M]);ft.key!=null&&Pe.set(ft.key,M)}let Ee,Ue=0;const xt=J-ge+1;let Ss=!1,_u=0;const mi=new Array(xt);for(M=0;M<xt;M++)mi[M]=0;for(M=le;M<=Y;M++){const ft=v[M];if(Ue>=xt){De(ft,k,N,!0);continue}let zt;if(ft.key!=null)zt=Pe.get(ft.key);else for(Ee=ge;Ee<=J;Ee++)if(mi[Ee-ge]===0&&gi(ft,E[Ee])){zt=Ee;break}zt===void 0?De(ft,k,N,!0):(mi[zt-ge]=M+1,zt>=_u?_u=zt:Ss=!0,m(ft,E[zt],T,null,k,N,G,z,H),Ue++)}const vu=Ss?fv(mi):Ms;for(Ee=vu.length-1,M=xt-1;M>=0;M--){const ft=ge+M,zt=E[ft],yu=ft+1<Q?E[ft+1].el:P;mi[M]===0?m(null,zt,T,yu,k,N,G,z,H):Ss&&(Ee<0||M!==vu[Ee]?$e(zt,T,yu,2):Ee--)}}},$e=(v,E,T,P,k=null)=>{const{el:N,type:G,transition:z,children:H,shapeFlag:M}=v;if(M&6){$e(v.component.subTree,E,T,P);return}if(M&128){v.suspense.move(E,T,P);return}if(M&64){G.move(v,E,T,W);return}if(G===Oe){s(N,E,T);for(let Y=0;Y<H.length;Y++)$e(H[Y],E,T,P);s(v.anchor,E,T);return}if(G===Or){y(v,E,T);return}if(P!==2&&M&1&&z)if(P===0)z.beforeEnter(N),s(N,E,T),ot(()=>z.enter(N),k);else{const{leave:Y,delayLeave:J,afterLeave:le}=z,ge=()=>s(N,E,T),Pe=()=>{Y(N,()=>{ge(),le&&le()})};J?J(N,ge,Pe):Pe()}else s(N,E,T)},De=(v,E,T,P=!1,k=!1)=>{const{type:N,props:G,ref:z,children:H,dynamicChildren:M,shapeFlag:Q,patchFlag:Y,dirs:J}=v;if(z!=null&&Ja(z,null,T,v,!0),Q&256){E.ctx.deactivate(v);return}const le=Q&1&&J,ge=!kr(v);let Pe;if(ge&&(Pe=G&&G.onVnodeBeforeUnmount)&&Vt(Pe,E,v),Q&6)bt(v.component,T,P);else{if(Q&128){v.suspense.unmount(T,P);return}le&&zn(v,null,E,"beforeUnmount"),Q&64?v.type.remove(v,E,T,k,W,P):M&&(N!==Oe||Y>0&&Y&64)?Je(M,E,T,!1,!0):(N===Oe&&Y&384||!k&&Q&16)&&Je(H,E,T),P&&oe(v)}(ge&&(Pe=G&&G.onVnodeUnmounted)||le)&&ot(()=>{Pe&&Vt(Pe,E,v),le&&zn(v,null,E,"unmounted")},T)},oe=v=>{const{type:E,el:T,anchor:P,transition:k}=v;if(E===Oe){Ie(T,P);return}if(E===Or){S(v);return}const N=()=>{i(T),k&&!k.persisted&&k.afterLeave&&k.afterLeave()};if(v.shapeFlag&1&&k&&!k.persisted){const{leave:G,delayLeave:z}=k,H=()=>G(T,N);z?z(v.el,N,H):H()}else N()},Ie=(v,E)=>{let T;for(;v!==E;)T=f(v),i(v),v=T;i(E)},bt=(v,E,T)=>{const{bum:P,scope:k,update:N,subTree:G,um:z}=v;P&&Ar(P),k.stop(),N&&(N.active=!1,De(G,v,E,T)),z&&ot(z,E),ot(()=>{v.isUnmounted=!0},E),E&&E.pendingBranch&&!E.isUnmounted&&v.asyncDep&&!v.asyncResolved&&v.suspenseId===E.pendingId&&(E.deps--,E.deps===0&&E.resolve())},Je=(v,E,T,P=!1,k=!1,N=0)=>{for(let G=N;G<v.length;G++)De(v[G],E,T,P,k)},A=v=>v.shapeFlag&6?A(v.component.subTree):v.shapeFlag&128?v.suspense.next():f(v.anchor||v.el),q=(v,E,T)=>{v==null?E._vnode&&De(E._vnode,null,null,!0):m(E._vnode||null,v,E,null,null,null,T),Ru(),_h(),E._vnode=v},W={p:m,um:De,m:$e,r:oe,mt:D,mc:L,pc:j,pbc:R,n:A,o:t};let X,we;return e&&([X,we]=e(W)),{render:q,hydrate:X,createApp:nv(q,X)}}function Vn({effect:t,update:e},n){t.allowRecurse=e.allowRecurse=n}function dv(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function Dh(t,e,n=!1){const s=t.children,i=e.children;if(ne(s)&&ne(i))for(let r=0;r<s.length;r++){const o=s[r];let a=i[r];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=i[r]=vn(i[r]),a.el=o.el),n||Dh(o,a)),a.type===ko&&(a.el=o.el)}}function fv(t){const e=t.slice(),n=[0];let s,i,r,o,a;const l=t.length;for(s=0;s<l;s++){const c=t[s];if(c!==0){if(i=n[n.length-1],t[i]<c){e[s]=i,n.push(s);continue}for(r=0,o=n.length-1;r<o;)a=r+o>>1,t[n[a]]<c?r=a+1:o=a;c<t[n[r]]&&(r>0&&(e[s]=n[r-1]),n[r]=s)}}for(r=n.length,o=n[r-1];r-- >0;)n[r]=o,o=e[o];return n}const hv=t=>t.__isTeleport,Oe=Symbol.for("v-fgt"),ko=Symbol.for("v-txt"),as=Symbol.for("v-cmt"),Or=Symbol.for("v-stc"),ki=[];let Ot=null;function Z(t=!1){ki.push(Ot=t?null:[])}function pv(){ki.pop(),Ot=ki[ki.length-1]||null}let Wi=1;function Uu(t){Wi+=t}function Fh(t){return t.dynamicChildren=Wi>0?Ot||Ms:null,pv(),Wi>0&&Ot&&Ot.push(t),t}function de(t,e,n,s,i,r){return Fh(_(t,e,n,s,i,r,!0))}function Cn(t,e,n,s,i){return Fh(fe(t,e,n,s,i,!0))}function Za(t){return t?t.__v_isVNode===!0:!1}function gi(t,e){return t.type===e.type&&t.key===e.key}const Oo="__vInternal",$h=({key:t})=>t??null,Nr=({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?Be(t)||Fe(t)||ce(t)?{i:gt,r:t,k:e,f:!!n}:t:null);function _(t,e=null,n=null,s=0,i=null,r=t===Oe?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&$h(e),ref:e&&Nr(e),scopeId:xo,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:r,patchFlag:s,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:gt};return a?(tc(l,n),r&128&&t.normalize(l)):n&&(l.shapeFlag|=Be(n)?8:16),Wi>0&&!o&&Ot&&(l.patchFlag>0||r&6)&&l.patchFlag!==32&&Ot.push(l),l}const fe=mv;function mv(t,e=null,n=null,s=0,i=null,r=!1){if((!t||t===D_)&&(t=as),Za(t)){const a=Ks(t,e,!0);return n&&tc(a,n),Wi>0&&!r&&Ot&&(a.shapeFlag&6?Ot[Ot.indexOf(t)]=a:Ot.push(a)),a.patchFlag|=-2,a}if(Iv(t)&&(t=t.__vccOpts),e){e=gv(e);let{class:a,style:l}=e;a&&!Be(a)&&(e.class=zl(a)),ke(l)&&(ch(l)&&!ne(l)&&(l=Xe({},l)),e.style=Bl(l))}const o=Be(t)?1:$_(t)?128:hv(t)?64:ke(t)?4:ce(t)?2:0;return _(t,e,n,s,i,o,r,!0)}function gv(t){return t?ch(t)||Oo in t?Xe({},t):t:null}function Ks(t,e,n=!1){const{props:s,ref:i,patchFlag:r,children:o}=t,a=e?_v(s||{},e):s;return{__v_isVNode:!0,__v_skip:!0,type:t.type,props:a,key:a&&$h(a),ref:e&&e.ref?n&&i?ne(i)?i.concat(Nr(e)):[i,Nr(e)]:Nr(e):i,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:o,target:t.target,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Oe?r===-1?16:r|16:r,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:t.transition,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&Ks(t.ssContent),ssFallback:t.ssFallback&&Ks(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce}}function Et(t=" ",e=0){return fe(ko,null,t,e)}function Ut(t,e){const n=fe(Or,null,t);return n.staticCount=e,n}function Os(t="",e=!1){return e?(Z(),Cn(as,null,t)):fe(as,null,t)}function Ht(t){return t==null||typeof t=="boolean"?fe(as):ne(t)?fe(Oe,null,t.slice()):typeof t=="object"?vn(t):fe(ko,null,String(t))}function vn(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:Ks(t)}function tc(t,e){let n=0;const{shapeFlag:s}=t;if(e==null)e=null;else if(ne(e))n=16;else if(typeof e=="object")if(s&65){const i=e.default;i&&(i._c&&(i._d=!1),tc(t,i()),i._c&&(i._d=!0));return}else{n=32;const i=e._;!i&&!(Oo in e)?e._ctx=gt:i===3&&gt&&(gt.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else ce(e)?(e={default:e,_ctx:gt},n=32):(e=String(e),s&64?(n=16,e=[Et(e)]):n=8);t.children=e,t.shapeFlag|=n}function _v(...t){const e={};for(let n=0;n<t.length;n++){const s=t[n];for(const i in s)if(i==="class")e.class!==s.class&&(e.class=zl([e.class,s.class]));else if(i==="style")e.style=Bl([e.style,s.style]);else if(wo(i)){const r=e[i],o=s[i];o&&r!==o&&!(ne(r)&&r.includes(o))&&(e[i]=r?[].concat(r,o):o)}else i!==""&&(e[i]=s[i])}return e}function Vt(t,e,n,s=null){Mt(t,e,7,[n,s])}const vv=Ah();let yv=0;function wv(t,e,n){const s=t.type,i=(e?e.appContext:t.appContext)||vv,r={uid:yv++,vnode:t,type:s,parent:e,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,scope:new Kf(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(i.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Oh(s,i),emitsOptions:yh(s,i),emit:null,emitted:null,propsDefaults:Ae,inheritAttrs:s.inheritAttrs,ctx:Ae,data:Ae,props:Ae,attrs:Ae,slots:Ae,refs:Ae,setupState:Ae,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return r.ctx={_:r},r.root=e?e.root:r,r.emit=k_.bind(null,r),t.ce&&t.ce(r),r}let je=null,nc,Ts,Bu="__VUE_INSTANCE_SETTERS__";(Ts=Va()[Bu])||(Ts=Va()[Bu]=[]),Ts.push(t=>je=t),nc=t=>{Ts.length>1?Ts.forEach(e=>e(t)):Ts[0](t)};const Ys=t=>{nc(t),t.scope.on()},ts=()=>{je&&je.scope.off(),nc(null)};function Uh(t){return t.vnode.shapeFlag&4}let ji=!1;function bv(t,e=!1){ji=e;const{props:n,children:s}=t.vnode,i=Uh(t);iv(t,n,i,e),av(t,s);const r=i?Ev(t,e):void 0;return ji=!1,r}function Ev(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=Co(new Proxy(t.ctx,Y_));const{setup:s}=n;if(s){const i=t.setupContext=s.length>1?Tv(t):null;Ys(t),oi();const r=An(s,t,0,[t.props,i]);if(ai(),ts(),Hf(r)){if(r.then(ts,ts),e)return r.then(o=>{zu(t,o,e)}).catch(o=>{Io(o,t,0)});t.asyncDep=r}else zu(t,r,e)}else Bh(t,e)}function zu(t,e,n){ce(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:ke(e)&&(t.setupState=hh(e)),Bh(t,n)}let Vu;function Bh(t,e,n){const s=t.type;if(!t.render){if(!e&&Vu&&!s.render){const i=s.template||Zl(t).template;if(i){const{isCustomElement:r,compilerOptions:o}=t.appContext.config,{delimiters:a,compilerOptions:l}=s,c=Xe(Xe({isCustomElement:r,delimiters:a},o),l);s.render=Vu(i,c)}}t.render=s.render||jt}{Ys(t),oi();try{X_(t)}finally{ai(),ts()}}}function Sv(t){return t.attrsProxy||(t.attrsProxy=new Proxy(t.attrs,{get(e,n){return ut(t,"get","$attrs"),e[n]}}))}function Tv(t){const e=n=>{t.exposed=n||{}};return{get attrs(){return Sv(t)},slots:t.slots,emit:t.emit,expose:e}}function No(t){if(t.exposed)return t.exposeProxy||(t.exposeProxy=new Proxy(hh(Co(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in Ai)return Ai[n](t)},has(e,n){return n in e||n in Ai}}))}function Cv(t,e=!0){return ce(t)?t.displayName||t.name:t.name||e&&t.__name}function Iv(t){return ce(t)&&"__vccOpts"in t}const st=(t,e)=>C_(t,e,ji);function mt(t,e,n){const s=arguments.length;return s===2?ke(e)&&!ne(e)?Za(e)?fe(t,null,[e]):fe(t,e):fe(t,null,e):(s>3?n=Array.prototype.slice.call(arguments,2):s===3&&Za(n)&&(n=[n]),fe(t,e,n))}const Pv=Symbol.for("v-scx"),Rv=()=>Tt(Pv),xv="3.3.12",Av="http://www.w3.org/2000/svg",Gn=typeof document<"u"?document:null,Hu=Gn&&Gn.createElement("template"),kv={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,s)=>{const i=e?Gn.createElementNS(Av,t):Gn.createElement(t,n?{is:n}:void 0);return t==="select"&&s&&s.multiple!=null&&i.setAttribute("multiple",s.multiple),i},createText:t=>Gn.createTextNode(t),createComment:t=>Gn.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>Gn.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,s,i,r){const o=n?n.previousSibling:e.lastChild;if(i&&(i===r||i.nextSibling))for(;e.insertBefore(i.cloneNode(!0),n),!(i===r||!(i=i.nextSibling)););else{Hu.innerHTML=s?`<svg>${t}</svg>`:t;const a=Hu.content;if(s){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}e.insertBefore(a,n)}return[o?o.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}},Ov=Symbol("_vtc");function Nv(t,e,n){const s=t[Ov];s&&(e=(e?[e,...s]:[...s]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}const sc=Symbol("_vod"),Lv={beforeMount(t,{value:e},{transition:n}){t[sc]=t.style.display==="none"?"":t.style.display,n&&e?n.beforeEnter(t):_i(t,e)},mounted(t,{value:e},{transition:n}){n&&e&&n.enter(t)},updated(t,{value:e,oldValue:n},{transition:s}){!e!=!n&&(s?e?(s.beforeEnter(t),_i(t,!0),s.enter(t)):s.leave(t,()=>{_i(t,!1)}):_i(t,e))},beforeUnmount(t,{value:e}){_i(t,e)}};function _i(t,e){t.style.display=e?t[sc]:"none"}const Mv=Symbol("");function Dv(t,e,n){const s=t.style,i=Be(n);if(n&&!i){if(e&&!Be(e))for(const r in e)n[r]==null&&el(s,r,"");for(const r in n)el(s,r,n[r])}else{const r=s.display;if(i){if(e!==n){const o=s[Mv];o&&(n+=";"+o),s.cssText=n}}else e&&t.removeAttribute("style");sc in t&&(s.display=r)}}const Wu=/\s*!important$/;function el(t,e,n){if(ne(n))n.forEach(s=>el(t,e,s));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const s=Fv(t,e);Wu.test(n)?t.setProperty(ri(s),n.replace(Wu,""),"important"):t[s]=n}}const ju=["Webkit","Moz","ms"],ha={};function Fv(t,e){const n=ha[e];if(n)return n;let s=Kt(e);if(s!=="filter"&&s in t)return ha[e]=s;s=So(s);for(let i=0;i<ju.length;i++){const r=ju[i]+s;if(r in t)return ha[e]=r}return e}const Gu="http://www.w3.org/1999/xlink";function $v(t,e,n,s,i){if(s&&e.startsWith("xlink:"))n==null?t.removeAttributeNS(Gu,e.slice(6,e.length)):t.setAttributeNS(Gu,e,n);else{const r=qg(e);n==null||r&&!Gf(n)?t.removeAttribute(e):t.setAttribute(e,r?"":n)}}function Uv(t,e,n,s,i,r,o){if(e==="innerHTML"||e==="textContent"){s&&o(s,i,r),t[e]=n??"";return}const a=t.tagName;if(e==="value"&&a!=="PROGRESS"&&!a.includes("-")){t._value=n;const c=a==="OPTION"?t.getAttribute("value"):t.value,u=n??"";c!==u&&(t.value=u),n==null&&t.removeAttribute(e);return}let l=!1;if(n===""||n==null){const c=typeof t[e];c==="boolean"?n=Gf(n):n==null&&c==="string"?(n="",l=!0):c==="number"&&(n=0,l=!0)}try{t[e]=n}catch{}l&&t.removeAttribute(e)}function Ps(t,e,n,s){t.addEventListener(e,n,s)}function Bv(t,e,n,s){t.removeEventListener(e,n,s)}const qu=Symbol("_vei");function zv(t,e,n,s,i=null){const r=t[qu]||(t[qu]={}),o=r[e];if(s&&o)o.value=s;else{const[a,l]=Vv(e);if(s){const c=r[e]=jv(s,i);Ps(t,a,c,l)}else o&&(Bv(t,a,o,l),r[e]=void 0)}}const Ku=/(?:Once|Passive|Capture)$/;function Vv(t){let e;if(Ku.test(t)){e={};let s;for(;s=t.match(Ku);)t=t.slice(0,t.length-s[0].length),e[s[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):ri(t.slice(2)),e]}let pa=0;const Hv=Promise.resolve(),Wv=()=>pa||(Hv.then(()=>pa=0),pa=Date.now());function jv(t,e){const n=s=>{if(!s._vts)s._vts=Date.now();else if(s._vts<=n.attached)return;Mt(Gv(s,n.value),e,5,[s])};return n.value=t,n.attached=Wv(),n}function Gv(t,e){if(ne(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(s=>i=>!i._stopped&&s&&s(i))}else return e}const Yu=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,qv=(t,e,n,s,i=!1,r,o,a,l)=>{e==="class"?Nv(t,s,i):e==="style"?Dv(t,n,s):wo(e)?Fl(e)||zv(t,e,n,s,o):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):Kv(t,e,s,i))?Uv(t,e,s,r,o,a,l):(e==="true-value"?t._trueValue=s:e==="false-value"&&(t._falseValue=s),$v(t,e,s,i))};function Kv(t,e,n,s){if(s)return!!(e==="innerHTML"||e==="textContent"||e in t&&Yu(e)&&ce(n));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const i=t.tagName;if(i==="IMG"||i==="VIDEO"||i==="CANVAS"||i==="SOURCE")return!1}return Yu(e)&&Be(n)?!1:e in t}const Xu=t=>{const e=t.props["onUpdate:modelValue"]||!1;return ne(e)?n=>Ar(e,n):e};function Yv(t){t.target.composing=!0}function Qu(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const ma=Symbol("_assign"),Ju={created(t,{modifiers:{lazy:e,trim:n,number:s}},i){t[ma]=Xu(i);const r=s||i.props&&i.props.type==="number";Ps(t,e?"change":"input",o=>{if(o.target.composing)return;let a=t.value;n&&(a=a.trim()),r&&(a=za(a)),t[ma](a)}),n&&Ps(t,"change",()=>{t.value=t.value.trim()}),e||(Ps(t,"compositionstart",Yv),Ps(t,"compositionend",Qu),Ps(t,"change",Qu))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,modifiers:{lazy:n,trim:s,number:i}},r){if(t[ma]=Xu(r),t.composing)return;const o=i||t.type==="number"?za(t.value):t.value,a=e??"";o!==a&&(document.activeElement===t&&t.type!=="range"&&(n||s&&t.value.trim()===a)||(t.value=a))}},Xv=Xe({patchProp:qv},kv);let Zu;function Qv(){return Zu||(Zu=cv(Xv))}const Jv=(...t)=>{const e=Qv().createApp(...t),{mount:n}=e;return e.mount=s=>{const i=Zv(s);if(!i)return;const r=e._component;!ce(r)&&!r.render&&!r.template&&(r.template=i.innerHTML),i.innerHTML="";const o=n(i,!1,i instanceof SVGElement);return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),o},e};function Zv(t){return Be(t)?document.querySelector(t):t}var ey=!1;/*!
 * pinia v2.1.7
 * (c) 2023 Eduardo San Martin Morote
 * @license MIT
 */let zh;const Lo=t=>zh=t,Vh=Symbol();function tl(t){return t&&typeof t=="object"&&Object.prototype.toString.call(t)==="[object Object]"&&typeof t.toJSON!="function"}var Oi;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(Oi||(Oi={}));function ty(){const t=Yf(!0),e=t.run(()=>ae({}));let n=[],s=[];const i=Co({install(r){Lo(i),i._a=r,r.provide(Vh,i),r.config.globalProperties.$pinia=i,s.forEach(o=>n.push(o)),s=[]},use(r){return!this._a&&!ey?s.push(r):n.push(r),this},_p:n,_a:null,_e:t,_s:new Map,state:e});return i}const Hh=()=>{};function ed(t,e,n,s=Hh){t.push(e);const i=()=>{const r=t.indexOf(e);r>-1&&(t.splice(r,1),s())};return!n&&Xf()&&Yg(i),i}function Cs(t,...e){t.slice().forEach(n=>{n(...e)})}const ny=t=>t();function nl(t,e){t instanceof Map&&e instanceof Map&&e.forEach((n,s)=>t.set(s,n)),t instanceof Set&&e instanceof Set&&e.forEach(t.add,t);for(const n in e){if(!e.hasOwnProperty(n))continue;const s=e[n],i=t[n];tl(i)&&tl(s)&&t.hasOwnProperty(n)&&!Fe(s)&&!rn(s)?t[n]=nl(i,s):t[n]=s}return t}const sy=Symbol();function iy(t){return!tl(t)||!t.hasOwnProperty(sy)}const{assign:gn}=Object;function ry(t){return!!(Fe(t)&&t.effect)}function oy(t,e,n,s){const{state:i,actions:r,getters:o}=e,a=n.state.value[t];let l;function c(){a||(n.state.value[t]=i?i():{});const u=w_(n.state.value[t]);return gn(u,r,Object.keys(o||{}).reduce((d,f)=>(d[f]=Co(st(()=>{Lo(n);const h=n._s.get(t);return o[f].call(h,h)})),d),{}))}return l=Wh(t,c,e,n,s,!0),l}function Wh(t,e,n={},s,i,r){let o;const a=gn({actions:{}},n),l={deep:!0};let c,u,d=[],f=[],h;const p=s.state.value[t];!r&&!p&&(s.state.value[t]={}),ae({});let m;function w(L){let C;c=u=!1,typeof L=="function"?(L(s.state.value[t]),C={type:Oi.patchFunction,storeId:t,events:h}):(nl(s.state.value[t],L),C={type:Oi.patchObject,payload:L,storeId:t,events:h});const R=m=Symbol();Po().then(()=>{m===R&&(c=!0)}),u=!0,Cs(d,C,s.state.value[t])}const b=r?function(){const{state:C}=n,R=C?C():{};this.$patch(F=>{gn(F,R)})}:Hh;function g(){o.stop(),d=[],f=[],s._s.delete(t)}function y(L,C){return function(){Lo(s);const R=Array.from(arguments),F=[],O=[];function x(V){F.push(V)}function D(V){O.push(V)}Cs(f,{args:R,name:L,store:I,after:x,onError:D});let $;try{$=C.apply(this&&this.$id===t?this:I,R)}catch(V){throw Cs(O,V),V}return $ instanceof Promise?$.then(V=>(Cs(F,V),V)).catch(V=>(Cs(O,V),Promise.reject(V))):(Cs(F,$),$)}}const S={_p:s,$id:t,$onAction:ed.bind(null,f),$patch:w,$reset:b,$subscribe(L,C={}){const R=ed(d,L,C.detached,()=>F()),F=o.run(()=>$s(()=>s.state.value[t],O=>{(C.flush==="sync"?u:c)&&L({storeId:t,type:Oi.direct,events:h},O)},gn({},l,C)));return R},$dispose:g},I=rr(S);s._s.set(t,I);const K=(s._a&&s._a.runWithContext||ny)(()=>s._e.run(()=>(o=Yf()).run(e)));for(const L in K){const C=K[L];if(Fe(C)&&!ry(C)||rn(C))r||(p&&iy(C)&&(Fe(C)?C.value=p[L]:nl(C,p[L])),s.state.value[t][L]=C);else if(typeof C=="function"){const R=y(L,C);K[L]=R,a.actions[L]=C}}return gn(I,K),gn(_e(I),K),Object.defineProperty(I,"$state",{get:()=>s.state.value[t],set:L=>{w(C=>{gn(C,L)})}}),s._p.forEach(L=>{gn(I,o.run(()=>L({store:I,app:s._a,pinia:s,options:a})))}),p&&r&&n.hydrate&&n.hydrate(I.$state,p),c=!0,u=!0,I}function Mo(t,e,n){let s,i;const r=typeof e=="function";typeof t=="string"?(s=t,i=r?n:e):(i=t,s=t.id);function o(a,l){const c=sv();return a=a||(c?Tt(Vh,null):null),a&&Lo(a),a=zh,a._s.has(s)||(r?Wh(s,e,i,a):oy(s,i,a)),a._s.get(s)}return o.$id=s,o}function Do(t){{t=_e(t);const e={};for(const n in t){const s=t[n];(Fe(s)||rn(s))&&(e[n]=S_(t,n))}return e}}/*!
  * vue-router v4.2.5
  * (c) 2023 Eduardo San Martin Morote
  * @license MIT
  */const Rs=typeof window<"u";function ay(t){return t.__esModule||t[Symbol.toStringTag]==="Module"}const be=Object.assign;function ga(t,e){const n={};for(const s in e){const i=e[s];n[s]=Ft(i)?i.map(t):t(i)}return n}const Ni=()=>{},Ft=Array.isArray,ly=/\/$/,cy=t=>t.replace(ly,"");function _a(t,e,n="/"){let s,i={},r="",o="";const a=e.indexOf("#");let l=e.indexOf("?");return a<l&&a>=0&&(l=-1),l>-1&&(s=e.slice(0,l),r=e.slice(l+1,a>-1?a:e.length),i=t(r)),a>-1&&(s=s||e.slice(0,a),o=e.slice(a,e.length)),s=hy(s??e,n),{fullPath:s+(r&&"?")+r+o,path:s,query:i,hash:o}}function uy(t,e){const n=e.query?t(e.query):"";return e.path+(n&&"?")+n+(e.hash||"")}function td(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function dy(t,e,n){const s=e.matched.length-1,i=n.matched.length-1;return s>-1&&s===i&&Xs(e.matched[s],n.matched[i])&&jh(e.params,n.params)&&t(e.query)===t(n.query)&&e.hash===n.hash}function Xs(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function jh(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(!fy(t[n],e[n]))return!1;return!0}function fy(t,e){return Ft(t)?nd(t,e):Ft(e)?nd(e,t):t===e}function nd(t,e){return Ft(e)?t.length===e.length&&t.every((n,s)=>n===e[s]):t.length===1&&t[0]===e}function hy(t,e){if(t.startsWith("/"))return t;if(!t)return e;const n=e.split("/"),s=t.split("/"),i=s[s.length-1];(i===".."||i===".")&&s.push("");let r=n.length-1,o,a;for(o=0;o<s.length;o++)if(a=s[o],a!==".")if(a==="..")r>1&&r--;else break;return n.slice(0,r).join("/")+"/"+s.slice(o-(o===s.length?1:0)).join("/")}var Gi;(function(t){t.pop="pop",t.push="push"})(Gi||(Gi={}));var Li;(function(t){t.back="back",t.forward="forward",t.unknown=""})(Li||(Li={}));function py(t){if(!t)if(Rs){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),cy(t)}const my=/^[^#]+#/;function gy(t,e){return t.replace(my,"#")+e}function _y(t,e){const n=document.documentElement.getBoundingClientRect(),s=t.getBoundingClientRect();return{behavior:e.behavior,left:s.left-n.left-(e.left||0),top:s.top-n.top-(e.top||0)}}const Fo=()=>({left:window.pageXOffset,top:window.pageYOffset});function vy(t){let e;if("el"in t){const n=t.el,s=typeof n=="string"&&n.startsWith("#"),i=typeof n=="string"?s?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!i)return;e=_y(i,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.pageXOffset,e.top!=null?e.top:window.pageYOffset)}function sd(t,e){return(history.state?history.state.position-e:-1)+t}const sl=new Map;function yy(t,e){sl.set(t,e)}function wy(t){const e=sl.get(t);return sl.delete(t),e}let by=()=>location.protocol+"//"+location.host;function Gh(t,e){const{pathname:n,search:s,hash:i}=e,r=t.indexOf("#");if(r>-1){let a=i.includes(t.slice(r))?t.slice(r).length:1,l=i.slice(a);return l[0]!=="/"&&(l="/"+l),td(l,"")}return td(n,t)+s+i}function Ey(t,e,n,s){let i=[],r=[],o=null;const a=({state:f})=>{const h=Gh(t,location),p=n.value,m=e.value;let w=0;if(f){if(n.value=h,e.value=f,o&&o===p){o=null;return}w=m?f.position-m.position:0}else s(h);i.forEach(b=>{b(n.value,p,{delta:w,type:Gi.pop,direction:w?w>0?Li.forward:Li.back:Li.unknown})})};function l(){o=n.value}function c(f){i.push(f);const h=()=>{const p=i.indexOf(f);p>-1&&i.splice(p,1)};return r.push(h),h}function u(){const{history:f}=window;f.state&&f.replaceState(be({},f.state,{scroll:Fo()}),"")}function d(){for(const f of r)f();r=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",u)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",u,{passive:!0}),{pauseListeners:l,listen:c,destroy:d}}function id(t,e,n,s=!1,i=!1){return{back:t,current:e,forward:n,replaced:s,position:window.history.length,scroll:i?Fo():null}}function Sy(t){const{history:e,location:n}=window,s={value:Gh(t,n)},i={value:e.state};i.value||r(s.value,{back:null,current:s.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function r(l,c,u){const d=t.indexOf("#"),f=d>-1?(n.host&&document.querySelector("base")?t:t.slice(d))+l:by()+t+l;try{e[u?"replaceState":"pushState"](c,"",f),i.value=c}catch(h){console.error(h),n[u?"replace":"assign"](f)}}function o(l,c){const u=be({},e.state,id(i.value.back,l,i.value.forward,!0),c,{position:i.value.position});r(l,u,!0),s.value=l}function a(l,c){const u=be({},i.value,e.state,{forward:l,scroll:Fo()});r(u.current,u,!0);const d=be({},id(s.value,l,null),{position:u.position+1},c);r(l,d,!1),s.value=l}return{location:s,state:i,push:a,replace:o}}function Ty(t){t=py(t);const e=Sy(t),n=Ey(t,e.state,e.location,e.replace);function s(r,o=!0){o||n.pauseListeners(),history.go(r)}const i=be({location:"",base:t,go:s,createHref:gy.bind(null,t)},e,n);return Object.defineProperty(i,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(i,"state",{enumerable:!0,get:()=>e.state.value}),i}function Cy(t){return t=location.host?t||location.pathname+location.search:"",t.includes("#")||(t+="#"),Ty(t)}function Iy(t){return typeof t=="string"||t&&typeof t=="object"}function qh(t){return typeof t=="string"||typeof t=="symbol"}const pn={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},Kh=Symbol("");var rd;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(rd||(rd={}));function Qs(t,e){return be(new Error,{type:t,[Kh]:!0},e)}function Xt(t,e){return t instanceof Error&&Kh in t&&(e==null||!!(t.type&e))}const od="[^/]+?",Py={sensitive:!1,strict:!1,start:!0,end:!0},Ry=/[.+*?^${}()[\]/\\]/g;function xy(t,e){const n=be({},Py,e),s=[];let i=n.start?"^":"";const r=[];for(const c of t){const u=c.length?[]:[90];n.strict&&!c.length&&(i+="/");for(let d=0;d<c.length;d++){const f=c[d];let h=40+(n.sensitive?.25:0);if(f.type===0)d||(i+="/"),i+=f.value.replace(Ry,"\\$&"),h+=40;else if(f.type===1){const{value:p,repeatable:m,optional:w,regexp:b}=f;r.push({name:p,repeatable:m,optional:w});const g=b||od;if(g!==od){h+=10;try{new RegExp(`(${g})`)}catch(S){throw new Error(`Invalid custom RegExp for param "${p}" (${g}): `+S.message)}}let y=m?`((?:${g})(?:/(?:${g}))*)`:`(${g})`;d||(y=w&&c.length<2?`(?:/${y})`:"/"+y),w&&(y+="?"),i+=y,h+=20,w&&(h+=-8),m&&(h+=-20),g===".*"&&(h+=-50)}u.push(h)}s.push(u)}if(n.strict&&n.end){const c=s.length-1;s[c][s[c].length-1]+=.7000000000000001}n.strict||(i+="/?"),n.end?i+="$":n.strict&&(i+="(?:/|$)");const o=new RegExp(i,n.sensitive?"":"i");function a(c){const u=c.match(o),d={};if(!u)return null;for(let f=1;f<u.length;f++){const h=u[f]||"",p=r[f-1];d[p.name]=h&&p.repeatable?h.split("/"):h}return d}function l(c){let u="",d=!1;for(const f of t){(!d||!u.endsWith("/"))&&(u+="/"),d=!1;for(const h of f)if(h.type===0)u+=h.value;else if(h.type===1){const{value:p,repeatable:m,optional:w}=h,b=p in c?c[p]:"";if(Ft(b)&&!m)throw new Error(`Provided param "${p}" is an array but it is not repeatable (* or + modifiers)`);const g=Ft(b)?b.join("/"):b;if(!g)if(w)f.length<2&&(u.endsWith("/")?u=u.slice(0,-1):d=!0);else throw new Error(`Missing required param "${p}"`);u+=g}}return u||"/"}return{re:o,score:s,keys:r,parse:a,stringify:l}}function Ay(t,e){let n=0;for(;n<t.length&&n<e.length;){const s=e[n]-t[n];if(s)return s;n++}return t.length<e.length?t.length===1&&t[0]===80?-1:1:t.length>e.length?e.length===1&&e[0]===80?1:-1:0}function ky(t,e){let n=0;const s=t.score,i=e.score;for(;n<s.length&&n<i.length;){const r=Ay(s[n],i[n]);if(r)return r;n++}if(Math.abs(i.length-s.length)===1){if(ad(s))return 1;if(ad(i))return-1}return i.length-s.length}function ad(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const Oy={type:0,value:""},Ny=/[a-zA-Z0-9_]/;function Ly(t){if(!t)return[[]];if(t==="/")return[[Oy]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(h){throw new Error(`ERR (${n})/"${c}": ${h}`)}let n=0,s=n;const i=[];let r;function o(){r&&i.push(r),r=[]}let a=0,l,c="",u="";function d(){c&&(n===0?r.push({type:0,value:c}):n===1||n===2||n===3?(r.length>1&&(l==="*"||l==="+")&&e(`A repeatable param (${c}) must be alone in its segment. eg: '/:ids+.`),r.push({type:1,value:c,regexp:u,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):e("Invalid state to consume buffer"),c="")}function f(){c+=l}for(;a<t.length;){if(l=t[a++],l==="\\"&&n!==2){s=n,n=4;continue}switch(n){case 0:l==="/"?(c&&d(),o()):l===":"?(d(),n=1):f();break;case 4:f(),n=s;break;case 1:l==="("?n=2:Ny.test(l)?f():(d(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--);break;case 2:l===")"?u[u.length-1]=="\\"?u=u.slice(0,-1)+l:n=3:u+=l;break;case 3:d(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--,u="";break;default:e("Unknown state");break}}return n===2&&e(`Unfinished custom RegExp for param "${c}"`),d(),o(),i}function My(t,e,n){const s=xy(Ly(t.path),n),i=be(s,{record:t,parent:e,children:[],alias:[]});return e&&!i.record.aliasOf==!e.record.aliasOf&&e.children.push(i),i}function Dy(t,e){const n=[],s=new Map;e=ud({strict:!1,end:!0,sensitive:!1},e);function i(u){return s.get(u)}function r(u,d,f){const h=!f,p=Fy(u);p.aliasOf=f&&f.record;const m=ud(e,u),w=[p];if("alias"in u){const y=typeof u.alias=="string"?[u.alias]:u.alias;for(const S of y)w.push(be({},p,{components:f?f.record.components:p.components,path:S,aliasOf:f?f.record:p}))}let b,g;for(const y of w){const{path:S}=y;if(d&&S[0]!=="/"){const I=d.record.path,U=I[I.length-1]==="/"?"":"/";y.path=d.record.path+(S&&U+S)}if(b=My(y,d,m),f?f.alias.push(b):(g=g||b,g!==b&&g.alias.push(b),h&&u.name&&!cd(b)&&o(u.name)),p.children){const I=p.children;for(let U=0;U<I.length;U++)r(I[U],b,f&&f.children[U])}f=f||b,(b.record.components&&Object.keys(b.record.components).length||b.record.name||b.record.redirect)&&l(b)}return g?()=>{o(g)}:Ni}function o(u){if(qh(u)){const d=s.get(u);d&&(s.delete(u),n.splice(n.indexOf(d),1),d.children.forEach(o),d.alias.forEach(o))}else{const d=n.indexOf(u);d>-1&&(n.splice(d,1),u.record.name&&s.delete(u.record.name),u.children.forEach(o),u.alias.forEach(o))}}function a(){return n}function l(u){let d=0;for(;d<n.length&&ky(u,n[d])>=0&&(u.record.path!==n[d].record.path||!Yh(u,n[d]));)d++;n.splice(d,0,u),u.record.name&&!cd(u)&&s.set(u.record.name,u)}function c(u,d){let f,h={},p,m;if("name"in u&&u.name){if(f=s.get(u.name),!f)throw Qs(1,{location:u});m=f.record.name,h=be(ld(d.params,f.keys.filter(g=>!g.optional).map(g=>g.name)),u.params&&ld(u.params,f.keys.map(g=>g.name))),p=f.stringify(h)}else if("path"in u)p=u.path,f=n.find(g=>g.re.test(p)),f&&(h=f.parse(p),m=f.record.name);else{if(f=d.name?s.get(d.name):n.find(g=>g.re.test(d.path)),!f)throw Qs(1,{location:u,currentLocation:d});m=f.record.name,h=be({},d.params,u.params),p=f.stringify(h)}const w=[];let b=f;for(;b;)w.unshift(b.record),b=b.parent;return{name:m,path:p,params:h,matched:w,meta:Uy(w)}}return t.forEach(u=>r(u)),{addRoute:r,resolve:c,removeRoute:o,getRoutes:a,getRecordMatcher:i}}function ld(t,e){const n={};for(const s of e)s in t&&(n[s]=t[s]);return n}function Fy(t){return{path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:void 0,beforeEnter:t.beforeEnter,props:$y(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}}}function $y(t){const e={},n=t.props||!1;if("component"in t)e.default=n;else for(const s in t.components)e[s]=typeof n=="object"?n[s]:n;return e}function cd(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function Uy(t){return t.reduce((e,n)=>be(e,n.meta),{})}function ud(t,e){const n={};for(const s in t)n[s]=s in e?e[s]:t[s];return n}function Yh(t,e){return e.children.some(n=>n===t||Yh(t,n))}const Xh=/#/g,By=/&/g,zy=/\//g,Vy=/=/g,Hy=/\?/g,Qh=/\+/g,Wy=/%5B/g,jy=/%5D/g,Jh=/%5E/g,Gy=/%60/g,Zh=/%7B/g,qy=/%7C/g,ep=/%7D/g,Ky=/%20/g;function ic(t){return encodeURI(""+t).replace(qy,"|").replace(Wy,"[").replace(jy,"]")}function Yy(t){return ic(t).replace(Zh,"{").replace(ep,"}").replace(Jh,"^")}function il(t){return ic(t).replace(Qh,"%2B").replace(Ky,"+").replace(Xh,"%23").replace(By,"%26").replace(Gy,"`").replace(Zh,"{").replace(ep,"}").replace(Jh,"^")}function Xy(t){return il(t).replace(Vy,"%3D")}function Qy(t){return ic(t).replace(Xh,"%23").replace(Hy,"%3F")}function Jy(t){return t==null?"":Qy(t).replace(zy,"%2F")}function Wr(t){try{return decodeURIComponent(""+t)}catch{}return""+t}function Zy(t){const e={};if(t===""||t==="?")return e;const s=(t[0]==="?"?t.slice(1):t).split("&");for(let i=0;i<s.length;++i){const r=s[i].replace(Qh," "),o=r.indexOf("="),a=Wr(o<0?r:r.slice(0,o)),l=o<0?null:Wr(r.slice(o+1));if(a in e){let c=e[a];Ft(c)||(c=e[a]=[c]),c.push(l)}else e[a]=l}return e}function dd(t){let e="";for(let n in t){const s=t[n];if(n=Xy(n),s==null){s!==void 0&&(e+=(e.length?"&":"")+n);continue}(Ft(s)?s.map(r=>r&&il(r)):[s&&il(s)]).forEach(r=>{r!==void 0&&(e+=(e.length?"&":"")+n,r!=null&&(e+="="+r))})}return e}function ew(t){const e={};for(const n in t){const s=t[n];s!==void 0&&(e[n]=Ft(s)?s.map(i=>i==null?null:""+i):s==null?s:""+s)}return e}const tw=Symbol(""),fd=Symbol(""),$o=Symbol(""),rc=Symbol(""),rl=Symbol("");function vi(){let t=[];function e(s){return t.push(s),()=>{const i=t.indexOf(s);i>-1&&t.splice(i,1)}}function n(){t=[]}return{add:e,list:()=>t.slice(),reset:n}}function yn(t,e,n,s,i){const r=s&&(s.enterCallbacks[i]=s.enterCallbacks[i]||[]);return()=>new Promise((o,a)=>{const l=d=>{d===!1?a(Qs(4,{from:n,to:e})):d instanceof Error?a(d):Iy(d)?a(Qs(2,{from:e,to:d})):(r&&s.enterCallbacks[i]===r&&typeof d=="function"&&r.push(d),o())},c=t.call(s&&s.instances[i],e,n,l);let u=Promise.resolve(c);t.length<3&&(u=u.then(l)),u.catch(d=>a(d))})}function va(t,e,n,s){const i=[];for(const r of t)for(const o in r.components){let a=r.components[o];if(!(e!=="beforeRouteEnter"&&!r.instances[o]))if(nw(a)){const c=(a.__vccOpts||a)[e];c&&i.push(yn(c,n,s,r,o))}else{let l=a();i.push(()=>l.then(c=>{if(!c)return Promise.reject(new Error(`Couldn't resolve component "${o}" at "${r.path}"`));const u=ay(c)?c.default:c;r.components[o]=u;const f=(u.__vccOpts||u)[e];return f&&yn(f,n,s,r,o)()}))}}return i}function nw(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function hd(t){const e=Tt($o),n=Tt(rc),s=st(()=>e.resolve(ue(t.to))),i=st(()=>{const{matched:l}=s.value,{length:c}=l,u=l[c-1],d=n.matched;if(!u||!d.length)return-1;const f=d.findIndex(Xs.bind(null,u));if(f>-1)return f;const h=pd(l[c-2]);return c>1&&pd(u)===h&&d[d.length-1].path!==h?d.findIndex(Xs.bind(null,l[c-2])):f}),r=st(()=>i.value>-1&&rw(n.params,s.value.params)),o=st(()=>i.value>-1&&i.value===n.matched.length-1&&jh(n.params,s.value.params));function a(l={}){return iw(l)?e[ue(t.replace)?"replace":"push"](ue(t.to)).catch(Ni):Promise.resolve()}return{route:s,href:st(()=>s.value.href),isActive:r,isExactActive:o,navigate:a}}const sw=Th({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:hd,setup(t,{slots:e}){const n=rr(hd(t)),{options:s}=Tt($o),i=st(()=>({[md(t.activeClass,s.linkActiveClass,"router-link-active")]:n.isActive,[md(t.exactActiveClass,s.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const r=e.default&&e.default(n);return t.custom?r:mt("a",{"aria-current":n.isExactActive?t.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:i.value},r)}}}),xs=sw;function iw(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function rw(t,e){for(const n in e){const s=e[n],i=t[n];if(typeof s=="string"){if(s!==i)return!1}else if(!Ft(i)||i.length!==s.length||s.some((r,o)=>r!==i[o]))return!1}return!0}function pd(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const md=(t,e,n)=>t??e??n,ow=Th({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:n}){const s=Tt(rl),i=st(()=>t.route||s.value),r=Tt(fd,0),o=st(()=>{let c=ue(r);const{matched:u}=i.value;let d;for(;(d=u[c])&&!d.components;)c++;return c}),a=st(()=>i.value.matched[o.value]);Us(fd,st(()=>o.value+1)),Us(tw,a),Us(rl,i);const l=ae();return $s(()=>[l.value,a.value,t.name],([c,u,d],[f,h,p])=>{u&&(u.instances[d]=c,h&&h!==u&&c&&c===f&&(u.leaveGuards.size||(u.leaveGuards=h.leaveGuards),u.updateGuards.size||(u.updateGuards=h.updateGuards))),c&&u&&(!h||!Xs(u,h)||!f)&&(u.enterCallbacks[d]||[]).forEach(m=>m(c))},{flush:"post"}),()=>{const c=i.value,u=t.name,d=a.value,f=d&&d.components[u];if(!f)return gd(n.default,{Component:f,route:c});const h=d.props[u],p=h?h===!0?c.params:typeof h=="function"?h(c):h:null,w=mt(f,be({},p,e,{onVnodeUnmounted:b=>{b.component.isUnmounted&&(d.instances[u]=null)},ref:l}));return gd(n.default,{Component:w,route:c})||w}}});function gd(t,e){if(!t)return null;const n=t(e);return n.length===1?n[0]:n}const tp=ow;function aw(t){const e=Dy(t.routes,t),n=t.parseQuery||Zy,s=t.stringifyQuery||dd,i=t.history,r=vi(),o=vi(),a=vi(),l=__(pn);let c=pn;Rs&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const u=ga.bind(null,A=>""+A),d=ga.bind(null,Jy),f=ga.bind(null,Wr);function h(A,q){let W,X;return qh(A)?(W=e.getRecordMatcher(A),X=q):X=A,e.addRoute(X,W)}function p(A){const q=e.getRecordMatcher(A);q&&e.removeRoute(q)}function m(){return e.getRoutes().map(A=>A.record)}function w(A){return!!e.getRecordMatcher(A)}function b(A,q){if(q=be({},q||l.value),typeof A=="string"){const T=_a(n,A,q.path),P=e.resolve({path:T.path},q),k=i.createHref(T.fullPath);return be(T,P,{params:f(P.params),hash:Wr(T.hash),redirectedFrom:void 0,href:k})}let W;if("path"in A)W=be({},A,{path:_a(n,A.path,q.path).path});else{const T=be({},A.params);for(const P in T)T[P]==null&&delete T[P];W=be({},A,{params:d(T)}),q.params=d(q.params)}const X=e.resolve(W,q),we=A.hash||"";X.params=u(f(X.params));const v=uy(s,be({},A,{hash:Yy(we),path:X.path})),E=i.createHref(v);return be({fullPath:v,hash:we,query:s===dd?ew(A.query):A.query||{}},X,{redirectedFrom:void 0,href:E})}function g(A){return typeof A=="string"?_a(n,A,l.value.path):be({},A)}function y(A,q){if(c!==A)return Qs(8,{from:q,to:A})}function S(A){return K(A)}function I(A){return S(be(g(A),{replace:!0}))}function U(A){const q=A.matched[A.matched.length-1];if(q&&q.redirect){const{redirect:W}=q;let X=typeof W=="function"?W(A):W;return typeof X=="string"&&(X=X.includes("?")||X.includes("#")?X=g(X):{path:X},X.params={}),be({query:A.query,hash:A.hash,params:"path"in X?{}:A.params},X)}}function K(A,q){const W=c=b(A),X=l.value,we=A.state,v=A.force,E=A.replace===!0,T=U(W);if(T)return K(be(g(T),{state:typeof T=="object"?be({},we,T.state):we,force:v,replace:E}),q||W);const P=W;P.redirectedFrom=q;let k;return!v&&dy(s,X,W)&&(k=Qs(16,{to:P,from:X}),$e(X,X,!0,!1)),(k?Promise.resolve(k):R(P,X)).catch(N=>Xt(N)?Xt(N,2)?N:Ce(N):j(N,P,X)).then(N=>{if(N){if(Xt(N,2))return K(be({replace:E},g(N.to),{state:typeof N.to=="object"?be({},we,N.to.state):we,force:v}),q||P)}else N=O(P,X,!0,E,we);return F(P,X,N),N})}function L(A,q){const W=y(A,q);return W?Promise.reject(W):Promise.resolve()}function C(A){const q=Ie.values().next().value;return q&&typeof q.runWithContext=="function"?q.runWithContext(A):A()}function R(A,q){let W;const[X,we,v]=lw(A,q);W=va(X.reverse(),"beforeRouteLeave",A,q);for(const T of X)T.leaveGuards.forEach(P=>{W.push(yn(P,A,q))});const E=L.bind(null,A,q);return W.push(E),Je(W).then(()=>{W=[];for(const T of r.list())W.push(yn(T,A,q));return W.push(E),Je(W)}).then(()=>{W=va(we,"beforeRouteUpdate",A,q);for(const T of we)T.updateGuards.forEach(P=>{W.push(yn(P,A,q))});return W.push(E),Je(W)}).then(()=>{W=[];for(const T of v)if(T.beforeEnter)if(Ft(T.beforeEnter))for(const P of T.beforeEnter)W.push(yn(P,A,q));else W.push(yn(T.beforeEnter,A,q));return W.push(E),Je(W)}).then(()=>(A.matched.forEach(T=>T.enterCallbacks={}),W=va(v,"beforeRouteEnter",A,q),W.push(E),Je(W))).then(()=>{W=[];for(const T of o.list())W.push(yn(T,A,q));return W.push(E),Je(W)}).catch(T=>Xt(T,8)?T:Promise.reject(T))}function F(A,q,W){a.list().forEach(X=>C(()=>X(A,q,W)))}function O(A,q,W,X,we){const v=y(A,q);if(v)return v;const E=q===pn,T=Rs?history.state:{};W&&(X||E?i.replace(A.fullPath,be({scroll:E&&T&&T.scroll},we)):i.push(A.fullPath,we)),l.value=A,$e(A,q,W,E),Ce()}let x;function D(){x||(x=i.listen((A,q,W)=>{if(!bt.listening)return;const X=b(A),we=U(X);if(we){K(be(we,{replace:!0}),X).catch(Ni);return}c=X;const v=l.value;Rs&&yy(sd(v.fullPath,W.delta),Fo()),R(X,v).catch(E=>Xt(E,12)?E:Xt(E,2)?(K(E.to,X).then(T=>{Xt(T,20)&&!W.delta&&W.type===Gi.pop&&i.go(-1,!1)}).catch(Ni),Promise.reject()):(W.delta&&i.go(-W.delta,!1),j(E,X,v))).then(E=>{E=E||O(X,v,!1),E&&(W.delta&&!Xt(E,8)?i.go(-W.delta,!1):W.type===Gi.pop&&Xt(E,20)&&i.go(-1,!1)),F(X,v,E)}).catch(Ni)}))}let $=vi(),V=vi(),ie;function j(A,q,W){Ce(A);const X=V.list();return X.length?X.forEach(we=>we(A,q,W)):console.error(A),Promise.reject(A)}function re(){return ie&&l.value!==pn?Promise.resolve():new Promise((A,q)=>{$.add([A,q])})}function Ce(A){return ie||(ie=!A,D(),$.list().forEach(([q,W])=>A?W(A):q()),$.reset()),A}function $e(A,q,W,X){const{scrollBehavior:we}=t;if(!Rs||!we)return Promise.resolve();const v=!W&&wy(sd(A.fullPath,0))||(X||!W)&&history.state&&history.state.scroll||null;return Po().then(()=>we(A,q,v)).then(E=>E&&vy(E)).catch(E=>j(E,A,q))}const De=A=>i.go(A);let oe;const Ie=new Set,bt={currentRoute:l,listening:!0,addRoute:h,removeRoute:p,hasRoute:w,getRoutes:m,resolve:b,options:t,push:S,replace:I,go:De,back:()=>De(-1),forward:()=>De(1),beforeEach:r.add,beforeResolve:o.add,afterEach:a.add,onError:V.add,isReady:re,install(A){const q=this;A.component("RouterLink",xs),A.component("RouterView",tp),A.config.globalProperties.$router=q,Object.defineProperty(A.config.globalProperties,"$route",{enumerable:!0,get:()=>ue(l)}),Rs&&!oe&&l.value===pn&&(oe=!0,S(i.location).catch(we=>{}));const W={};for(const we in pn)Object.defineProperty(W,we,{get:()=>l.value[we],enumerable:!0});A.provide($o,q),A.provide(rc,ah(W)),A.provide(rl,l);const X=A.unmount;Ie.add(A),A.unmount=function(){Ie.delete(A),Ie.size<1&&(c=pn,x&&x(),x=null,l.value=pn,oe=!1,ie=!1),X()}}};function Je(A){return A.reduce((q,W)=>q.then(()=>C(W)),Promise.resolve())}return bt}function lw(t,e){const n=[],s=[],i=[],r=Math.max(e.matched.length,t.matched.length);for(let o=0;o<r;o++){const a=e.matched[o];a&&(t.matched.find(c=>Xs(c,a))?s.push(a):n.push(a));const l=t.matched[o];l&&(e.matched.find(c=>Xs(c,l))||i.push(l))}return[n,s,i]}function Bt(){return Tt($o)}function cw(){return Tt(rc)}const rt=(t,e)=>{const n=t.__vccOpts||t;for(const[s,i]of e)n[s]=i;return n},li=t=>(vt("data-v-be3539a5"),t=t(),yt(),t),uw={class:"footer"},dw={class:"container"},fw=Ut('<div class="subscribe_wrapper" data-v-be3539a5><div class="booking" data-v-be3539a5>訂閱電子報</div><div class="divider" data-v-be3539a5></div><div class="email" data-v-be3539a5><input type="email" data-v-be3539a5><button data-v-be3539a5> → </button></div><div class="check" data-v-be3539a5><input type="checkbox" id="blue" name="color" value="blue" data-v-be3539a5><p data-v-be3539a5>訂閱電子報，讓我們提供您最新的相關資訊。若您選擇訂閱，即表示您已閱讀並了解我們的隱私權政策。</p></div></div>',1),hw={class:"wrapper"},pw=li(()=>_("div",{class:"mainTitle"},"訂單與諮詢",-1)),mw=li(()=>_("div",{class:"divider"},null,-1)),gw={class:"contact"},_w=li(()=>_("p",null,"常見問答",-1)),vw=li(()=>_("p",null,"寄送規則",-1)),yw=li(()=>_("p",null,"我要退貨",-1)),ww=li(()=>_("p",null,"訂單查詢",-1)),bw=Ut('<div class="wrapper" data-v-be3539a5><div class="mainTitle" data-v-be3539a5>服務</div><div class="divider" data-v-be3539a5></div><p data-v-be3539a5>企業贈禮</p><p data-v-be3539a5>線上客服</p><p data-v-be3539a5>預約保養</p></div><div class="wrapper" data-v-be3539a5><div class="mainTitle" data-v-be3539a5>所在區域</div><div class="divider" data-v-be3539a5></div><p data-v-be3539a5>地點：台灣</p><p data-v-be3539a5>語言：繁體中文</p></div><div class="eco_wrapper" data-v-be3539a5><div class="mainTitle" data-v-be3539a5>環境永續性</div><div class="divider" data-v-be3539a5></div><p data-v-be3539a5>所有產品均為天然純素，且所有成分未進行動物測試實驗。我們是一間擁有跳躍小兔（Leaping Bunny）與 B 型共益企業（B Corporation）認證的公司。 了解更多</p></div><div class="wrapper" data-v-be3539a5><div class="mainTitle" data-v-be3539a5>關於我們</div><div class="divider" data-v-be3539a5></div><p data-v-be3539a5>品牌故事</p><p data-v-be3539a5>招聘人才</p><p data-v-be3539a5>隱私權政策</p></div><div class="wrapper" data-v-be3539a5><div class="mainTitle" data-v-be3539a5>社群媒體</div><div class="divider" data-v-be3539a5></div><p data-v-be3539a5>Instagram</p><p data-v-be3539a5>Facebook</p><p data-v-be3539a5>Twitter</p></div>',5),Ew={__name:"Footer",setup(t){return Bt(),(e,n)=>{const s=bh("RouterLink");return Z(),de("div",uw,[_("div",dw,[fw,_("div",hw,[pw,mw,_("div",gw,[fe(s,{to:"/contact"},{default:Ne(()=>[Et("聯絡我們↗")]),_:1})]),_w,vw,yw,ww]),bw])])}}},Sw=rt(Ew,[["__scopeId","data-v-be3539a5"]]);var _d={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const np={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B=function(t,e){if(!t)throw ci(e)},ci=function(t){return new Error("Firebase Database ("+np.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sp=function(t){const e=[];let n=0;for(let s=0;s<t.length;s++){let i=t.charCodeAt(s);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&s+1<t.length&&(t.charCodeAt(s+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++s)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Tw=function(t){const e=[];let n=0,s=0;for(;n<t.length;){const i=t[n++];if(i<128)e[s++]=String.fromCharCode(i);else if(i>191&&i<224){const r=t[n++];e[s++]=String.fromCharCode((i&31)<<6|r&63)}else if(i>239&&i<365){const r=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(r&63)<<12|(o&63)<<6|a&63)-65536;e[s++]=String.fromCharCode(55296+(l>>10)),e[s++]=String.fromCharCode(56320+(l&1023))}else{const r=t[n++],o=t[n++];e[s++]=String.fromCharCode((i&15)<<12|(r&63)<<6|o&63)}}return e.join("")},oc={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let i=0;i<t.length;i+=3){const r=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,c=l?t[i+2]:0,u=r>>2,d=(r&3)<<4|a>>4;let f=(a&15)<<2|c>>6,h=c&63;l||(h=64,o||(f=64)),s.push(n[u],n[d],n[f],n[h])}return s.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(sp(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Tw(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let i=0;i<t.length;){const r=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,r==null||a==null||c==null||d==null)throw new Cw;const f=r<<2|a>>4;if(s.push(f),c!==64){const h=a<<4&240|c>>2;if(s.push(h),d!==64){const p=c<<6&192|d;s.push(p)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Cw extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ip=function(t){const e=sp(t);return oc.encodeByteArray(e,!0)},jr=function(t){return ip(t).replace(/\./g,"")},Gr=function(t){try{return oc.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iw(t){return rp(void 0,t)}function rp(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!Pw(n)||(t[n]=rp(t[n],e[n]));return t}function Pw(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rw(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xw=()=>Rw().__FIREBASE_DEFAULTS__,Aw=()=>{if(typeof process>"u"||typeof _d>"u")return;const t=_d.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},kw=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Gr(t[1]);return e&&JSON.parse(e)},ac=()=>{try{return xw()||Aw()||kw()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},op=t=>{var e,n;return(n=(e=ac())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},lc=t=>{const e=op(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},ap=()=>{var t;return(t=ac())===null||t===void 0?void 0:t.config},lp=t=>{var e;return(e=ac())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class or{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cp(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",i=t.iat||0,r=t.sub||t.user_id;if(!r)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:i,exp:i+3600,auth_time:i,sub:r,user_id:r,firebase:{sign_in_provider:"custom",identities:{}}},t),a="";return[jr(JSON.stringify(n)),jr(JSON.stringify(o)),a].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function et(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function cc(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(et())}function Ow(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function up(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Nw(){const t=et();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function dp(){return np.NODE_ADMIN===!0}function Lw(){try{return typeof indexedDB=="object"}catch{return!1}}function Mw(){return new Promise((t,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(s);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(s),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var r;e(((r=i.error)===null||r===void 0?void 0:r.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dw="FirebaseError";class dn extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=Dw,Object.setPrototypeOf(this,dn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ar.prototype.create)}}class ar{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},i=`${this.service}/${e}`,r=this.errors[e],o=r?Fw(r,s):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new dn(i,a,s)}}function Fw(t,e){return t.replace($w,(n,s)=>{const i=e[s];return i!=null?String(i):`<${s}?>`})}const $w=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qi(t){return JSON.parse(t)}function Ge(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fp=function(t){let e={},n={},s={},i="";try{const r=t.split(".");e=qi(Gr(r[0])||""),n=qi(Gr(r[1])||""),i=r[2],s=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:s,signature:i}},Uw=function(t){const e=fp(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},Bw=function(t){const e=fp(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yt(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Js(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function ol(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function qr(t,e,n){const s={};for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(s[i]=e.call(n,t[i],i,t));return s}function Kr(t,e){if(t===e)return!0;const n=Object.keys(t),s=Object.keys(e);for(const i of n){if(!s.includes(i))return!1;const r=t[i],o=e[i];if(vd(r)&&vd(o)){if(!Kr(r,o))return!1}else if(r!==o)return!1}for(const i of s)if(!n.includes(i))return!1;return!0}function vd(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ui(t){const e=[];for(const[n,s]of Object.entries(t))Array.isArray(s)?s.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Pi(t){const e={};return t.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[i,r]=s.split("=");e[decodeURIComponent(i)]=decodeURIComponent(r)}}),e}function Ri(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zw{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const s=this.W_;if(typeof e=="string")for(let d=0;d<16;d++)s[d]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let d=0;d<16;d++)s[d]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let d=16;d<80;d++){const f=s[d-3]^s[d-8]^s[d-14]^s[d-16];s[d]=(f<<1|f>>>31)&4294967295}let i=this.chain_[0],r=this.chain_[1],o=this.chain_[2],a=this.chain_[3],l=this.chain_[4],c,u;for(let d=0;d<80;d++){d<40?d<20?(c=a^r&(o^a),u=1518500249):(c=r^o^a,u=1859775393):d<60?(c=r&o|a&(r|o),u=2400959708):(c=r^o^a,u=3395469782);const f=(i<<5|i>>>27)+c+l+u+s[d]&4294967295;l=a,a=o,o=(r<<30|r>>>2)&4294967295,r=i,i=f}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+r&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const s=n-this.blockSize;let i=0;const r=this.buf_;let o=this.inbuf_;for(;i<n;){if(o===0)for(;i<=s;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<n;)if(r[o]=e.charCodeAt(i),++o,++i,o===this.blockSize){this.compress_(r),o=0;break}}else for(;i<n;)if(r[o]=e[i],++o,++i,o===this.blockSize){this.compress_(r),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let s=0;for(let i=0;i<5;i++)for(let r=24;r>=0;r-=8)e[s]=this.chain_[i]>>r&255,++s;return e}}function Vw(t,e){const n=new Hw(t,e);return n.subscribe.bind(n)}class Hw{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let i;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");Ww(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:s},i.next===void 0&&(i.next=ya),i.error===void 0&&(i.error=ya),i.complete===void 0&&(i.complete=ya);const r=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),r}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Ww(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function ya(){}function Uo(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jw=function(t){const e=[];let n=0;for(let s=0;s<t.length;s++){let i=t.charCodeAt(s);if(i>=55296&&i<=56319){const r=i-55296;s++,B(s<t.length,"Surrogate pair missing trail surrogate.");const o=t.charCodeAt(s)-56320;i=65536+(r<<10)+o}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Bo=function(t){let e=0;for(let n=0;n<t.length;n++){const s=t.charCodeAt(n);s<128?e++:s<2048?e+=2:s>=55296&&s<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ze(t){return t&&t._delegate?t._delegate:t}class an{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hn="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gw{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new or;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&s.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(r){if(i)return null;throw r}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Kw(e))try{this.getOrInitializeService({instanceIdentifier:Hn})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const r=this.getOrInitializeService({instanceIdentifier:i});s.resolve(r)}catch{}}}}clearInstance(e=Hn){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Hn){return this.instances.has(e)}getOptions(e=Hn){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[r,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(r);s===a&&o.resolve(i)}return i}onInit(e,n){var s;const i=this.normalizeInstanceIdentifier(n),r=(s=this.onInitCallbacks.get(i))!==null&&s!==void 0?s:new Set;r.add(e),this.onInitCallbacks.set(i,r);const o=this.instances.get(i);return o&&e(o,i),()=>{r.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const i of s)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:qw(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Hn){return this.component?this.component.multipleInstances?e:Hn:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function qw(t){return t===Hn?void 0:t}function Kw(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yw{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Gw(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Se;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Se||(Se={}));const Xw={debug:Se.DEBUG,verbose:Se.VERBOSE,info:Se.INFO,warn:Se.WARN,error:Se.ERROR,silent:Se.SILENT},Qw=Se.INFO,Jw={[Se.DEBUG]:"log",[Se.VERBOSE]:"log",[Se.INFO]:"info",[Se.WARN]:"warn",[Se.ERROR]:"error"},Zw=(t,e,...n)=>{if(e<t.logLevel)return;const s=new Date().toISOString(),i=Jw[e];if(i)console[i](`[${s}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class uc{constructor(e){this.name=e,this._logLevel=Qw,this._logHandler=Zw,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Se))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Xw[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Se.DEBUG,...e),this._logHandler(this,Se.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Se.VERBOSE,...e),this._logHandler(this,Se.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Se.INFO,...e),this._logHandler(this,Se.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Se.WARN,...e),this._logHandler(this,Se.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Se.ERROR,...e),this._logHandler(this,Se.ERROR,...e)}}const e0=(t,e)=>e.some(n=>t instanceof n);let yd,wd;function t0(){return yd||(yd=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function n0(){return wd||(wd=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const hp=new WeakMap,al=new WeakMap,pp=new WeakMap,wa=new WeakMap,dc=new WeakMap;function s0(t){const e=new Promise((n,s)=>{const i=()=>{t.removeEventListener("success",r),t.removeEventListener("error",o)},r=()=>{n(kn(t.result)),i()},o=()=>{s(t.error),i()};t.addEventListener("success",r),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&hp.set(n,t)}).catch(()=>{}),dc.set(e,t),e}function i0(t){if(al.has(t))return;const e=new Promise((n,s)=>{const i=()=>{t.removeEventListener("complete",r),t.removeEventListener("error",o),t.removeEventListener("abort",o)},r=()=>{n(),i()},o=()=>{s(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",r),t.addEventListener("error",o),t.addEventListener("abort",o)});al.set(t,e)}let ll={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return al.get(t);if(e==="objectStoreNames")return t.objectStoreNames||pp.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return kn(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function r0(t){ll=t(ll)}function o0(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=t.call(ba(this),e,...n);return pp.set(s,e.sort?e.sort():[e]),kn(s)}:n0().includes(t)?function(...e){return t.apply(ba(this),e),kn(hp.get(this))}:function(...e){return kn(t.apply(ba(this),e))}}function a0(t){return typeof t=="function"?o0(t):(t instanceof IDBTransaction&&i0(t),e0(t,t0())?new Proxy(t,ll):t)}function kn(t){if(t instanceof IDBRequest)return s0(t);if(wa.has(t))return wa.get(t);const e=a0(t);return e!==t&&(wa.set(t,e),dc.set(e,t)),e}const ba=t=>dc.get(t);function l0(t,e,{blocked:n,upgrade:s,blocking:i,terminated:r}={}){const o=indexedDB.open(t,e),a=kn(o);return s&&o.addEventListener("upgradeneeded",l=>{s(kn(o.result),l.oldVersion,l.newVersion,kn(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{r&&l.addEventListener("close",()=>r()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const c0=["get","getKey","getAll","getAllKeys","count"],u0=["put","add","delete","clear"],Ea=new Map;function bd(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Ea.get(e))return Ea.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,i=u0.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(i||c0.includes(n)))return;const r=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let c=l.store;return s&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),i&&l.done]))[0]};return Ea.set(e,r),r}r0(t=>({...t,get:(e,n,s)=>bd(e,n)||t.get(e,n,s),has:(e,n)=>!!bd(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d0{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(f0(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function f0(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const cl="@firebase/app",Ed="0.9.29";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ls=new uc("@firebase/app"),h0="@firebase/app-compat",p0="@firebase/analytics-compat",m0="@firebase/analytics",g0="@firebase/app-check-compat",_0="@firebase/app-check",v0="@firebase/auth",y0="@firebase/auth-compat",w0="@firebase/database",b0="@firebase/database-compat",E0="@firebase/functions",S0="@firebase/functions-compat",T0="@firebase/installations",C0="@firebase/installations-compat",I0="@firebase/messaging",P0="@firebase/messaging-compat",R0="@firebase/performance",x0="@firebase/performance-compat",A0="@firebase/remote-config",k0="@firebase/remote-config-compat",O0="@firebase/storage",N0="@firebase/storage-compat",L0="@firebase/firestore",M0="@firebase/firestore-compat",D0="firebase",F0="10.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ul="[DEFAULT]",$0={[cl]:"fire-core",[h0]:"fire-core-compat",[m0]:"fire-analytics",[p0]:"fire-analytics-compat",[_0]:"fire-app-check",[g0]:"fire-app-check-compat",[v0]:"fire-auth",[y0]:"fire-auth-compat",[w0]:"fire-rtdb",[b0]:"fire-rtdb-compat",[E0]:"fire-fn",[S0]:"fire-fn-compat",[T0]:"fire-iid",[C0]:"fire-iid-compat",[I0]:"fire-fcm",[P0]:"fire-fcm-compat",[R0]:"fire-perf",[x0]:"fire-perf-compat",[A0]:"fire-rc",[k0]:"fire-rc-compat",[O0]:"fire-gcs",[N0]:"fire-gcs-compat",[L0]:"fire-fst",[M0]:"fire-fst-compat","fire-js":"fire-js",[D0]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yr=new Map,dl=new Map;function U0(t,e){try{t.container.addComponent(e)}catch(n){ls.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Mn(t){const e=t.name;if(dl.has(e))return ls.debug(`There were multiple attempts to register component ${e}.`),!1;dl.set(e,t);for(const n of Yr.values())U0(n,t);return!0}function lr(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B0={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},On=new ar("app","Firebase",B0);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z0{constructor(e,n,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new an("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw On.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ys=F0;function mp(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const s=Object.assign({name:ul,automaticDataCollectionEnabled:!1},e),i=s.name;if(typeof i!="string"||!i)throw On.create("bad-app-name",{appName:String(i)});if(n||(n=ap()),!n)throw On.create("no-options");const r=Yr.get(i);if(r){if(Kr(n,r.options)&&Kr(s,r.config))return r;throw On.create("duplicate-app",{appName:i})}const o=new Yw(i);for(const l of dl.values())o.addComponent(l);const a=new z0(n,s,o);return Yr.set(i,a),a}function zo(t=ul){const e=Yr.get(t);if(!e&&t===ul&&ap())return mp();if(!e)throw On.create("no-app",{appName:t});return e}function Ct(t,e,n){var s;let i=(s=$0[t])!==null&&s!==void 0?s:t;n&&(i+=`-${n}`);const r=i.match(/\s|\//),o=e.match(/\s|\//);if(r||o){const a=[`Unable to register library "${i}" with version "${e}":`];r&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),r&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ls.warn(a.join(" "));return}Mn(new an(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V0="firebase-heartbeat-database",H0=1,Ki="firebase-heartbeat-store";let Sa=null;function gp(){return Sa||(Sa=l0(V0,H0,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Ki)}catch(n){console.warn(n)}}}}).catch(t=>{throw On.create("idb-open",{originalErrorMessage:t.message})})),Sa}async function W0(t){try{const n=(await gp()).transaction(Ki),s=await n.objectStore(Ki).get(_p(t));return await n.done,s}catch(e){if(e instanceof dn)ls.warn(e.message);else{const n=On.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ls.warn(n.message)}}}async function Sd(t,e){try{const s=(await gp()).transaction(Ki,"readwrite");await s.objectStore(Ki).put(e,_p(t)),await s.done}catch(n){if(n instanceof dn)ls.warn(n.message);else{const s=On.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ls.warn(s.message)}}}function _p(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j0=1024,G0=30*24*60*60*1e3;class q0{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Y0(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,n;const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Td();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(o=>o.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=G0}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Td(),{heartbeatsToSend:s,unsentEntries:i}=K0(this._heartbeatsCache.heartbeats),r=jr(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}}function Td(){return new Date().toISOString().substring(0,10)}function K0(t,e=j0){const n=[];let s=t.slice();for(const i of t){const r=n.find(o=>o.agent===i.agent);if(r){if(r.dates.push(i.date),Cd(n)>e){r.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Cd(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class Y0{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Lw()?Mw().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await W0(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Sd(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Sd(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function Cd(t){return jr(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X0(t){Mn(new an("platform-logger",e=>new d0(e),"PRIVATE")),Mn(new an("heartbeat",e=>new q0(e),"PRIVATE")),Ct(cl,Ed,t),Ct(cl,Ed,"esm2017"),Ct("fire-js","")}X0("");function fc(t,e){var n={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.indexOf(s)<0&&(n[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,s=Object.getOwnPropertySymbols(t);i<s.length;i++)e.indexOf(s[i])<0&&Object.prototype.propertyIsEnumerable.call(t,s[i])&&(n[s[i]]=t[s[i]]);return n}function vp(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Q0=vp,yp=new ar("auth","Firebase",vp());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xr=new uc("@firebase/auth");function J0(t,...e){Xr.logLevel<=Se.WARN&&Xr.warn(`Auth (${ys}): ${t}`,...e)}function Lr(t,...e){Xr.logLevel<=Se.ERROR&&Xr.error(`Auth (${ys}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pt(t,...e){throw hc(t,...e)}function Gt(t,...e){return hc(t,...e)}function wp(t,e,n){const s=Object.assign(Object.assign({},Q0()),{[e]:n});return new ar("auth","Firebase",s).create(e,{appName:t.name})}function Z0(t,e,n){const s=n;if(!(e instanceof s))throw s.name!==e.constructor.name&&Pt(t,"argument-error"),wp(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function hc(t,...e){if(typeof t!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=t.name),t._errorFactory.create(n,...s)}return yp.create(t,...e)}function se(t,e,...n){if(!t)throw hc(e,...n)}function en(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Lr(e),new Error(e)}function ln(t,e){t||en(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fl(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function eb(){return Id()==="http:"||Id()==="https:"}function Id(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tb(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(eb()||Ow()||"connection"in navigator)?navigator.onLine:!0}function nb(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cr{constructor(e,n){this.shortDelay=e,this.longDelay=n,ln(n>e,"Short delay should be less than long delay!"),this.isMobile=cc()||up()}get(){return tb()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pc(t,e){ln(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bp{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;en("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;en("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;en("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sb={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ib=new cr(3e4,6e4);function $n(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Un(t,e,n,s,i={}){return Ep(t,i,async()=>{let r={},o={};s&&(e==="GET"?o=s:r={body:JSON.stringify(s)});const a=ui(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),bp.fetch()(Sp(t,t.config.apiHost,n,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},r))})}async function Ep(t,e,n){t._canInitEmulator=!1;const s=Object.assign(Object.assign({},sb),e);try{const i=new ob(t),r=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await r.json();if("needConfirmation"in o)throw Sr(t,"account-exists-with-different-credential",o);if(r.ok&&!("errorMessage"in o))return o;{const a=r.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Sr(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Sr(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw Sr(t,"user-disabled",o);const u=s[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw wp(t,u,c);Pt(t,u)}}catch(i){if(i instanceof dn)throw i;Pt(t,"network-request-failed",{message:String(i)})}}async function ur(t,e,n,s,i={}){const r=await Un(t,e,n,s,i);return"mfaPendingCredential"in r&&Pt(t,"multi-factor-auth-required",{_serverResponse:r}),r}function Sp(t,e,n,s){const i=`${e}${n}?${s}`;return t.config.emulator?pc(t.config,i):`${t.config.apiScheme}://${i}`}function rb(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class ob{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Gt(this.auth,"network-request-failed")),ib.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Sr(t,e,n){const s={appName:t.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const i=Gt(t,e,s);return i.customData._tokenResponse=n,i}function Pd(t){return t!==void 0&&t.enterprise!==void 0}class ab{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return rb(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function lb(t,e){return Un(t,"GET","/v2/recaptchaConfig",$n(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cb(t,e){return Un(t,"POST","/v1/accounts:delete",e)}async function ub(t,e){return Un(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mi(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function db(t,e=!1){const n=ze(t),s=await n.getIdToken(e),i=mc(s);se(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const r=typeof i.firebase=="object"?i.firebase:void 0,o=r==null?void 0:r.sign_in_provider;return{claims:i,token:s,authTime:Mi(Ta(i.auth_time)),issuedAtTime:Mi(Ta(i.iat)),expirationTime:Mi(Ta(i.exp)),signInProvider:o||null,signInSecondFactor:(r==null?void 0:r.sign_in_second_factor)||null}}function Ta(t){return Number(t)*1e3}function mc(t){const[e,n,s]=t.split(".");if(e===void 0||n===void 0||s===void 0)return Lr("JWT malformed, contained fewer than 3 sections"),null;try{const i=Gr(n);return i?JSON.parse(i):(Lr("Failed to decode base64 JWT payload"),null)}catch(i){return Lr("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function fb(t){const e=mc(t);return se(e,"internal-error"),se(typeof e.exp<"u","internal-error"),se(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yi(t,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof dn&&hb(s)&&t.auth.currentUser===t&&await t.auth.signOut(),s}}function hb({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pb{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tp{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Mi(this.lastLoginAt),this.creationTime=Mi(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qr(t){var e;const n=t.auth,s=await t.getIdToken(),i=await Yi(t,ub(n,{idToken:s}));se(i==null?void 0:i.users.length,n,"internal-error");const r=i.users[0];t._notifyReloadListener(r);const o=!((e=r.providerUserInfo)===null||e===void 0)&&e.length?_b(r.providerUserInfo):[],a=gb(t.providerData,o),l=t.isAnonymous,c=!(t.email&&r.passwordHash)&&!(a!=null&&a.length),u=l?c:!1,d={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:a,metadata:new Tp(r.createdAt,r.lastLoginAt),isAnonymous:u};Object.assign(t,d)}async function mb(t){const e=ze(t);await Qr(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function gb(t,e){return[...t.filter(s=>!e.some(i=>i.providerId===s.providerId)),...e]}function _b(t){return t.map(e=>{var{providerId:n}=e,s=fc(e,["providerId"]);return{providerId:n,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vb(t,e){const n=await Ep(t,{},async()=>{const s=ui({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:r}=t.config,o=Sp(t,i,"/v1/token",`key=${r}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",bp.fetch()(o,{method:"POST",headers:a,body:s})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function yb(t,e){return Un(t,"POST","/v2/accounts:revokeToken",$n(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xi{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){se(e.idToken,"internal-error"),se(typeof e.idToken<"u","internal-error"),se(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):fb(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return se(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:i,expiresIn:r}=await vb(e,n);this.updateTokensAndExpiration(s,i,Number(r))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:i,expirationTime:r}=n,o=new Xi;return s&&(se(typeof s=="string","internal-error",{appName:e}),o.refreshToken=s),i&&(se(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),r&&(se(typeof r=="number","internal-error",{appName:e}),o.expirationTime=r),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Xi,this.toJSON())}_performRefresh(){return en("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mn(t,e){se(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class ns{constructor(e){var{uid:n,auth:s,stsTokenManager:i}=e,r=fc(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new pb(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=s,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=r.displayName||null,this.email=r.email||null,this.emailVerified=r.emailVerified||!1,this.phoneNumber=r.phoneNumber||null,this.photoURL=r.photoURL||null,this.isAnonymous=r.isAnonymous||!1,this.tenantId=r.tenantId||null,this.providerData=r.providerData?[...r.providerData]:[],this.metadata=new Tp(r.createdAt||void 0,r.lastLoginAt||void 0)}async getIdToken(e){const n=await Yi(this,this.stsTokenManager.getToken(this.auth,e));return se(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return db(this,e)}reload(){return mb(this)}_assign(e){this!==e&&(se(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ns(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){se(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await Qr(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await Yi(this,cb(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var s,i,r,o,a,l,c,u;const d=(s=n.displayName)!==null&&s!==void 0?s:void 0,f=(i=n.email)!==null&&i!==void 0?i:void 0,h=(r=n.phoneNumber)!==null&&r!==void 0?r:void 0,p=(o=n.photoURL)!==null&&o!==void 0?o:void 0,m=(a=n.tenantId)!==null&&a!==void 0?a:void 0,w=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,b=(c=n.createdAt)!==null&&c!==void 0?c:void 0,g=(u=n.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:y,emailVerified:S,isAnonymous:I,providerData:U,stsTokenManager:K}=n;se(y&&K,e,"internal-error");const L=Xi.fromJSON(this.name,K);se(typeof y=="string",e,"internal-error"),mn(d,e.name),mn(f,e.name),se(typeof S=="boolean",e,"internal-error"),se(typeof I=="boolean",e,"internal-error"),mn(h,e.name),mn(p,e.name),mn(m,e.name),mn(w,e.name),mn(b,e.name),mn(g,e.name);const C=new ns({uid:y,auth:e,email:f,emailVerified:S,displayName:d,isAnonymous:I,photoURL:p,phoneNumber:h,tenantId:m,stsTokenManager:L,createdAt:b,lastLoginAt:g});return U&&Array.isArray(U)&&(C.providerData=U.map(R=>Object.assign({},R))),w&&(C._redirectEventId=w),C}static async _fromIdTokenResponse(e,n,s=!1){const i=new Xi;i.updateFromServerResponse(n);const r=new ns({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:s});return await Qr(r),r}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rd=new Map;function tn(t){ln(t instanceof Function,"Expected a class definition");let e=Rd.get(t);return e?(ln(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Rd.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cp{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}Cp.type="NONE";const xd=Cp;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mr(t,e,n){return`firebase:${t}:${e}:${n}`}class Bs{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:i,name:r}=this.auth;this.fullUserKey=Mr(this.userKey,i.apiKey,r),this.fullPersistenceKey=Mr("persistence",i.apiKey,r),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?ns._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new Bs(tn(xd),e,s);const i=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let r=i[0]||tn(xd);const o=Mr(s,e.config.apiKey,e.name);let a=null;for(const c of n)try{const u=await c._get(o);if(u){const d=ns._fromJSON(e,u);c!==r&&(a=d),r=c;break}}catch{}const l=i.filter(c=>c._shouldAllowMigration);return!r._shouldAllowMigration||!l.length?new Bs(r,e,s):(r=l[0],a&&await r._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==r)try{await c._remove(o)}catch{}})),new Bs(r,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ad(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Rp(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Ip(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Ap(e))return"Blackberry";if(kp(e))return"Webos";if(gc(e))return"Safari";if((e.includes("chrome/")||Pp(e))&&!e.includes("edge/"))return"Chrome";if(xp(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=t.match(n);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function Ip(t=et()){return/firefox\//i.test(t)}function gc(t=et()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Pp(t=et()){return/crios\//i.test(t)}function Rp(t=et()){return/iemobile/i.test(t)}function xp(t=et()){return/android/i.test(t)}function Ap(t=et()){return/blackberry/i.test(t)}function kp(t=et()){return/webos/i.test(t)}function Vo(t=et()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function wb(t=et()){var e;return Vo(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function bb(){return Nw()&&document.documentMode===10}function Op(t=et()){return Vo(t)||xp(t)||kp(t)||Ap(t)||/windows phone/i.test(t)||Rp(t)}function Eb(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Np(t,e=[]){let n;switch(t){case"Browser":n=Ad(et());break;case"Worker":n=`${Ad(et())}-${t}`;break;default:n=t}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ys}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sb{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=r=>new Promise((o,a)=>{try{const l=e(r);o(l)}catch(l){a(l)}});s.onAbort=n,this.queue.push(s);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tb(t,e={}){return Un(t,"GET","/v2/passwordPolicy",$n(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cb=6;class Ib{constructor(e){var n,s,i,r;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:Cb,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(s=e.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(r=e.forceUpgradeOnSignin)!==null&&r!==void 0?r:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,s,i,r,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(s=l.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(r=l.containsUppercaseLetter)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let i=0;i<e.length;i++)s=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,i,r){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pb{constructor(e,n,s,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new kd(this),this.idTokenSubscription=new kd(this),this.beforeStateQueue=new Sb(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=yp,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=tn(n)),this._initializationPromise=this.queue(async()=>{var s,i;if(!this._deleted&&(this.persistenceManager=await Bs.create(this,e),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const s=await this.assertedPersistence.getCurrentUser();let i=s,r=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,r=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(r)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return se(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Qr(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=nb()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?ze(e):null;return n&&se(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&se(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(tn(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Tb(this),n=new Ib(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new ar("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await yb(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&tn(e)||this._popupRedirectResolver;se(n,this,"argument-error"),this.redirectPersistenceManager=await Bs.create(this,[tn(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,i){if(this._deleted)return()=>{};const r=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(se(a,this,"internal-error"),a.then(()=>{o||r(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,s,i);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return se(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Np(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const s=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());s&&(n["X-Firebase-Client"]=s);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&J0(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Bn(t){return ze(t)}class kd{constructor(e){this.auth=e,this.observer=null,this.addObserver=Vw(n=>this.observer=n)}get next(){return se(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ho={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Rb(t){Ho=t}function Lp(t){return Ho.loadJS(t)}function xb(){return Ho.recaptchaEnterpriseScript}function Ab(){return Ho.gapiScript}function kb(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const Ob="recaptcha-enterprise",Nb="NO_RECAPTCHA";class Lb{constructor(e){this.type=Ob,this.auth=Bn(e)}async verify(e="verify",n=!1){async function s(r){if(!n){if(r.tenantId==null&&r._agentRecaptchaConfig!=null)return r._agentRecaptchaConfig.siteKey;if(r.tenantId!=null&&r._tenantRecaptchaConfigs[r.tenantId]!==void 0)return r._tenantRecaptchaConfigs[r.tenantId].siteKey}return new Promise(async(o,a)=>{lb(r,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const c=new ab(l);return r.tenantId==null?r._agentRecaptchaConfig=c:r._tenantRecaptchaConfigs[r.tenantId]=c,o(c.siteKey)}}).catch(l=>{a(l)})})}function i(r,o,a){const l=window.grecaptcha;Pd(l)?l.enterprise.ready(()=>{l.enterprise.execute(r,{action:e}).then(c=>{o(c)}).catch(()=>{o(Nb)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((r,o)=>{s(this.auth).then(a=>{if(!n&&Pd(window.grecaptcha))i(a,r,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=xb();l.length!==0&&(l+=a),Lp(l).then(()=>{i(a,r,o)}).catch(c=>{o(c)})}}).catch(a=>{o(a)})})}}async function Od(t,e,n,s=!1){const i=new Lb(t);let r;try{r=await i.verify(n)}catch{r=await i.verify(n,!0)}const o=Object.assign({},e);return s?Object.assign(o,{captchaResp:r}):Object.assign(o,{captchaResponse:r}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function hl(t,e,n,s){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const r=await Od(t,e,n,n==="getOobCode");return s(t,r)}else return s(t,e).catch(async r=>{if(r.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await Od(t,e,n,n==="getOobCode");return s(t,o)}else return Promise.reject(r)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mb(t,e){const n=lr(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),r=n.getOptions();if(Kr(r,e??{}))return i;Pt(i,"already-initialized")}return n.initialize({options:e})}function Db(t,e){const n=(e==null?void 0:e.persistence)||[],s=(Array.isArray(n)?n:[n]).map(tn);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function Fb(t,e,n){const s=Bn(t);se(s._canInitEmulator,s,"emulator-config-failed"),se(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),r=Mp(e),{host:o,port:a}=$b(e),l=a===null?"":`:${a}`;s.config.emulator={url:`${r}//${o}${l}/`},s.settings.appVerificationDisabledForTesting=!0,s.emulatorConfig=Object.freeze({host:o,port:a,protocol:r.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||Ub()}function Mp(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function $b(t){const e=Mp(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(s);if(i){const r=i[1];return{host:r,port:Nd(s.substr(r.length+1))}}else{const[r,o]=s.split(":");return{host:r,port:Nd(o)}}}function Nd(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function Ub(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _c{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return en("not implemented")}_getIdTokenResponse(e){return en("not implemented")}_linkToIdToken(e,n){return en("not implemented")}_getReauthenticationResolver(e){return en("not implemented")}}async function Bb(t,e){return Un(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zb(t,e){return ur(t,"POST","/v1/accounts:signInWithPassword",$n(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vb(t,e){return ur(t,"POST","/v1/accounts:signInWithEmailLink",$n(t,e))}async function Hb(t,e){return ur(t,"POST","/v1/accounts:signInWithEmailLink",$n(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qi extends _c{constructor(e,n,s,i=null){super("password",s),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Qi(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new Qi(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return hl(e,n,"signInWithPassword",zb);case"emailLink":return Vb(e,{email:this._email,oobCode:this._password});default:Pt(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return hl(e,s,"signUpPassword",Bb);case"emailLink":return Hb(e,{idToken:n,email:this._email,oobCode:this._password});default:Pt(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zs(t,e){return ur(t,"POST","/v1/accounts:signInWithIdp",$n(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wb="http://localhost";class cs extends _c{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new cs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Pt("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:i}=n,r=fc(n,["providerId","signInMethod"]);if(!s||!i)return null;const o=new cs(s,i);return o.idToken=r.idToken||void 0,o.accessToken=r.accessToken||void 0,o.secret=r.secret,o.nonce=r.nonce,o.pendingToken=r.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return zs(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,zs(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,zs(e,n)}buildRequest(){const e={requestUri:Wb,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=ui(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jb(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Gb(t){const e=Pi(Ri(t)).link,n=e?Pi(Ri(e)).deep_link_id:null,s=Pi(Ri(t)).deep_link_id;return(s?Pi(Ri(s)).link:null)||s||n||e||t}class vc{constructor(e){var n,s,i,r,o,a;const l=Pi(Ri(e)),c=(n=l.apiKey)!==null&&n!==void 0?n:null,u=(s=l.oobCode)!==null&&s!==void 0?s:null,d=jb((i=l.mode)!==null&&i!==void 0?i:null);se(c&&u&&d,"argument-error"),this.apiKey=c,this.operation=d,this.code=u,this.continueUrl=(r=l.continueUrl)!==null&&r!==void 0?r:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=Gb(e);try{return new vc(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class di{constructor(){this.providerId=di.PROVIDER_ID}static credential(e,n){return Qi._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=vc.parseLink(n);return se(s,"argument-error"),Qi._fromEmailAndCode(e,s.code,s.tenantId)}}di.PROVIDER_ID="password";di.EMAIL_PASSWORD_SIGN_IN_METHOD="password";di.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yc{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dr extends yc{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bn extends dr{constructor(){super("facebook.com")}static credential(e){return cs._fromParams({providerId:bn.PROVIDER_ID,signInMethod:bn.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return bn.credentialFromTaggedObject(e)}static credentialFromError(e){return bn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return bn.credential(e.oauthAccessToken)}catch{return null}}}bn.FACEBOOK_SIGN_IN_METHOD="facebook.com";bn.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zt extends dr{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return cs._fromParams({providerId:Zt.PROVIDER_ID,signInMethod:Zt.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Zt.credentialFromTaggedObject(e)}static credentialFromError(e){return Zt.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return Zt.credential(n,s)}catch{return null}}}Zt.GOOGLE_SIGN_IN_METHOD="google.com";Zt.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class En extends dr{constructor(){super("github.com")}static credential(e){return cs._fromParams({providerId:En.PROVIDER_ID,signInMethod:En.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return En.credentialFromTaggedObject(e)}static credentialFromError(e){return En.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return En.credential(e.oauthAccessToken)}catch{return null}}}En.GITHUB_SIGN_IN_METHOD="github.com";En.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sn extends dr{constructor(){super("twitter.com")}static credential(e,n){return cs._fromParams({providerId:Sn.PROVIDER_ID,signInMethod:Sn.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Sn.credentialFromTaggedObject(e)}static credentialFromError(e){return Sn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return Sn.credential(n,s)}catch{return null}}}Sn.TWITTER_SIGN_IN_METHOD="twitter.com";Sn.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qb(t,e){return ur(t,"POST","/v1/accounts:signUp",$n(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class us{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,i=!1){const r=await ns._fromIdTokenResponse(e,s,i),o=Ld(s);return new us({user:r,providerId:o,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const i=Ld(s);return new us({user:e,providerId:i,_tokenResponse:s,operationType:n})}}function Ld(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jr extends dn{constructor(e,n,s,i){var r;super(n.code,n.message),this.operationType=s,this.user=i,Object.setPrototypeOf(this,Jr.prototype),this.customData={appName:e.name,tenantId:(r=e.tenantId)!==null&&r!==void 0?r:void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,i){return new Jr(e,n,s,i)}}function Dp(t,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(r=>{throw r.code==="auth/multi-factor-auth-required"?Jr._fromErrorAndOperation(t,r,e,s):r})}async function Kb(t,e,n=!1){const s=await Yi(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return us._forOperation(t,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yb(t,e,n=!1){const{auth:s}=t,i="reauthenticate";try{const r=await Yi(t,Dp(s,i,e,t),n);se(r.idToken,s,"internal-error");const o=mc(r.idToken);se(o,s,"internal-error");const{sub:a}=o;return se(t.uid===a,s,"user-mismatch"),us._forOperation(t,i,r)}catch(r){throw(r==null?void 0:r.code)==="auth/user-not-found"&&Pt(s,"user-mismatch"),r}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fp(t,e,n=!1){const s="signIn",i=await Dp(t,s,e),r=await us._fromIdTokenResponse(t,s,i);return n||await t._updateCurrentUser(r.user),r}async function Xb(t,e){return Fp(Bn(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $p(t){const e=Bn(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function Qb(t,e,n){const s=Bn(t),o=await hl(s,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",qb).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&$p(t),l}),a=await us._fromIdTokenResponse(s,"signIn",o);return await s._updateCurrentUser(a.user),a}function Jb(t,e,n){return Xb(ze(t),di.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&$p(t),s})}function Zb(t,e,n,s){return ze(t).onIdTokenChanged(e,n,s)}function eE(t,e,n){return ze(t).beforeAuthStateChanged(e,n)}function tE(t,e,n,s){return ze(t).onAuthStateChanged(e,n,s)}function nE(t){return ze(t).signOut()}const Zr="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Up{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Zr,"1"),this.storage.removeItem(Zr),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sE(){const t=et();return gc(t)||Vo(t)}const iE=1e3,rE=10;class Bp extends Up{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=sE()&&Eb(),this.fallbackToPolling=Op(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),i=this.localCache[n];s!==i&&e(n,i,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const s=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(s);if(e.newValue!==o)e.newValue!==null?this.storage.setItem(s,e.newValue):this.storage.removeItem(s);else if(this.localCache[s]===e.newValue&&!n)return}const i=()=>{const o=this.storage.getItem(s);!n&&this.localCache[s]===o||this.notifyListeners(s,o)},r=this.storage.getItem(s);bb()&&r!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,rE):i()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const i of Array.from(s))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},iE)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}Bp.type="LOCAL";const oE=Bp;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zp extends Up{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}zp.type="SESSION";const Vp=zp;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aE(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wo{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const s=new Wo(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:i,data:r}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:i});const a=Array.from(o).map(async c=>c(n.origin,r)),l=await aE(a);n.ports[0].postMessage({status:"done",eventId:s,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Wo.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wc(t="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lE{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let r,o;return new Promise((a,l)=>{const c=wc("",20);i.port1.start();const u=setTimeout(()=>{l(new Error("unsupported_event"))},s);o={messageChannel:i,onMessage(d){const f=d;if(f.data.eventId===c)switch(f.data.status){case"ack":clearTimeout(u),r=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(r),a(f.data.response);break;default:clearTimeout(u),clearTimeout(r),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qt(){return window}function cE(t){qt().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hp(){return typeof qt().WorkerGlobalScope<"u"&&typeof qt().importScripts=="function"}async function uE(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function dE(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function fE(){return Hp()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wp="firebaseLocalStorageDb",hE=1,eo="firebaseLocalStorage",jp="fbase_key";class fr{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function jo(t,e){return t.transaction([eo],e?"readwrite":"readonly").objectStore(eo)}function pE(){const t=indexedDB.deleteDatabase(Wp);return new fr(t).toPromise()}function pl(){const t=indexedDB.open(Wp,hE);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const s=t.result;try{s.createObjectStore(eo,{keyPath:jp})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const s=t.result;s.objectStoreNames.contains(eo)?e(s):(s.close(),await pE(),e(await pl()))})})}async function Md(t,e,n){const s=jo(t,!0).put({[jp]:e,value:n});return new fr(s).toPromise()}async function mE(t,e){const n=jo(t,!1).get(e),s=await new fr(n).toPromise();return s===void 0?null:s.value}function Dd(t,e){const n=jo(t,!0).delete(e);return new fr(n).toPromise()}const gE=800,_E=3;class Gp{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await pl(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>_E)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Hp()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Wo._getInstance(fE()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await uE(),!this.activeServiceWorker)return;this.sender=new lE(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((e=s[0])===null||e===void 0)&&e.fulfilled&&!((n=s[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||dE()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await pl();return await Md(e,Zr,"1"),await Dd(e,Zr),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>Md(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>mE(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Dd(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const r=jo(i,!1).getAll();return new fr(r).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:i,value:r}of e)s.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(r)&&(this.notifyListeners(i,r),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!s.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const i of Array.from(s))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),gE)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Gp.type="LOCAL";const vE=Gp;new cr(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qp(t,e){return e?tn(e):(se(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bc extends _c{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return zs(e,this._buildIdpRequest())}_linkToIdToken(e,n){return zs(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return zs(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function yE(t){return Fp(t.auth,new bc(t),t.bypassAuthState)}function wE(t){const{auth:e,user:n}=t;return se(n,e,"internal-error"),Yb(n,new bc(t),t.bypassAuthState)}async function bE(t){const{auth:e,user:n}=t;return se(n,e,"internal-error"),Kb(n,new bc(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kp{constructor(e,n,s,i,r=!1){this.auth=e,this.resolver=s,this.user=i,this.bypassAuthState=r,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:i,tenantId:r,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:s,tenantId:r||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return yE;case"linkViaPopup":case"linkViaRedirect":return bE;case"reauthViaPopup":case"reauthViaRedirect":return wE;default:Pt(this.auth,"internal-error")}}resolve(e){ln(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ln(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EE=new cr(2e3,1e4);async function SE(t,e,n){const s=Bn(t);Z0(t,e,yc);const i=qp(s,n);return new Xn(s,"signInViaPopup",e,i).executeNotNull()}class Xn extends Kp{constructor(e,n,s,i,r){super(e,n,i,r),this.provider=s,this.authWindow=null,this.pollId=null,Xn.currentPopupAction&&Xn.currentPopupAction.cancel(),Xn.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return se(e,this.auth,"internal-error"),e}async onExecution(){ln(this.filter.length===1,"Popup operations only handle one event");const e=wc();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Gt(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Gt(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Xn.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,s;if(!((s=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Gt(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,EE.get())};e()}}Xn.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TE="pendingRedirect",Dr=new Map;class CE extends Kp{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=Dr.get(this.auth._key());if(!e){try{const s=await IE(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}Dr.set(this.auth._key(),e)}return this.bypassAuthState||Dr.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function IE(t,e){const n=xE(e),s=RE(t);if(!await s._isAvailable())return!1;const i=await s._get(n)==="true";return await s._remove(n),i}function PE(t,e){Dr.set(t._key(),e)}function RE(t){return tn(t._redirectPersistence)}function xE(t){return Mr(TE,t.config.apiKey,t.name)}async function AE(t,e,n=!1){const s=Bn(t),i=qp(s,e),o=await new CE(s,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await s._persistUserIfCurrent(o.user),await s._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kE=10*60*1e3;class OE{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!NE(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var s;if(e.error&&!Yp(e)){const i=((s=e.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";n.onError(Gt(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=kE&&this.cachedEventUids.clear(),this.cachedEventUids.has(Fd(e))}saveEventToCache(e){this.cachedEventUids.add(Fd(e)),this.lastProcessedEventTime=Date.now()}}function Fd(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function Yp({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function NE(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Yp(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LE(t,e={}){return Un(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ME=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,DE=/^https?/;async function FE(t){if(t.config.emulator)return;const{authorizedDomains:e}=await LE(t);for(const n of e)try{if($E(n))return}catch{}Pt(t,"unauthorized-domain")}function $E(t){const e=fl(),{protocol:n,hostname:s}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&s===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===s}if(!DE.test(n))return!1;if(ME.test(t))return s===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UE=new cr(3e4,6e4);function $d(){const t=qt().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function BE(t){return new Promise((e,n)=>{var s,i,r;function o(){$d(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{$d(),n(Gt(t,"network-request-failed"))},timeout:UE.get()})}if(!((i=(s=qt().gapi)===null||s===void 0?void 0:s.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((r=qt().gapi)===null||r===void 0)&&r.load)o();else{const a=kb("iframefcb");return qt()[a]=()=>{gapi.load?o():n(Gt(t,"network-request-failed"))},Lp(`${Ab()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Fr=null,e})}let Fr=null;function zE(t){return Fr=Fr||BE(t),Fr}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VE=new cr(5e3,15e3),HE="__/auth/iframe",WE="emulator/auth/iframe",jE={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},GE=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function qE(t){const e=t.config;se(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?pc(e,WE):`https://${t.config.authDomain}/${HE}`,s={apiKey:e.apiKey,appName:t.name,v:ys},i=GE.get(t.config.apiHost);i&&(s.eid=i);const r=t._getFrameworks();return r.length&&(s.fw=r.join(",")),`${n}?${ui(s).slice(1)}`}async function KE(t){const e=await zE(t),n=qt().gapi;return se(n,t,"internal-error"),e.open({where:document.body,url:qE(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:jE,dontclear:!0},s=>new Promise(async(i,r)=>{await s.restyle({setHideOnLeave:!1});const o=Gt(t,"network-request-failed"),a=qt().setTimeout(()=>{r(o)},VE.get());function l(){qt().clearTimeout(a),i(s)}s.ping(l).then(l,()=>{r(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YE={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},XE=500,QE=600,JE="_blank",ZE="http://localhost";class Ud{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function eS(t,e,n,s=XE,i=QE){const r=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-s)/2,0).toString();let a="";const l=Object.assign(Object.assign({},YE),{width:s.toString(),height:i.toString(),top:r,left:o}),c=et().toLowerCase();n&&(a=Pp(c)?JE:n),Ip(c)&&(e=e||ZE,l.scrollbars="yes");const u=Object.entries(l).reduce((f,[h,p])=>`${f}${h}=${p},`,"");if(wb(c)&&a!=="_self")return tS(e||"",a),new Ud(null);const d=window.open(e||"",a,u);se(d,t,"popup-blocked");try{d.focus()}catch{}return new Ud(d)}function tS(t,e){const n=document.createElement("a");n.href=t,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nS="__/auth/handler",sS="emulator/auth/handler",iS=encodeURIComponent("fac");async function Bd(t,e,n,s,i,r){se(t.config.authDomain,t,"auth-domain-config-required"),se(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:s,v:ys,eventId:i};if(e instanceof yc){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",ol(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,d]of Object.entries(r||{}))o[u]=d}if(e instanceof dr){const u=e.getScopes().filter(d=>d!=="");u.length>0&&(o.scopes=u.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const u of Object.keys(a))a[u]===void 0&&delete a[u];const l=await t._getAppCheckToken(),c=l?`#${iS}=${encodeURIComponent(l)}`:"";return`${rS(t)}?${ui(a).slice(1)}${c}`}function rS({config:t}){return t.emulator?pc(t,sS):`https://${t.authDomain}/${nS}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ca="webStorageSupport";class oS{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Vp,this._completeRedirectFn=AE,this._overrideRedirectResult=PE}async _openPopup(e,n,s,i){var r;ln((r=this.eventManagers[e._key()])===null||r===void 0?void 0:r.manager,"_initialize() not called before _openPopup()");const o=await Bd(e,n,s,fl(),i);return eS(e,o,wc())}async _openRedirect(e,n,s,i){await this._originValidation(e);const r=await Bd(e,n,s,fl(),i);return cE(r),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:r}=this.eventManagers[n];return i?Promise.resolve(i):(ln(r,"If manager is not set, promise should be"),r)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await KE(e),s=new OE(e);return n.register("authEvent",i=>(se(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:s.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Ca,{type:Ca},i=>{var r;const o=(r=i==null?void 0:i[0])===null||r===void 0?void 0:r[Ca];o!==void 0&&n(!!o),Pt(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=FE(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Op()||gc()||Vo()}}const aS=oS;var zd="@firebase/auth",Vd="1.6.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lS{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){se(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cS(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function uS(t){Mn(new an("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),r=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=s.options;se(o&&!o.includes(":"),"invalid-api-key",{appName:s.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Np(t)},c=new Pb(s,i,r,l);return Db(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),Mn(new an("auth-internal",e=>{const n=Bn(e.getProvider("auth").getImmediate());return(s=>new lS(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ct(zd,Vd,cS(t)),Ct(zd,Vd,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dS=5*60,fS=lp("authIdTokenMaxAge")||dS;let Hd=null;const hS=t=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>fS)return;const i=n==null?void 0:n.token;Hd!==i&&(Hd=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function pS(t=zo()){const e=lr(t,"auth");if(e.isInitialized())return e.getImmediate();const n=Mb(t,{popupRedirectResolver:aS,persistence:[vE,oE,Vp]}),s=lp("authTokenSyncURL");if(s&&s.match(/^\/[^\/].*/)){const r=hS(s);eE(n,r,()=>r(n.currentUser)),Zb(n,o=>r(o))}const i=op("auth");return i&&Fb(n,`http://${i}`),n}function mS(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}Rb({loadJS(t){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",t),s.onload=e,s.onerror=i=>{const r=Gt("internal-error");r.customData=i,n(r)},s.type="text/javascript",s.charset="UTF-8",mS().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});uS("Browser");var gS="firebase",_S="10.9.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ct(gS,_S,"app");/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xp="functions";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vS{constructor(e,n,s){this.auth=null,this.messaging=null,this.appCheck=null,this.auth=e.getImmediate({optional:!0}),this.messaging=n.getImmediate({optional:!0}),this.auth||e.get().then(i=>this.auth=i,()=>{}),this.messaging||n.get().then(i=>this.messaging=i,()=>{}),this.appCheck||s.get().then(i=>this.appCheck=i,()=>{})}async getAuthToken(){if(this.auth)try{const e=await this.auth.getToken();return e==null?void 0:e.accessToken}catch{return}}async getMessagingToken(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return await this.messaging.getToken()}catch{return}}async getAppCheckToken(e){if(this.appCheck){const n=e?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return n.error?null:n.token}return null}async getContext(e){const n=await this.getAuthToken(),s=await this.getMessagingToken(),i=await this.getAppCheckToken(e);return{authToken:n,messagingToken:s,appCheckToken:i}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ml="us-central1";class yS{constructor(e,n,s,i,r=ml,o){this.app=e,this.fetchImpl=o,this.emulatorOrigin=null,this.contextProvider=new vS(n,s,i),this.cancelAllRequests=new Promise(a=>{this.deleteService=()=>Promise.resolve(a())});try{const a=new URL(r);this.customDomain=a.origin,this.region=ml}catch{this.customDomain=null,this.region=r}}_delete(){return this.deleteService()}_url(e){const n=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${n}/${this.region}/${e}`:this.customDomain!==null?`${this.customDomain}/${e}`:`https://${this.region}-${n}.cloudfunctions.net/${e}`}}function wS(t,e,n){t.emulatorOrigin=`http://${e}:${n}`}const Wd="@firebase/functions",jd="0.11.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bS="auth-internal",ES="app-check-internal",SS="messaging-internal";function TS(t,e){const n=(s,{instanceIdentifier:i})=>{const r=s.getProvider("app").getImmediate(),o=s.getProvider(bS),a=s.getProvider(SS),l=s.getProvider(ES);return new yS(r,o,a,l,i,t)};Mn(new an(Xp,n,"PUBLIC").setMultipleInstances(!0)),Ct(Wd,jd,e),Ct(Wd,jd,"esm2017")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CS(t=zo(),e=ml){const s=lr(ze(t),Xp).getImmediate({identifier:e}),i=lc("functions");return i&&IS(s,...i),s}function IS(t,e,n){wS(ze(t),e,n)}TS(fetch.bind(self));var Gd={};const qd="@firebase/database",Kd="1.0.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qp="";function PS(t){Qp=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RS{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Ge(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:qi(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xS{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return Yt(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jp=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new RS(e)}}catch{}return new xS},Qn=Jp("localStorage"),gl=Jp("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vs=new uc("@firebase/database"),AS=function(){let t=1;return function(){return t++}}(),Zp=function(t){const e=jw(t),n=new zw;n.update(e);const s=n.digest();return oc.encodeByteArray(s)},hr=function(...t){let e="";for(let n=0;n<t.length;n++){const s=t[n];Array.isArray(s)||s&&typeof s=="object"&&typeof s.length=="number"?e+=hr.apply(null,s):typeof s=="object"?e+=Ge(s):e+=s,e+=" "}return e};let ss=null,Yd=!0;const kS=function(t,e){B(!e||t===!0||t===!1,"Can't turn on custom loggers persistently."),t===!0?(Vs.logLevel=Se.VERBOSE,ss=Vs.log.bind(Vs),e&&gl.set("logging_enabled",!0)):typeof t=="function"?ss=t:(ss=null,gl.remove("logging_enabled"))},Ye=function(...t){if(Yd===!0&&(Yd=!1,ss===null&&gl.get("logging_enabled")===!0&&kS(!0)),ss){const e=hr.apply(null,t);ss(e)}},pr=function(t){return function(...e){Ye(t,...e)}},_l=function(...t){const e="FIREBASE INTERNAL ERROR: "+hr(...t);Vs.error(e)},cn=function(...t){const e=`FIREBASE FATAL ERROR: ${hr(...t)}`;throw Vs.error(e),new Error(e)},it=function(...t){const e="FIREBASE WARNING: "+hr(...t);Vs.warn(e)},OS=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&it("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},Ec=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},NS=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},Zs="[MIN_NAME]",ds="[MAX_NAME]",ws=function(t,e){if(t===e)return 0;if(t===Zs||e===ds)return-1;if(e===Zs||t===ds)return 1;{const n=Xd(t),s=Xd(e);return n!==null?s!==null?n-s===0?t.length-e.length:n-s:-1:s!==null?1:t<e?-1:1}},LS=function(t,e){return t===e?0:t<e?-1:1},yi=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+Ge(e))},Sc=function(t){if(typeof t!="object"||t===null)return Ge(t);const e=[];for(const s in t)e.push(s);e.sort();let n="{";for(let s=0;s<e.length;s++)s!==0&&(n+=","),n+=Ge(e[s]),n+=":",n+=Sc(t[e[s]]);return n+="}",n},em=function(t,e){const n=t.length;if(n<=e)return[t];const s=[];for(let i=0;i<n;i+=e)i+e>n?s.push(t.substring(i,n)):s.push(t.substring(i,i+e));return s};function Qe(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const tm=function(t){B(!Ec(t),"Invalid JSON number");const e=11,n=52,s=(1<<e-1)-1;let i,r,o,a,l;t===0?(r=0,o=0,i=1/t===-1/0?1:0):(i=t<0,t=Math.abs(t),t>=Math.pow(2,1-s)?(a=Math.min(Math.floor(Math.log(t)/Math.LN2),s),r=a+s,o=Math.round(t*Math.pow(2,n-a)-Math.pow(2,n))):(r=0,o=Math.round(t/Math.pow(2,1-s-n))));const c=[];for(l=n;l;l-=1)c.push(o%2?1:0),o=Math.floor(o/2);for(l=e;l;l-=1)c.push(r%2?1:0),r=Math.floor(r/2);c.push(i?1:0),c.reverse();const u=c.join("");let d="";for(l=0;l<64;l+=8){let f=parseInt(u.substr(l,8),2).toString(16);f.length===1&&(f="0"+f),d=d+f}return d.toLowerCase()},MS=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},DS=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function FS(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");const s=new Error(t+" at "+e._path.toString()+": "+n);return s.code=t.toUpperCase(),s}const $S=new RegExp("^-?(0*)\\d{1,10}$"),US=-2147483648,BS=2147483647,Xd=function(t){if($S.test(t)){const e=Number(t);if(e>=US&&e<=BS)return e}return null},fi=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw it("Exception was thrown by user callback.",n),e},Math.floor(0))}},zS=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Di=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VS{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(s=>this.appCheck=s)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,s)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,s):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(s=>s.addTokenListener(e))}notifyForInvalidToken(){it(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HS{constructor(e,n,s){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=s,this.auth_=null,this.auth_=s.getImmediate({optional:!0}),this.auth_||s.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(Ye("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,s)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,s):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',it(e)}}class Hs{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}Hs.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tc="5",nm="v",sm="s",im="r",rm="f",om=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,am="ls",lm="p",vl="ac",cm="websocket",um="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dm{constructor(e,n,s,i,r=!1,o="",a=!1,l=!1){this.secure=n,this.namespace=s,this.webSocketOnly=i,this.nodeAdmin=r,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=l,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Qn.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Qn.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function WS(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function fm(t,e,n){B(typeof e=="string","typeof type must == string"),B(typeof n=="object","typeof params must == object");let s;if(e===cm)s=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===um)s=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);WS(t)&&(n.ns=t.namespace);const i=[];return Qe(n,(r,o)=>{i.push(r+"="+o)}),s+i.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jS{constructor(){this.counters_={}}incrementCounter(e,n=1){Yt(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return Iw(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ia={},Pa={};function Cc(t){const e=t.toString();return Ia[e]||(Ia[e]=new jS),Ia[e]}function GS(t,e){const n=t.toString();return Pa[n]||(Pa[n]=e()),Pa[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qS{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const s=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<s.length;++i)s[i]&&fi(()=>{this.onMessage_(s[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qd="start",KS="close",YS="pLPCommand",XS="pRTLPCB",hm="id",pm="pw",mm="ser",QS="cb",JS="seg",ZS="ts",eT="d",tT="dframe",gm=1870,_m=30,nT=gm-_m,sT=25e3,iT=3e4;class Ns{constructor(e,n,s,i,r,o,a){this.connId=e,this.repoInfo=n,this.applicationId=s,this.appCheckToken=i,this.authToken=r,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=pr(e),this.stats_=Cc(n),this.urlFn=l=>(this.appCheckToken&&(l[vl]=this.appCheckToken),fm(n,um,l))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new qS(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(iT)),NS(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Ic((...r)=>{const[o,a,l,c,u]=r;if(this.incrementIncomingBytes_(r),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===Qd)this.id=a,this.password=l;else if(o===KS)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...r)=>{const[o,a]=r;this.incrementIncomingBytes_(r),this.myPacketOrderer.handleResponse(o,a)},()=>{this.onClosed_()},this.urlFn);const s={};s[Qd]="t",s[mm]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(s[QS]=this.scriptTagHolder.uniqueCallbackIdentifier),s[nm]=Tc,this.transportSessionId&&(s[sm]=this.transportSessionId),this.lastSessionId&&(s[am]=this.lastSessionId),this.applicationId&&(s[lm]=this.applicationId),this.appCheckToken&&(s[vl]=this.appCheckToken),typeof location<"u"&&location.hostname&&om.test(location.hostname)&&(s[im]=rm);const i=this.urlFn(s);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Ns.forceAllow_=!0}static forceDisallow(){Ns.forceDisallow_=!0}static isAvailable(){return Ns.forceAllow_?!0:!Ns.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!MS()&&!DS()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=Ge(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const s=ip(n),i=em(s,nT);for(let r=0;r<i.length;r++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[r]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const s={};s[tT]="t",s[hm]=e,s[pm]=n,this.myDisconnFrame.src=this.urlFn(s),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=Ge(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class Ic{constructor(e,n,s,i){this.onDisconnect=s,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=AS(),window[YS+this.uniqueCallbackIdentifier]=e,window[XS+this.uniqueCallbackIdentifier]=n,this.myIFrame=Ic.createIFrame_();let r="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(r='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+r+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(a){Ye("frame writing exception"),a.stack&&Ye(a.stack),Ye(a)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||Ye("No IE domain setting required")}catch{const s=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+s+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[hm]=this.myID,e[pm]=this.myPW,e[mm]=this.currentSerial;let n=this.urlFn(e),s="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+_m+s.length<=gm;){const o=this.pendingSegs.shift();s=s+"&"+JS+i+"="+o.seg+"&"+ZS+i+"="+o.ts+"&"+eT+i+"="+o.d,i++}return n=n+s,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,s){this.pendingSegs.push({seg:e,ts:n,d:s}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const s=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(s,Math.floor(sT)),r=()=>{clearTimeout(i),s()};this.addTag(e,r)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const s=this.myIFrame.doc.createElement("script");s.type="text/javascript",s.async=!0,s.src=e,s.onload=s.onreadystatechange=function(){const i=s.readyState;(!i||i==="loaded"||i==="complete")&&(s.onload=s.onreadystatechange=null,s.parentNode&&s.parentNode.removeChild(s),n())},s.onerror=()=>{Ye("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(s)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rT=16384,oT=45e3;let to=null;typeof MozWebSocket<"u"?to=MozWebSocket:typeof WebSocket<"u"&&(to=WebSocket);class kt{constructor(e,n,s,i,r,o,a){this.connId=e,this.applicationId=s,this.appCheckToken=i,this.authToken=r,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=pr(this.connId),this.stats_=Cc(n),this.connURL=kt.connectionURL_(n,o,a,i,s),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,s,i,r){const o={};return o[nm]=Tc,typeof location<"u"&&location.hostname&&om.test(location.hostname)&&(o[im]=rm),n&&(o[sm]=n),s&&(o[am]=s),i&&(o[vl]=i),r&&(o[lm]=r),fm(e,cm,o)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Qn.set("previous_websocket_failure",!0);try{let s;dp(),this.mySock=new to(this.connURL,[],s)}catch(s){this.log_("Error instantiating WebSocket.");const i=s.message||s.data;i&&this.log_(i),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=s=>{this.handleIncomingFrame(s)},this.mySock.onerror=s=>{this.log_("WebSocket error.  Closing connection.");const i=s.message||s.data;i&&this.log_(i),this.onClosed_()}}start(){}static forceDisallow(){kt.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,s=navigator.userAgent.match(n);s&&s.length>1&&parseFloat(s[1])<4.4&&(e=!0)}return!e&&to!==null&&!kt.forceDisallow_}static previouslyFailed(){return Qn.isInMemoryStorage||Qn.get("previous_websocket_failure")===!0}markConnectionHealthy(){Qn.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const s=qi(n);this.onMessage(s)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(B(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const s=this.extractFrameCount_(n);s!==null&&this.appendFrame_(s)}}send(e){this.resetKeepAlive();const n=Ge(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const s=em(n,rT);s.length>1&&this.sendString_(String(s.length));for(let i=0;i<s.length;i++)this.sendString_(s[i])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(oT))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}kt.responsesRequiredToBeHealthy=2;kt.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ji{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[Ns,kt]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const n=kt&&kt.isAvailable();let s=n&&!kt.previouslyFailed();if(e.webSocketOnly&&(n||it("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),s=!0),s)this.transports_=[kt];else{const i=this.transports_=[];for(const r of Ji.ALL_TRANSPORTS)r&&r.isAvailable()&&i.push(r);Ji.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Ji.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aT=6e4,lT=5e3,cT=10*1024,uT=100*1024,Ra="t",Jd="d",dT="s",Zd="r",fT="e",ef="o",tf="a",nf="n",sf="p",hT="h";class pT{constructor(e,n,s,i,r,o,a,l,c,u){this.id=e,this.repoInfo_=n,this.applicationId_=s,this.appCheckToken_=i,this.authToken_=r,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=l,this.onKill_=c,this.lastSessionId=u,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=pr("c:"+this.id+":"),this.transportManager_=new Ji(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),s=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,s)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=Di(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>uT?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>cT?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(Ra in e){const n=e[Ra];n===tf?this.upgradeIfSecondaryHealthy_():n===Zd?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===ef&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=yi("t",e),s=yi("d",e);if(n==="c")this.onSecondaryControl_(s);else if(n==="d")this.pendingDataMessages.push(s);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:sf,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:tf,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:nf,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=yi("t",e),s=yi("d",e);n==="c"?this.onControl_(s):n==="d"&&this.onDataMessage_(s)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=yi(Ra,e);if(Jd in e){const s=e[Jd];if(n===hT){const i=Object.assign({},s);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===nf){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===dT?this.onConnectionShutdown_(s):n===Zd?this.onReset_(s):n===fT?_l("Server Error: "+s):n===ef?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):_l("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,s=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),Tc!==s&&it("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),s=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,s),Di(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(aT))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Di(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(lT))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:sf,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Qn.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vm{put(e,n,s,i){}merge(e,n,s,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,s){}onDisconnectMerge(e,n,s){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ym{constructor(e){this.allowedEvents_=e,this.listeners_={},B(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const s=[...this.listeners_[e]];for(let i=0;i<s.length;i++)s[i].callback.apply(s[i].context,n)}}on(e,n,s){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:s});const i=this.getInitialEvent(e);i&&n.apply(s,i)}off(e,n,s){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let r=0;r<i.length;r++)if(i[r].callback===n&&(!s||s===i[r].context)){i.splice(r,1);return}}validateEventType_(e){B(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class no extends ym{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!cc()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new no}getInitialEvent(e){return B(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rf=32,of=768;class Te{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let s=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[s]=this.pieces_[i],s++);this.pieces_.length=s,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function ye(){return new Te("")}function he(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function Dn(t){return t.pieces_.length-t.pieceNum_}function xe(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new Te(t.pieces_,e)}function Pc(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function mT(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function Zi(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function wm(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new Te(e,0)}function Le(t,e){const n=[];for(let s=t.pieceNum_;s<t.pieces_.length;s++)n.push(t.pieces_[s]);if(e instanceof Te)for(let s=e.pieceNum_;s<e.pieces_.length;s++)n.push(e.pieces_[s]);else{const s=e.split("/");for(let i=0;i<s.length;i++)s[i].length>0&&n.push(s[i])}return new Te(n,0)}function me(t){return t.pieceNum_>=t.pieces_.length}function lt(t,e){const n=he(t),s=he(e);if(n===null)return e;if(n===s)return lt(xe(t),xe(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function gT(t,e){const n=Zi(t,0),s=Zi(e,0);for(let i=0;i<n.length&&i<s.length;i++){const r=ws(n[i],s[i]);if(r!==0)return r}return n.length===s.length?0:n.length<s.length?-1:1}function Rc(t,e){if(Dn(t)!==Dn(e))return!1;for(let n=t.pieceNum_,s=e.pieceNum_;n<=t.pieces_.length;n++,s++)if(t.pieces_[n]!==e.pieces_[s])return!1;return!0}function St(t,e){let n=t.pieceNum_,s=e.pieceNum_;if(Dn(t)>Dn(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[s])return!1;++n,++s}return!0}class _T{constructor(e,n){this.errorPrefix_=n,this.parts_=Zi(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let s=0;s<this.parts_.length;s++)this.byteLength_+=Bo(this.parts_[s]);bm(this)}}function vT(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=Bo(e),bm(t)}function yT(t){const e=t.parts_.pop();t.byteLength_-=Bo(e),t.parts_.length>0&&(t.byteLength_-=1)}function bm(t){if(t.byteLength_>of)throw new Error(t.errorPrefix_+"has a key path longer than "+of+" bytes ("+t.byteLength_+").");if(t.parts_.length>rf)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+rf+") or object contains a cycle "+Wn(t))}function Wn(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xc extends ym{constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const s=!document[e];s!==this.visible_&&(this.visible_=s,this.trigger("visible",s))},!1)}static getInstance(){return new xc}getInitialEvent(e){return B(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wi=1e3,wT=60*5*1e3,af=30*1e3,bT=1.3,ET=3e4,ST="server_kill",lf=3;class on extends vm{constructor(e,n,s,i,r,o,a,l){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=s,this.onConnectStatus_=i,this.onServerInfoUpdate_=r,this.authTokenProvider_=o,this.appCheckTokenProvider_=a,this.authOverride_=l,this.id=on.nextPersistentConnectionId_++,this.log_=pr("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=wi,this.maxReconnectDelay_=wT,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l&&!dp())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");xc.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&no.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,s){const i=++this.requestNumber_,r={r:i,a:e,b:n};this.log_(Ge(r)),B(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(r),s&&(this.requestCBHash_[i]=s)}get(e){this.initConnection_();const n=new or,i={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:o=>{const a=o.d;o.s==="ok"?n.resolve(a):n.reject(a)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;const r=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(r),n.promise}listen(e,n,s,i){this.initConnection_();const r=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+r),this.listens.has(o)||this.listens.set(o,new Map),B(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),B(!this.listens.get(o).has(r),"listen() called twice for same path/queryId.");const a={onComplete:i,hashFn:n,query:e,tag:s};this.listens.get(o).set(r,a),this.connected_&&this.sendListen_(a)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,s=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(s)})}sendListen_(e){const n=e.query,s=n._path.toString(),i=n._queryIdentifier;this.log_("Listen on "+s+" for "+i);const r={p:s},o="q";e.tag&&(r.q=n._queryObject,r.t=e.tag),r.h=e.hashFn(),this.sendRequest(o,r,a=>{const l=a.d,c=a.s;on.warnOnListenWarnings_(l,n),(this.listens.get(s)&&this.listens.get(s).get(i))===e&&(this.log_("listen response",a),c!=="ok"&&this.removeListen_(s,i),e.onComplete&&e.onComplete(c,l))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&Yt(e,"w")){const s=Js(e,"w");if(Array.isArray(s)&&~s.indexOf("no_index")){const i='".indexOn": "'+n._queryParams.getIndex().toString()+'"',r=n._path.toString();it(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${i} at ${r} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||Bw(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=af)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=Uw(e)?"auth":"gauth",s={cred:e};this.authOverride_===null?s.noauth=!0:typeof this.authOverride_=="object"&&(s.authvar=this.authOverride_),this.sendRequest(n,s,i=>{const r=i.s,o=i.d||"error";this.authToken_===e&&(r==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(r,o))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,s=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,s)})}unlisten(e,n){const s=e._path.toString(),i=e._queryIdentifier;this.log_("Unlisten called for "+s+" "+i),B(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(s,i)&&this.connected_&&this.sendUnlisten_(s,i,e._queryObject,n)}sendUnlisten_(e,n,s,i){this.log_("Unlisten on "+e+" for "+n);const r={p:e},o="n";i&&(r.q=s,r.t=i),this.sendRequest(o,r)}onDisconnectPut(e,n,s){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,s):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:s})}onDisconnectMerge(e,n,s){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,s):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:s})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,s,i){const r={p:n,d:s};this.log_("onDisconnect "+e,r),this.sendRequest(e,r,o=>{i&&setTimeout(()=>{i(o.s,o.d)},Math.floor(0))})}put(e,n,s,i){this.putInternal("p",e,n,s,i)}merge(e,n,s,i){this.putInternal("m",e,n,s,i)}putInternal(e,n,s,i,r){this.initConnection_();const o={p:n,d:s};r!==void 0&&(o.h=r),this.outstandingPuts_.push({action:e,request:o,onComplete:i}),this.outstandingPutCount_++;const a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,s=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,s,r=>{this.log_(n+" response",r),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),i&&i(r.s,r.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,s=>{if(s.s!=="ok"){const r=s.d;this.log_("reportStats","Error sending stats: "+r)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+Ge(e));const n=e.r,s=this.requestCBHash_[n];s&&(delete this.requestCBHash_[n],s(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):_l("Unrecognized action received from server: "+Ge(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){B(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=wi,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=wi,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>ET&&(this.reconnectDelay_=wi),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=new Date().getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*bT)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),s=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+on.nextConnectionId_++,r=this.lastSessionId;let o=!1,a=null;const l=function(){a?a.close():(o=!0,s())},c=function(d){B(a,"sendRequest call when we're not connected not allowed."),a.sendRequest(d)};this.realtime_={close:l,sendRequest:c};const u=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[d,f]=await Promise.all([this.authTokenProvider_.getToken(u),this.appCheckTokenProvider_.getToken(u)]);o?Ye("getToken() completed but was canceled"):(Ye("getToken() completed. Creating connection."),this.authToken_=d&&d.accessToken,this.appCheckToken_=f&&f.token,a=new pT(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,s,h=>{it(h+" ("+this.repoInfo_.toString()+")"),this.interrupt(ST)},r))}catch(d){this.log_("Failed to get token: "+d),o||(this.repoInfo_.nodeAdmin&&it(d),l())}}}interrupt(e){Ye("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Ye("Resuming connection for reason: "+e),delete this.interruptReasons_[e],ol(this.interruptReasons_)&&(this.reconnectDelay_=wi,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let s;n?s=n.map(r=>Sc(r)).join("$"):s="default";const i=this.removeListen_(e,s);i&&i.onComplete&&i.onComplete("permission_denied")}removeListen_(e,n){const s=new Te(e).toString();let i;if(this.listens.has(s)){const r=this.listens.get(s);i=r.get(n),r.delete(n),r.size===0&&this.listens.delete(s)}else i=void 0;return i}onAuthRevoked_(e,n){Ye("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=lf&&(this.reconnectDelay_=af,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){Ye("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=lf&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+Qp.replace(/\./g,"-")]=1,cc()?e["framework.cordova"]=1:up()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=no.getInstance().currentlyOnline();return ol(this.interruptReasons_)&&e}}on.nextPersistentConnectionId_=0;on.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pe{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new pe(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Go{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const s=new pe(Zs,e),i=new pe(Zs,n);return this.compare(s,i)!==0}minPost(){return pe.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Tr;class Em extends Go{static get __EMPTY_NODE(){return Tr}static set __EMPTY_NODE(e){Tr=e}compare(e,n){return ws(e.name,n.name)}isDefinedOn(e){throw ci("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return pe.MIN}maxPost(){return new pe(ds,Tr)}makePost(e,n){return B(typeof e=="string","KeyIndex indexValue must always be a string."),new pe(e,Tr)}toString(){return".key"}}const Ws=new Em;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cr{constructor(e,n,s,i,r=null){this.isReverse_=i,this.resultGenerator_=r,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=n?s(e.key,n):1,i&&(o*=-1),o<0)this.isReverse_?e=e.left:e=e.right;else if(o===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class He{constructor(e,n,s,i,r){this.key=e,this.value=n,this.color=s??He.RED,this.left=i??ct.EMPTY_NODE,this.right=r??ct.EMPTY_NODE}copy(e,n,s,i,r){return new He(e??this.key,n??this.value,s??this.color,i??this.left,r??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let i=this;const r=s(e,i.key);return r<0?i=i.copy(null,null,null,i.left.insert(e,n,s),null):r===0?i=i.copy(null,n,null,null,null):i=i.copy(null,null,null,null,i.right.insert(e,n,s)),i.fixUp_()}removeMin_(){if(this.left.isEmpty())return ct.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let s,i;if(s=this,n(e,s.key)<0)!s.left.isEmpty()&&!s.left.isRed_()&&!s.left.left.isRed_()&&(s=s.moveRedLeft_()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed_()&&(s=s.rotateRight_()),!s.right.isEmpty()&&!s.right.isRed_()&&!s.right.left.isRed_()&&(s=s.moveRedRight_()),n(e,s.key)===0){if(s.right.isEmpty())return ct.EMPTY_NODE;i=s.right.min_(),s=s.copy(i.key,i.value,null,null,s.right.removeMin_())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,He.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,He.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}He.RED=!0;He.BLACK=!1;class TT{copy(e,n,s,i,r){return this}insert(e,n,s){return new He(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class ct{constructor(e,n=ct.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new ct(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,He.BLACK,null,null))}remove(e){return new ct(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,He.BLACK,null,null))}get(e){let n,s=this.root_;for(;!s.isEmpty();){if(n=this.comparator_(e,s.key),n===0)return s.value;n<0?s=s.left:n>0&&(s=s.right)}return null}getPredecessorKey(e){let n,s=this.root_,i=null;for(;!s.isEmpty();)if(n=this.comparator_(e,s.key),n===0){if(s.left.isEmpty())return i?i.key:null;for(s=s.left;!s.right.isEmpty();)s=s.right;return s.key}else n<0?s=s.left:n>0&&(i=s,s=s.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Cr(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new Cr(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new Cr(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new Cr(this.root_,null,this.comparator_,!0,e)}}ct.EMPTY_NODE=new TT;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CT(t,e){return ws(t.name,e.name)}function Ac(t,e){return ws(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yl;function IT(t){yl=t}const Sm=function(t){return typeof t=="number"?"number:"+tm(t):"string:"+t},Tm=function(t){if(t.isLeafNode()){const e=t.val();B(typeof e=="string"||typeof e=="number"||typeof e=="object"&&Yt(e,".sv"),"Priority must be a string or number.")}else B(t===yl||t.isEmpty(),"priority of unexpected type.");B(t===yl||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let cf;class Ve{constructor(e,n=Ve.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,B(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),Tm(this.priorityNode_)}static set __childrenNodeConstructor(e){cf=e}static get __childrenNodeConstructor(){return cf}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new Ve(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:Ve.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return me(e)?this:he(e)===".priority"?this.priorityNode_:Ve.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:Ve.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const s=he(e);return s===null?n:n.isEmpty()&&s!==".priority"?this:(B(s!==".priority"||Dn(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(s,Ve.__childrenNodeConstructor.EMPTY_NODE.updateChild(xe(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+Sm(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=tm(this.value_):e+=this.value_,this.lazyHash_=Zp(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===Ve.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof Ve.__childrenNodeConstructor?-1:(B(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,s=typeof this.value_,i=Ve.VALUE_TYPE_ORDER.indexOf(n),r=Ve.VALUE_TYPE_ORDER.indexOf(s);return B(i>=0,"Unknown leaf type: "+n),B(r>=0,"Unknown leaf type: "+s),i===r?s==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:r-i}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}Ve.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Cm,Im;function PT(t){Cm=t}function RT(t){Im=t}class xT extends Go{compare(e,n){const s=e.node.getPriority(),i=n.node.getPriority(),r=s.compareTo(i);return r===0?ws(e.name,n.name):r}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return pe.MIN}maxPost(){return new pe(ds,new Ve("[PRIORITY-POST]",Im))}makePost(e,n){const s=Cm(e);return new pe(n,new Ve("[PRIORITY-POST]",s))}toString(){return".priority"}}const Me=new xT;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AT=Math.log(2);class kT{constructor(e){const n=r=>parseInt(Math.log(r)/AT,10),s=r=>parseInt(Array(r+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const i=s(this.count);this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const so=function(t,e,n,s){t.sort(e);const i=function(l,c){const u=c-l;let d,f;if(u===0)return null;if(u===1)return d=t[l],f=n?n(d):d,new He(f,d.node,He.BLACK,null,null);{const h=parseInt(u/2,10)+l,p=i(l,h),m=i(h+1,c);return d=t[h],f=n?n(d):d,new He(f,d.node,He.BLACK,p,m)}},r=function(l){let c=null,u=null,d=t.length;const f=function(p,m){const w=d-p,b=d;d-=p;const g=i(w+1,b),y=t[w],S=n?n(y):y;h(new He(S,y.node,m,null,g))},h=function(p){c?(c.left=p,c=p):(u=p,c=p)};for(let p=0;p<l.count;++p){const m=l.nextBitIsOne(),w=Math.pow(2,l.count-(p+1));m?f(w,He.BLACK):(f(w,He.BLACK),f(w,He.RED))}return u},o=new kT(t.length),a=r(o);return new ct(s||e,a)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xa;const Is={};class nn{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return B(Is&&Me,"ChildrenNode.ts has not been loaded"),xa=xa||new nn({".priority":Is},{".priority":Me}),xa}get(e){const n=Js(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof ct?n:null}hasIndex(e){return Yt(this.indexSet_,e.toString())}addIndex(e,n){B(e!==Ws,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const s=[];let i=!1;const r=n.getIterator(pe.Wrap);let o=r.getNext();for(;o;)i=i||e.isDefinedOn(o.node),s.push(o),o=r.getNext();let a;i?a=so(s,e.getCompare()):a=Is;const l=e.toString(),c=Object.assign({},this.indexSet_);c[l]=e;const u=Object.assign({},this.indexes_);return u[l]=a,new nn(u,c)}addToIndexes(e,n){const s=qr(this.indexes_,(i,r)=>{const o=Js(this.indexSet_,r);if(B(o,"Missing index implementation for "+r),i===Is)if(o.isDefinedOn(e.node)){const a=[],l=n.getIterator(pe.Wrap);let c=l.getNext();for(;c;)c.name!==e.name&&a.push(c),c=l.getNext();return a.push(e),so(a,o.getCompare())}else return Is;else{const a=n.get(e.name);let l=i;return a&&(l=l.remove(new pe(e.name,a))),l.insert(e,e.node)}});return new nn(s,this.indexSet_)}removeFromIndexes(e,n){const s=qr(this.indexes_,i=>{if(i===Is)return i;{const r=n.get(e.name);return r?i.remove(new pe(e.name,r)):i}});return new nn(s,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bi;class ee{constructor(e,n,s){this.children_=e,this.priorityNode_=n,this.indexMap_=s,this.lazyHash_=null,this.priorityNode_&&Tm(this.priorityNode_),this.children_.isEmpty()&&B(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return bi||(bi=new ee(new ct(Ac),null,nn.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||bi}updatePriority(e){return this.children_.isEmpty()?this:new ee(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?bi:n}}getChild(e){const n=he(e);return n===null?this:this.getImmediateChild(n).getChild(xe(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(B(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const s=new pe(e,n);let i,r;n.isEmpty()?(i=this.children_.remove(e),r=this.indexMap_.removeFromIndexes(s,this.children_)):(i=this.children_.insert(e,n),r=this.indexMap_.addToIndexes(s,this.children_));const o=i.isEmpty()?bi:this.priorityNode_;return new ee(i,o,r)}}updateChild(e,n){const s=he(e);if(s===null)return n;{B(he(e)!==".priority"||Dn(e)===1,".priority must be the last token in a path");const i=this.getImmediateChild(s).updateChild(xe(e),n);return this.updateImmediateChild(s,i)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let s=0,i=0,r=!0;if(this.forEachChild(Me,(o,a)=>{n[o]=a.val(e),s++,r&&ee.INTEGER_REGEXP_.test(o)?i=Math.max(i,Number(o)):r=!1}),!e&&r&&i<2*s){const o=[];for(const a in n)o[a]=n[a];return o}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+Sm(this.getPriority().val())+":"),this.forEachChild(Me,(n,s)=>{const i=s.hash();i!==""&&(e+=":"+n+":"+i)}),this.lazyHash_=e===""?"":Zp(e)}return this.lazyHash_}getPredecessorChildName(e,n,s){const i=this.resolveIndex_(s);if(i){const r=i.getPredecessorKey(new pe(e,n));return r?r.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const s=n.minKey();return s&&s.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new pe(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const s=n.maxKey();return s&&s.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new pe(n,this.children_.get(n)):null}forEachChild(e,n){const s=this.resolveIndex_(e);return s?s.inorderTraversal(i=>n(i.name,i.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const s=this.resolveIndex_(n);if(s)return s.getIteratorFrom(e,i=>i);{const i=this.children_.getIteratorFrom(e.name,pe.Wrap);let r=i.peek();for(;r!=null&&n.compare(r,e)<0;)i.getNext(),r=i.peek();return i}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const s=this.resolveIndex_(n);if(s)return s.getReverseIteratorFrom(e,i=>i);{const i=this.children_.getReverseIteratorFrom(e.name,pe.Wrap);let r=i.peek();for(;r!=null&&n.compare(r,e)>0;)i.getNext(),r=i.peek();return i}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===mr?-1:0}withIndex(e){if(e===Ws||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new ee(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===Ws||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const s=this.getIterator(Me),i=n.getIterator(Me);let r=s.getNext(),o=i.getNext();for(;r&&o;){if(r.name!==o.name||!r.node.equals(o.node))return!1;r=s.getNext(),o=i.getNext()}return r===null&&o===null}else return!1;else return!1}}resolveIndex_(e){return e===Ws?null:this.indexMap_.get(e.toString())}}ee.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class OT extends ee{constructor(){super(new ct(Ac),ee.EMPTY_NODE,nn.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return ee.EMPTY_NODE}isEmpty(){return!1}}const mr=new OT;Object.defineProperties(pe,{MIN:{value:new pe(Zs,ee.EMPTY_NODE)},MAX:{value:new pe(ds,mr)}});Em.__EMPTY_NODE=ee.EMPTY_NODE;Ve.__childrenNodeConstructor=ee;IT(mr);RT(mr);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NT=!0;function We(t,e=null){if(t===null)return ee.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),B(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new Ve(n,We(e))}if(!(t instanceof Array)&&NT){const n=[];let s=!1;if(Qe(t,(o,a)=>{if(o.substring(0,1)!=="."){const l=We(a);l.isEmpty()||(s=s||!l.getPriority().isEmpty(),n.push(new pe(o,l)))}}),n.length===0)return ee.EMPTY_NODE;const r=so(n,CT,o=>o.name,Ac);if(s){const o=so(n,Me.getCompare());return new ee(r,We(e),new nn({".priority":o},{".priority":Me}))}else return new ee(r,We(e),nn.Default)}else{let n=ee.EMPTY_NODE;return Qe(t,(s,i)=>{if(Yt(t,s)&&s.substring(0,1)!=="."){const r=We(i);(r.isLeafNode()||!r.isEmpty())&&(n=n.updateImmediateChild(s,r))}}),n.updatePriority(We(e))}}PT(We);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LT extends Go{constructor(e){super(),this.indexPath_=e,B(!me(e)&&he(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const s=this.extractChild(e.node),i=this.extractChild(n.node),r=s.compareTo(i);return r===0?ws(e.name,n.name):r}makePost(e,n){const s=We(e),i=ee.EMPTY_NODE.updateChild(this.indexPath_,s);return new pe(n,i)}maxPost(){const e=ee.EMPTY_NODE.updateChild(this.indexPath_,mr);return new pe(ds,e)}toString(){return Zi(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MT extends Go{compare(e,n){const s=e.node.compareTo(n.node);return s===0?ws(e.name,n.name):s}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return pe.MIN}maxPost(){return pe.MAX}makePost(e,n){const s=We(e);return new pe(n,s)}toString(){return".value"}}const DT=new MT;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pm(t){return{type:"value",snapshotNode:t}}function ei(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function er(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function tr(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function FT(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kc{constructor(e){this.index_=e}updateChild(e,n,s,i,r,o){B(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const a=e.getImmediateChild(n);return a.getChild(i).equals(s.getChild(i))&&a.isEmpty()===s.isEmpty()||(o!=null&&(s.isEmpty()?e.hasChild(n)?o.trackChildChange(er(n,a)):B(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?o.trackChildChange(ei(n,s)):o.trackChildChange(tr(n,s,a))),e.isLeafNode()&&s.isEmpty())?e:e.updateImmediateChild(n,s).withIndex(this.index_)}updateFullNode(e,n,s){return s!=null&&(e.isLeafNode()||e.forEachChild(Me,(i,r)=>{n.hasChild(i)||s.trackChildChange(er(i,r))}),n.isLeafNode()||n.forEachChild(Me,(i,r)=>{if(e.hasChild(i)){const o=e.getImmediateChild(i);o.equals(r)||s.trackChildChange(tr(i,r,o))}else s.trackChildChange(ei(i,r))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?ee.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nr{constructor(e){this.indexedFilter_=new kc(e.getIndex()),this.index_=e.getIndex(),this.startPost_=nr.getStartPost_(e),this.endPost_=nr.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,s=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&s}updateChild(e,n,s,i,r,o){return this.matches(new pe(n,s))||(s=ee.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,s,i,r,o)}updateFullNode(e,n,s){n.isLeafNode()&&(n=ee.EMPTY_NODE);let i=n.withIndex(this.index_);i=i.updatePriority(ee.EMPTY_NODE);const r=this;return n.forEachChild(Me,(o,a)=>{r.matches(new pe(o,a))||(i=i.updateImmediateChild(o,ee.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,i,s)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $T{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const s=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?s<=0:s<0},this.withinEndPost=n=>{const s=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?s<=0:s<0},this.rangedFilter_=new nr(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,s,i,r,o){return this.rangedFilter_.matches(new pe(n,s))||(s=ee.EMPTY_NODE),e.getImmediateChild(n).equals(s)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,s,i,r,o):this.fullLimitUpdateChild_(e,n,s,r,o)}updateFullNode(e,n,s){let i;if(n.isLeafNode()||n.isEmpty())i=ee.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){i=ee.EMPTY_NODE.withIndex(this.index_);let r;this.reverse_?r=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):r=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let o=0;for(;r.hasNext()&&o<this.limit_;){const a=r.getNext();if(this.withinDirectionalStart(a))if(this.withinDirectionalEnd(a))i=i.updateImmediateChild(a.name,a.node),o++;else break;else continue}}else{i=n.withIndex(this.index_),i=i.updatePriority(ee.EMPTY_NODE);let r;this.reverse_?r=i.getReverseIterator(this.index_):r=i.getIterator(this.index_);let o=0;for(;r.hasNext();){const a=r.getNext();o<this.limit_&&this.withinDirectionalStart(a)&&this.withinDirectionalEnd(a)?o++:i=i.updateImmediateChild(a.name,ee.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,i,s)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,s,i,r){let o;if(this.reverse_){const d=this.index_.getCompare();o=(f,h)=>d(h,f)}else o=this.index_.getCompare();const a=e;B(a.numChildren()===this.limit_,"");const l=new pe(n,s),c=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),u=this.rangedFilter_.matches(l);if(a.hasChild(n)){const d=a.getImmediateChild(n);let f=i.getChildAfterChild(this.index_,c,this.reverse_);for(;f!=null&&(f.name===n||a.hasChild(f.name));)f=i.getChildAfterChild(this.index_,f,this.reverse_);const h=f==null?1:o(f,l);if(u&&!s.isEmpty()&&h>=0)return r!=null&&r.trackChildChange(tr(n,s,d)),a.updateImmediateChild(n,s);{r!=null&&r.trackChildChange(er(n,d));const m=a.updateImmediateChild(n,ee.EMPTY_NODE);return f!=null&&this.rangedFilter_.matches(f)?(r!=null&&r.trackChildChange(ei(f.name,f.node)),m.updateImmediateChild(f.name,f.node)):m}}else return s.isEmpty()?e:u&&o(c,l)>=0?(r!=null&&(r.trackChildChange(er(c.name,c.node)),r.trackChildChange(ei(n,s))),a.updateImmediateChild(n,s).updateImmediateChild(c.name,ee.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oc{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Me}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return B(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return B(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Zs}hasEnd(){return this.endSet_}getIndexEndValue(){return B(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return B(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:ds}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return B(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Me}copy(){const e=new Oc;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function UT(t){return t.loadsAllData()?new kc(t.getIndex()):t.hasLimit()?new $T(t):new nr(t)}function uf(t){const e={};if(t.isDefault())return e;let n;if(t.index_===Me?n="$priority":t.index_===DT?n="$value":t.index_===Ws?n="$key":(B(t.index_ instanceof LT,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=Ge(n),t.startSet_){const s=t.startAfterSet_?"startAfter":"startAt";e[s]=Ge(t.indexStartValue_),t.startNameSet_&&(e[s]+=","+Ge(t.indexStartName_))}if(t.endSet_){const s=t.endBeforeSet_?"endBefore":"endAt";e[s]=Ge(t.indexEndValue_),t.endNameSet_&&(e[s]+=","+Ge(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function df(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==Me&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class io extends vm{constructor(e,n,s,i){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=s,this.appCheckTokenProvider_=i,this.log_=pr("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(B(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,s,i){const r=e._path.toString();this.log_("Listen called for "+r+" "+e._queryIdentifier);const o=io.getListenId_(e,s),a={};this.listens_[o]=a;const l=uf(e._queryParams);this.restRequest_(r+".json",l,(c,u)=>{let d=u;if(c===404&&(d=null,c=null),c===null&&this.onDataUpdate_(r,d,!1,s),Js(this.listens_,o)===a){let f;c?c===401?f="permission_denied":f="rest_error:"+c:f="ok",i(f,null)}})}unlisten(e,n){const s=io.getListenId_(e,n);delete this.listens_[s]}get(e){const n=uf(e._queryParams),s=e._path.toString(),i=new or;return this.restRequest_(s+".json",n,(r,o)=>{let a=o;r===404&&(a=null,r=null),r===null?(this.onDataUpdate_(s,a,!1,null),i.resolve(a)):i.reject(new Error(a))}),i.promise}refreshAuthToken(e){}restRequest_(e,n={},s){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,r])=>{i&&i.accessToken&&(n.auth=i.accessToken),r&&r.token&&(n.ac=r.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+ui(n);this.log_("Sending REST request for "+o);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(s&&a.readyState===4){this.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=qi(a.responseText)}catch{it("Failed to parse JSON response for "+o+": "+a.responseText)}s(null,l)}else a.status!==401&&a.status!==404&&it("Got unsuccessful REST response for "+o+" Status: "+a.status),s(a.status);s=null}},a.open("GET",o,!0),a.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BT{constructor(){this.rootNode_=ee.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ro(){return{value:null,children:new Map}}function Rm(t,e,n){if(me(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const s=he(e);t.children.has(s)||t.children.set(s,ro());const i=t.children.get(s);e=xe(e),Rm(i,e,n)}}function wl(t,e,n){t.value!==null?n(e,t.value):zT(t,(s,i)=>{const r=new Te(e.toString()+"/"+s);wl(i,r,n)})}function zT(t,e){t.children.forEach((n,s)=>{e(s,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VT{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&Qe(this.last_,(s,i)=>{n[s]=n[s]-i}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ff=10*1e3,HT=30*1e3,WT=5*60*1e3;class jT{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new VT(e);const s=ff+(HT-ff)*Math.random();Di(this.reportStats_.bind(this),Math.floor(s))}reportStats_(){const e=this.statsListener_.get(),n={};let s=!1;Qe(e,(i,r)=>{r>0&&Yt(this.statsToReport_,i)&&(n[i]=r,s=!0)}),s&&this.server_.reportStats(n),Di(this.reportStats_.bind(this),Math.floor(Math.random()*2*WT))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Nt;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Nt||(Nt={}));function Nc(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function Lc(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function Mc(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oo{constructor(e,n,s){this.path=e,this.affectedTree=n,this.revert=s,this.type=Nt.ACK_USER_WRITE,this.source=Nc()}operationForChild(e){if(me(this.path)){if(this.affectedTree.value!=null)return B(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new Te(e));return new oo(ye(),n,this.revert)}}else return B(he(this.path)===e,"operationForChild called for unrelated child."),new oo(xe(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sr{constructor(e,n){this.source=e,this.path=n,this.type=Nt.LISTEN_COMPLETE}operationForChild(e){return me(this.path)?new sr(this.source,ye()):new sr(this.source,xe(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fs{constructor(e,n,s){this.source=e,this.path=n,this.snap=s,this.type=Nt.OVERWRITE}operationForChild(e){return me(this.path)?new fs(this.source,ye(),this.snap.getImmediateChild(e)):new fs(this.source,xe(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ti{constructor(e,n,s){this.source=e,this.path=n,this.children=s,this.type=Nt.MERGE}operationForChild(e){if(me(this.path)){const n=this.children.subtree(new Te(e));return n.isEmpty()?null:n.value?new fs(this.source,ye(),n.value):new ti(this.source,ye(),n)}else return B(he(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new ti(this.source,xe(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hs{constructor(e,n,s){this.node_=e,this.fullyInitialized_=n,this.filtered_=s}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(me(e))return this.isFullyInitialized()&&!this.filtered_;const n=he(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GT{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function qT(t,e,n,s){const i=[],r=[];return e.forEach(o=>{o.type==="child_changed"&&t.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&r.push(FT(o.childName,o.snapshotNode))}),Ei(t,i,"child_removed",e,s,n),Ei(t,i,"child_added",e,s,n),Ei(t,i,"child_moved",r,s,n),Ei(t,i,"child_changed",e,s,n),Ei(t,i,"value",e,s,n),i}function Ei(t,e,n,s,i,r){const o=s.filter(a=>a.type===n);o.sort((a,l)=>YT(t,a,l)),o.forEach(a=>{const l=KT(t,a,r);i.forEach(c=>{c.respondsTo(a.type)&&e.push(c.createEvent(l,t.query_))})})}function KT(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function YT(t,e,n){if(e.childName==null||n.childName==null)throw ci("Should only compare child_ events.");const s=new pe(e.childName,e.snapshotNode),i=new pe(n.childName,n.snapshotNode);return t.index_.compare(s,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qo(t,e){return{eventCache:t,serverCache:e}}function Fi(t,e,n,s){return qo(new hs(e,n,s),t.serverCache)}function xm(t,e,n,s){return qo(t.eventCache,new hs(e,n,s))}function bl(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function ps(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Aa;const XT=()=>(Aa||(Aa=new ct(LS)),Aa);class Re{constructor(e,n=XT()){this.value=e,this.children=n}static fromObject(e){let n=new Re(null);return Qe(e,(s,i)=>{n=n.set(new Te(s),i)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:ye(),value:this.value};if(me(e))return null;{const s=he(e),i=this.children.get(s);if(i!==null){const r=i.findRootMostMatchingPathAndValue(xe(e),n);return r!=null?{path:Le(new Te(s),r.path),value:r.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(me(e))return this;{const n=he(e),s=this.children.get(n);return s!==null?s.subtree(xe(e)):new Re(null)}}set(e,n){if(me(e))return new Re(n,this.children);{const s=he(e),r=(this.children.get(s)||new Re(null)).set(xe(e),n),o=this.children.insert(s,r);return new Re(this.value,o)}}remove(e){if(me(e))return this.children.isEmpty()?new Re(null):new Re(null,this.children);{const n=he(e),s=this.children.get(n);if(s){const i=s.remove(xe(e));let r;return i.isEmpty()?r=this.children.remove(n):r=this.children.insert(n,i),this.value===null&&r.isEmpty()?new Re(null):new Re(this.value,r)}else return this}}get(e){if(me(e))return this.value;{const n=he(e),s=this.children.get(n);return s?s.get(xe(e)):null}}setTree(e,n){if(me(e))return n;{const s=he(e),r=(this.children.get(s)||new Re(null)).setTree(xe(e),n);let o;return r.isEmpty()?o=this.children.remove(s):o=this.children.insert(s,r),new Re(this.value,o)}}fold(e){return this.fold_(ye(),e)}fold_(e,n){const s={};return this.children.inorderTraversal((i,r)=>{s[i]=r.fold_(Le(e,i),n)}),n(e,this.value,s)}findOnPath(e,n){return this.findOnPath_(e,ye(),n)}findOnPath_(e,n,s){const i=this.value?s(n,this.value):!1;if(i)return i;if(me(e))return null;{const r=he(e),o=this.children.get(r);return o?o.findOnPath_(xe(e),Le(n,r),s):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,ye(),n)}foreachOnPath_(e,n,s){if(me(e))return this;{this.value&&s(n,this.value);const i=he(e),r=this.children.get(i);return r?r.foreachOnPath_(xe(e),Le(n,i),s):new Re(null)}}foreach(e){this.foreach_(ye(),e)}foreach_(e,n){this.children.inorderTraversal((s,i)=>{i.foreach_(Le(e,s),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,s)=>{s.value&&e(n,s.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dt{constructor(e){this.writeTree_=e}static empty(){return new Dt(new Re(null))}}function $i(t,e,n){if(me(e))return new Dt(new Re(n));{const s=t.writeTree_.findRootMostValueAndPath(e);if(s!=null){const i=s.path;let r=s.value;const o=lt(i,e);return r=r.updateChild(o,n),new Dt(t.writeTree_.set(i,r))}else{const i=new Re(n),r=t.writeTree_.setTree(e,i);return new Dt(r)}}}function El(t,e,n){let s=t;return Qe(n,(i,r)=>{s=$i(s,Le(e,i),r)}),s}function hf(t,e){if(me(e))return Dt.empty();{const n=t.writeTree_.setTree(e,new Re(null));return new Dt(n)}}function Sl(t,e){return bs(t,e)!=null}function bs(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(lt(n.path,e)):null}function pf(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(Me,(s,i)=>{e.push(new pe(s,i))}):t.writeTree_.children.inorderTraversal((s,i)=>{i.value!=null&&e.push(new pe(s,i.value))}),e}function Nn(t,e){if(me(e))return t;{const n=bs(t,e);return n!=null?new Dt(new Re(n)):new Dt(t.writeTree_.subtree(e))}}function Tl(t){return t.writeTree_.isEmpty()}function ni(t,e){return Am(ye(),t.writeTree_,e)}function Am(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let s=null;return e.children.inorderTraversal((i,r)=>{i===".priority"?(B(r.value!==null,"Priority writes must always be leaf nodes"),s=r.value):n=Am(Le(t,i),r,n)}),!n.getChild(t).isEmpty()&&s!==null&&(n=n.updateChild(Le(t,".priority"),s)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dc(t,e){return Lm(e,t)}function QT(t,e,n,s,i){B(s>t.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:s,visible:i}),i&&(t.visibleWrites=$i(t.visibleWrites,e,n)),t.lastWriteId=s}function JT(t,e,n,s){B(s>t.lastWriteId,"Stacking an older merge on top of newer ones"),t.allWrites.push({path:e,children:n,writeId:s,visible:!0}),t.visibleWrites=El(t.visibleWrites,e,n),t.lastWriteId=s}function ZT(t,e){for(let n=0;n<t.allWrites.length;n++){const s=t.allWrites[n];if(s.writeId===e)return s}return null}function eC(t,e){const n=t.allWrites.findIndex(a=>a.writeId===e);B(n>=0,"removeWrite called with nonexistent writeId.");const s=t.allWrites[n];t.allWrites.splice(n,1);let i=s.visible,r=!1,o=t.allWrites.length-1;for(;i&&o>=0;){const a=t.allWrites[o];a.visible&&(o>=n&&tC(a,s.path)?i=!1:St(s.path,a.path)&&(r=!0)),o--}if(i){if(r)return nC(t),!0;if(s.snap)t.visibleWrites=hf(t.visibleWrites,s.path);else{const a=s.children;Qe(a,l=>{t.visibleWrites=hf(t.visibleWrites,Le(s.path,l))})}return!0}else return!1}function tC(t,e){if(t.snap)return St(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&St(Le(t.path,n),e))return!0;return!1}function nC(t){t.visibleWrites=km(t.allWrites,sC,ye()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function sC(t){return t.visible}function km(t,e,n){let s=Dt.empty();for(let i=0;i<t.length;++i){const r=t[i];if(e(r)){const o=r.path;let a;if(r.snap)St(n,o)?(a=lt(n,o),s=$i(s,a,r.snap)):St(o,n)&&(a=lt(o,n),s=$i(s,ye(),r.snap.getChild(a)));else if(r.children){if(St(n,o))a=lt(n,o),s=El(s,a,r.children);else if(St(o,n))if(a=lt(o,n),me(a))s=El(s,ye(),r.children);else{const l=Js(r.children,he(a));if(l){const c=l.getChild(xe(a));s=$i(s,ye(),c)}}}else throw ci("WriteRecord should have .snap or .children")}}return s}function Om(t,e,n,s,i){if(!s&&!i){const r=bs(t.visibleWrites,e);if(r!=null)return r;{const o=Nn(t.visibleWrites,e);if(Tl(o))return n;if(n==null&&!Sl(o,ye()))return null;{const a=n||ee.EMPTY_NODE;return ni(o,a)}}}else{const r=Nn(t.visibleWrites,e);if(!i&&Tl(r))return n;if(!i&&n==null&&!Sl(r,ye()))return null;{const o=function(c){return(c.visible||i)&&(!s||!~s.indexOf(c.writeId))&&(St(c.path,e)||St(e,c.path))},a=km(t.allWrites,o,e),l=n||ee.EMPTY_NODE;return ni(a,l)}}}function iC(t,e,n){let s=ee.EMPTY_NODE;const i=bs(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(Me,(r,o)=>{s=s.updateImmediateChild(r,o)}),s;if(n){const r=Nn(t.visibleWrites,e);return n.forEachChild(Me,(o,a)=>{const l=ni(Nn(r,new Te(o)),a);s=s.updateImmediateChild(o,l)}),pf(r).forEach(o=>{s=s.updateImmediateChild(o.name,o.node)}),s}else{const r=Nn(t.visibleWrites,e);return pf(r).forEach(o=>{s=s.updateImmediateChild(o.name,o.node)}),s}}function rC(t,e,n,s,i){B(s||i,"Either existingEventSnap or existingServerSnap must exist");const r=Le(e,n);if(Sl(t.visibleWrites,r))return null;{const o=Nn(t.visibleWrites,r);return Tl(o)?i.getChild(n):ni(o,i.getChild(n))}}function oC(t,e,n,s){const i=Le(e,n),r=bs(t.visibleWrites,i);if(r!=null)return r;if(s.isCompleteForChild(n)){const o=Nn(t.visibleWrites,i);return ni(o,s.getNode().getImmediateChild(n))}else return null}function aC(t,e){return bs(t.visibleWrites,e)}function lC(t,e,n,s,i,r,o){let a;const l=Nn(t.visibleWrites,e),c=bs(l,ye());if(c!=null)a=c;else if(n!=null)a=ni(l,n);else return[];if(a=a.withIndex(o),!a.isEmpty()&&!a.isLeafNode()){const u=[],d=o.getCompare(),f=r?a.getReverseIteratorFrom(s,o):a.getIteratorFrom(s,o);let h=f.getNext();for(;h&&u.length<i;)d(h,s)!==0&&u.push(h),h=f.getNext();return u}else return[]}function cC(){return{visibleWrites:Dt.empty(),allWrites:[],lastWriteId:-1}}function ao(t,e,n,s){return Om(t.writeTree,t.treePath,e,n,s)}function Fc(t,e){return iC(t.writeTree,t.treePath,e)}function mf(t,e,n,s){return rC(t.writeTree,t.treePath,e,n,s)}function lo(t,e){return aC(t.writeTree,Le(t.treePath,e))}function uC(t,e,n,s,i,r){return lC(t.writeTree,t.treePath,e,n,s,i,r)}function $c(t,e,n){return oC(t.writeTree,t.treePath,e,n)}function Nm(t,e){return Lm(Le(t.treePath,e),t.writeTree)}function Lm(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dC{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,s=e.childName;B(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),B(s!==".priority","Only non-priority child changes can be tracked.");const i=this.changeMap.get(s);if(i){const r=i.type;if(n==="child_added"&&r==="child_removed")this.changeMap.set(s,tr(s,e.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&r==="child_added")this.changeMap.delete(s);else if(n==="child_removed"&&r==="child_changed")this.changeMap.set(s,er(s,i.oldSnap));else if(n==="child_changed"&&r==="child_added")this.changeMap.set(s,ei(s,e.snapshotNode));else if(n==="child_changed"&&r==="child_changed")this.changeMap.set(s,tr(s,e.snapshotNode,i.oldSnap));else throw ci("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(s,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fC{getCompleteChild(e){return null}getChildAfterChild(e,n,s){return null}}const Mm=new fC;class Uc{constructor(e,n,s=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=s}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const s=this.optCompleteServerCache_!=null?new hs(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return $c(this.writes_,e,s)}}getChildAfterChild(e,n,s){const i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:ps(this.viewCache_),r=uC(this.writes_,i,n,1,s,e);return r.length===0?null:r[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hC(t){return{filter:t}}function pC(t,e){B(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),B(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function mC(t,e,n,s,i){const r=new dC;let o,a;if(n.type===Nt.OVERWRITE){const c=n;c.source.fromUser?o=Cl(t,e,c.path,c.snap,s,i,r):(B(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered()&&!me(c.path),o=co(t,e,c.path,c.snap,s,i,a,r))}else if(n.type===Nt.MERGE){const c=n;c.source.fromUser?o=_C(t,e,c.path,c.children,s,i,r):(B(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered(),o=Il(t,e,c.path,c.children,s,i,a,r))}else if(n.type===Nt.ACK_USER_WRITE){const c=n;c.revert?o=wC(t,e,c.path,s,i,r):o=vC(t,e,c.path,c.affectedTree,s,i,r)}else if(n.type===Nt.LISTEN_COMPLETE)o=yC(t,e,n.path,s,r);else throw ci("Unknown operation type: "+n.type);const l=r.getChanges();return gC(e,o,l),{viewCache:o,changes:l}}function gC(t,e,n){const s=e.eventCache;if(s.isFullyInitialized()){const i=s.getNode().isLeafNode()||s.getNode().isEmpty(),r=bl(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!s.getNode().equals(r)||!s.getNode().getPriority().equals(r.getPriority()))&&n.push(Pm(bl(e)))}}function Dm(t,e,n,s,i,r){const o=e.eventCache;if(lo(s,n)!=null)return e;{let a,l;if(me(n))if(B(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const c=ps(e),u=c instanceof ee?c:ee.EMPTY_NODE,d=Fc(s,u);a=t.filter.updateFullNode(e.eventCache.getNode(),d,r)}else{const c=ao(s,ps(e));a=t.filter.updateFullNode(e.eventCache.getNode(),c,r)}else{const c=he(n);if(c===".priority"){B(Dn(n)===1,"Can't have a priority with additional path components");const u=o.getNode();l=e.serverCache.getNode();const d=mf(s,n,u,l);d!=null?a=t.filter.updatePriority(u,d):a=o.getNode()}else{const u=xe(n);let d;if(o.isCompleteForChild(c)){l=e.serverCache.getNode();const f=mf(s,n,o.getNode(),l);f!=null?d=o.getNode().getImmediateChild(c).updateChild(u,f):d=o.getNode().getImmediateChild(c)}else d=$c(s,c,e.serverCache);d!=null?a=t.filter.updateChild(o.getNode(),c,d,u,i,r):a=o.getNode()}}return Fi(e,a,o.isFullyInitialized()||me(n),t.filter.filtersNodes())}}function co(t,e,n,s,i,r,o,a){const l=e.serverCache;let c;const u=o?t.filter:t.filter.getIndexedFilter();if(me(n))c=u.updateFullNode(l.getNode(),s,null);else if(u.filtersNodes()&&!l.isFiltered()){const h=l.getNode().updateChild(n,s);c=u.updateFullNode(l.getNode(),h,null)}else{const h=he(n);if(!l.isCompleteForPath(n)&&Dn(n)>1)return e;const p=xe(n),w=l.getNode().getImmediateChild(h).updateChild(p,s);h===".priority"?c=u.updatePriority(l.getNode(),w):c=u.updateChild(l.getNode(),h,w,p,Mm,null)}const d=xm(e,c,l.isFullyInitialized()||me(n),u.filtersNodes()),f=new Uc(i,d,r);return Dm(t,d,n,i,f,a)}function Cl(t,e,n,s,i,r,o){const a=e.eventCache;let l,c;const u=new Uc(i,e,r);if(me(n))c=t.filter.updateFullNode(e.eventCache.getNode(),s,o),l=Fi(e,c,!0,t.filter.filtersNodes());else{const d=he(n);if(d===".priority")c=t.filter.updatePriority(e.eventCache.getNode(),s),l=Fi(e,c,a.isFullyInitialized(),a.isFiltered());else{const f=xe(n),h=a.getNode().getImmediateChild(d);let p;if(me(f))p=s;else{const m=u.getCompleteChild(d);m!=null?Pc(f)===".priority"&&m.getChild(wm(f)).isEmpty()?p=m:p=m.updateChild(f,s):p=ee.EMPTY_NODE}if(h.equals(p))l=e;else{const m=t.filter.updateChild(a.getNode(),d,p,f,u,o);l=Fi(e,m,a.isFullyInitialized(),t.filter.filtersNodes())}}}return l}function gf(t,e){return t.eventCache.isCompleteForChild(e)}function _C(t,e,n,s,i,r,o){let a=e;return s.foreach((l,c)=>{const u=Le(n,l);gf(e,he(u))&&(a=Cl(t,a,u,c,i,r,o))}),s.foreach((l,c)=>{const u=Le(n,l);gf(e,he(u))||(a=Cl(t,a,u,c,i,r,o))}),a}function _f(t,e,n){return n.foreach((s,i)=>{e=e.updateChild(s,i)}),e}function Il(t,e,n,s,i,r,o,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let l=e,c;me(n)?c=s:c=new Re(null).setTree(n,s);const u=e.serverCache.getNode();return c.children.inorderTraversal((d,f)=>{if(u.hasChild(d)){const h=e.serverCache.getNode().getImmediateChild(d),p=_f(t,h,f);l=co(t,l,new Te(d),p,i,r,o,a)}}),c.children.inorderTraversal((d,f)=>{const h=!e.serverCache.isCompleteForChild(d)&&f.value===null;if(!u.hasChild(d)&&!h){const p=e.serverCache.getNode().getImmediateChild(d),m=_f(t,p,f);l=co(t,l,new Te(d),m,i,r,o,a)}}),l}function vC(t,e,n,s,i,r,o){if(lo(i,n)!=null)return e;const a=e.serverCache.isFiltered(),l=e.serverCache;if(s.value!=null){if(me(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return co(t,e,n,l.getNode().getChild(n),i,r,a,o);if(me(n)){let c=new Re(null);return l.getNode().forEachChild(Ws,(u,d)=>{c=c.set(new Te(u),d)}),Il(t,e,n,c,i,r,a,o)}else return e}else{let c=new Re(null);return s.foreach((u,d)=>{const f=Le(n,u);l.isCompleteForPath(f)&&(c=c.set(u,l.getNode().getChild(f)))}),Il(t,e,n,c,i,r,a,o)}}function yC(t,e,n,s,i){const r=e.serverCache,o=xm(e,r.getNode(),r.isFullyInitialized()||me(n),r.isFiltered());return Dm(t,o,n,s,Mm,i)}function wC(t,e,n,s,i,r){let o;if(lo(s,n)!=null)return e;{const a=new Uc(s,e,i),l=e.eventCache.getNode();let c;if(me(n)||he(n)===".priority"){let u;if(e.serverCache.isFullyInitialized())u=ao(s,ps(e));else{const d=e.serverCache.getNode();B(d instanceof ee,"serverChildren would be complete if leaf node"),u=Fc(s,d)}u=u,c=t.filter.updateFullNode(l,u,r)}else{const u=he(n);let d=$c(s,u,e.serverCache);d==null&&e.serverCache.isCompleteForChild(u)&&(d=l.getImmediateChild(u)),d!=null?c=t.filter.updateChild(l,u,d,xe(n),a,r):e.eventCache.getNode().hasChild(u)?c=t.filter.updateChild(l,u,ee.EMPTY_NODE,xe(n),a,r):c=l,c.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=ao(s,ps(e)),o.isLeafNode()&&(c=t.filter.updateFullNode(c,o,r)))}return o=e.serverCache.isFullyInitialized()||lo(s,ye())!=null,Fi(e,c,o,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bC{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const s=this.query_._queryParams,i=new kc(s.getIndex()),r=UT(s);this.processor_=hC(r);const o=n.serverCache,a=n.eventCache,l=i.updateFullNode(ee.EMPTY_NODE,o.getNode(),null),c=r.updateFullNode(ee.EMPTY_NODE,a.getNode(),null),u=new hs(l,o.isFullyInitialized(),i.filtersNodes()),d=new hs(c,a.isFullyInitialized(),r.filtersNodes());this.viewCache_=qo(d,u),this.eventGenerator_=new GT(this.query_)}get query(){return this.query_}}function EC(t){return t.viewCache_.serverCache.getNode()}function SC(t,e){const n=ps(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!me(e)&&!n.getImmediateChild(he(e)).isEmpty())?n.getChild(e):null}function vf(t){return t.eventRegistrations_.length===0}function TC(t,e){t.eventRegistrations_.push(e)}function yf(t,e,n){const s=[];if(n){B(e==null,"A cancel should cancel all event registrations.");const i=t.query._path;t.eventRegistrations_.forEach(r=>{const o=r.createCancelEvent(n,i);o&&s.push(o)})}if(e){let i=[];for(let r=0;r<t.eventRegistrations_.length;++r){const o=t.eventRegistrations_[r];if(!o.matches(e))i.push(o);else if(e.hasAnyCallback()){i=i.concat(t.eventRegistrations_.slice(r+1));break}}t.eventRegistrations_=i}else t.eventRegistrations_=[];return s}function wf(t,e,n,s){e.type===Nt.MERGE&&e.source.queryId!==null&&(B(ps(t.viewCache_),"We should always have a full cache before handling merges"),B(bl(t.viewCache_),"Missing event cache, even though we have a server cache"));const i=t.viewCache_,r=mC(t.processor_,i,e,n,s);return pC(t.processor_,r.viewCache),B(r.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=r.viewCache,Fm(t,r.changes,r.viewCache.eventCache.getNode(),null)}function CC(t,e){const n=t.viewCache_.eventCache,s=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(Me,(r,o)=>{s.push(ei(r,o))}),n.isFullyInitialized()&&s.push(Pm(n.getNode())),Fm(t,s,n.getNode(),e)}function Fm(t,e,n,s){const i=s?[s]:t.eventRegistrations_;return qT(t.eventGenerator_,e,n,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let uo;class IC{constructor(){this.views=new Map}}function PC(t){B(!uo,"__referenceConstructor has already been defined"),uo=t}function RC(){return B(uo,"Reference.ts has not been loaded"),uo}function xC(t){return t.views.size===0}function Bc(t,e,n,s){const i=e.source.queryId;if(i!==null){const r=t.views.get(i);return B(r!=null,"SyncTree gave us an op for an invalid query."),wf(r,e,n,s)}else{let r=[];for(const o of t.views.values())r=r.concat(wf(o,e,n,s));return r}}function AC(t,e,n,s,i){const r=e._queryIdentifier,o=t.views.get(r);if(!o){let a=ao(n,i?s:null),l=!1;a?l=!0:s instanceof ee?(a=Fc(n,s),l=!1):(a=ee.EMPTY_NODE,l=!1);const c=qo(new hs(a,l,!1),new hs(s,i,!1));return new bC(e,c)}return o}function kC(t,e,n,s,i,r){const o=AC(t,e,s,i,r);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,o),TC(o,n),CC(o,n)}function OC(t,e,n,s){const i=e._queryIdentifier,r=[];let o=[];const a=Fn(t);if(i==="default")for(const[l,c]of t.views.entries())o=o.concat(yf(c,n,s)),vf(c)&&(t.views.delete(l),c.query._queryParams.loadsAllData()||r.push(c.query));else{const l=t.views.get(i);l&&(o=o.concat(yf(l,n,s)),vf(l)&&(t.views.delete(i),l.query._queryParams.loadsAllData()||r.push(l.query)))}return a&&!Fn(t)&&r.push(new(RC())(e._repo,e._path)),{removed:r,events:o}}function $m(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function js(t,e){let n=null;for(const s of t.views.values())n=n||SC(s,e);return n}function Um(t,e){if(e._queryParams.loadsAllData())return Ko(t);{const s=e._queryIdentifier;return t.views.get(s)}}function Bm(t,e){return Um(t,e)!=null}function Fn(t){return Ko(t)!=null}function Ko(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fo;function NC(t){B(!fo,"__referenceConstructor has already been defined"),fo=t}function LC(){return B(fo,"Reference.ts has not been loaded"),fo}let MC=1;class bf{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Re(null),this.pendingWriteTree_=cC(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function zm(t,e,n,s,i){return QT(t.pendingWriteTree_,e,n,s,i),i?hi(t,new fs(Nc(),e,n)):[]}function DC(t,e,n,s){JT(t.pendingWriteTree_,e,n,s);const i=Re.fromObject(n);return hi(t,new ti(Nc(),e,i))}function In(t,e,n=!1){const s=ZT(t.pendingWriteTree_,e);if(eC(t.pendingWriteTree_,e)){let r=new Re(null);return s.snap!=null?r=r.set(ye(),!0):Qe(s.children,o=>{r=r.set(new Te(o),!0)}),hi(t,new oo(s.path,r,n))}else return[]}function Yo(t,e,n){return hi(t,new fs(Lc(),e,n))}function FC(t,e,n){const s=Re.fromObject(n);return hi(t,new ti(Lc(),e,s))}function $C(t,e){return hi(t,new sr(Lc(),e))}function UC(t,e,n){const s=Vc(t,n);if(s){const i=Hc(s),r=i.path,o=i.queryId,a=lt(r,e),l=new sr(Mc(o),a);return Wc(t,r,l)}else return[]}function Pl(t,e,n,s,i=!1){const r=e._path,o=t.syncPointTree_.get(r);let a=[];if(o&&(e._queryIdentifier==="default"||Bm(o,e))){const l=OC(o,e,n,s);xC(o)&&(t.syncPointTree_=t.syncPointTree_.remove(r));const c=l.removed;if(a=l.events,!i){const u=c.findIndex(f=>f._queryParams.loadsAllData())!==-1,d=t.syncPointTree_.findOnPath(r,(f,h)=>Fn(h));if(u&&!d){const f=t.syncPointTree_.subtree(r);if(!f.isEmpty()){const h=VC(f);for(let p=0;p<h.length;++p){const m=h[p],w=m.query,b=Wm(t,m);t.listenProvider_.startListening(Ui(w),ho(t,w),b.hashFn,b.onComplete)}}}!d&&c.length>0&&!s&&(u?t.listenProvider_.stopListening(Ui(e),null):c.forEach(f=>{const h=t.queryToTagMap.get(Xo(f));t.listenProvider_.stopListening(Ui(f),h)}))}HC(t,c)}return a}function BC(t,e,n,s){const i=Vc(t,s);if(i!=null){const r=Hc(i),o=r.path,a=r.queryId,l=lt(o,e),c=new fs(Mc(a),l,n);return Wc(t,o,c)}else return[]}function zC(t,e,n,s){const i=Vc(t,s);if(i){const r=Hc(i),o=r.path,a=r.queryId,l=lt(o,e),c=Re.fromObject(n),u=new ti(Mc(a),l,c);return Wc(t,o,u)}else return[]}function Ef(t,e,n,s=!1){const i=e._path;let r=null,o=!1;t.syncPointTree_.foreachOnPath(i,(f,h)=>{const p=lt(f,i);r=r||js(h,p),o=o||Fn(h)});let a=t.syncPointTree_.get(i);a?(o=o||Fn(a),r=r||js(a,ye())):(a=new IC,t.syncPointTree_=t.syncPointTree_.set(i,a));let l;r!=null?l=!0:(l=!1,r=ee.EMPTY_NODE,t.syncPointTree_.subtree(i).foreachChild((h,p)=>{const m=js(p,ye());m&&(r=r.updateImmediateChild(h,m))}));const c=Bm(a,e);if(!c&&!e._queryParams.loadsAllData()){const f=Xo(e);B(!t.queryToTagMap.has(f),"View does not exist, but we have a tag");const h=WC();t.queryToTagMap.set(f,h),t.tagToQueryMap.set(h,f)}const u=Dc(t.pendingWriteTree_,i);let d=kC(a,e,n,u,r,l);if(!c&&!o&&!s){const f=Um(a,e);d=d.concat(jC(t,e,f))}return d}function zc(t,e,n){const i=t.pendingWriteTree_,r=t.syncPointTree_.findOnPath(e,(o,a)=>{const l=lt(o,e),c=js(a,l);if(c)return c});return Om(i,e,r,n,!0)}function hi(t,e){return Vm(e,t.syncPointTree_,null,Dc(t.pendingWriteTree_,ye()))}function Vm(t,e,n,s){if(me(t.path))return Hm(t,e,n,s);{const i=e.get(ye());n==null&&i!=null&&(n=js(i,ye()));let r=[];const o=he(t.path),a=t.operationForChild(o),l=e.children.get(o);if(l&&a){const c=n?n.getImmediateChild(o):null,u=Nm(s,o);r=r.concat(Vm(a,l,c,u))}return i&&(r=r.concat(Bc(i,t,s,n))),r}}function Hm(t,e,n,s){const i=e.get(ye());n==null&&i!=null&&(n=js(i,ye()));let r=[];return e.children.inorderTraversal((o,a)=>{const l=n?n.getImmediateChild(o):null,c=Nm(s,o),u=t.operationForChild(o);u&&(r=r.concat(Hm(u,a,l,c)))}),i&&(r=r.concat(Bc(i,t,s,n))),r}function Wm(t,e){const n=e.query,s=ho(t,n);return{hashFn:()=>(EC(e)||ee.EMPTY_NODE).hash(),onComplete:i=>{if(i==="ok")return s?UC(t,n._path,s):$C(t,n._path);{const r=FS(i,n);return Pl(t,n,null,r)}}}}function ho(t,e){const n=Xo(e);return t.queryToTagMap.get(n)}function Xo(t){return t._path.toString()+"$"+t._queryIdentifier}function Vc(t,e){return t.tagToQueryMap.get(e)}function Hc(t){const e=t.indexOf("$");return B(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new Te(t.substr(0,e))}}function Wc(t,e,n){const s=t.syncPointTree_.get(e);B(s,"Missing sync point for query tag that we're tracking");const i=Dc(t.pendingWriteTree_,e);return Bc(s,n,i,null)}function VC(t){return t.fold((e,n,s)=>{if(n&&Fn(n))return[Ko(n)];{let i=[];return n&&(i=$m(n)),Qe(s,(r,o)=>{i=i.concat(o)}),i}})}function Ui(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(LC())(t._repo,t._path):t}function HC(t,e){for(let n=0;n<e.length;++n){const s=e[n];if(!s._queryParams.loadsAllData()){const i=Xo(s),r=t.queryToTagMap.get(i);t.queryToTagMap.delete(i),t.tagToQueryMap.delete(r)}}}function WC(){return MC++}function jC(t,e,n){const s=e._path,i=ho(t,e),r=Wm(t,n),o=t.listenProvider_.startListening(Ui(e),i,r.hashFn,r.onComplete),a=t.syncPointTree_.subtree(s);if(i)B(!Fn(a.value),"If we're adding a query, it shouldn't be shadowed");else{const l=a.fold((c,u,d)=>{if(!me(c)&&u&&Fn(u))return[Ko(u).query];{let f=[];return u&&(f=f.concat($m(u).map(h=>h.query))),Qe(d,(h,p)=>{f=f.concat(p)}),f}});for(let c=0;c<l.length;++c){const u=l[c];t.listenProvider_.stopListening(Ui(u),ho(t,u))}}return o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jc{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new jc(n)}node(){return this.node_}}class Gc{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=Le(this.path_,e);return new Gc(this.syncTree_,n)}node(){return zc(this.syncTree_,this.path_)}}const GC=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},Sf=function(t,e,n){if(!t||typeof t!="object")return t;if(B(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return qC(t[".sv"],e,n);if(typeof t[".sv"]=="object")return KC(t[".sv"],e);B(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},qC=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:B(!1,"Unexpected server value: "+t)}},KC=function(t,e,n){t.hasOwnProperty("increment")||B(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const s=t.increment;typeof s!="number"&&B(!1,"Unexpected increment value: "+s);const i=e.node();if(B(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return s;const o=i.getValue();return typeof o!="number"?s:o+s},jm=function(t,e,n,s){return qc(e,new Gc(n,t),s)},Gm=function(t,e,n){return qc(t,new jc(e),n)};function qc(t,e,n){const s=t.getPriority().val(),i=Sf(s,e.getImmediateChild(".priority"),n);let r;if(t.isLeafNode()){const o=t,a=Sf(o.getValue(),e,n);return a!==o.getValue()||i!==o.getPriority().val()?new Ve(a,We(i)):t}else{const o=t;return r=o,i!==o.getPriority().val()&&(r=r.updatePriority(new Ve(i))),o.forEachChild(Me,(a,l)=>{const c=qc(l,e.getImmediateChild(a),n);c!==l&&(r=r.updateImmediateChild(a,c))}),r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kc{constructor(e="",n=null,s={children:{},childCount:0}){this.name=e,this.parent=n,this.node=s}}function Yc(t,e){let n=e instanceof Te?e:new Te(e),s=t,i=he(n);for(;i!==null;){const r=Js(s.node.children,i)||{children:{},childCount:0};s=new Kc(i,s,r),n=xe(n),i=he(n)}return s}function pi(t){return t.node.value}function qm(t,e){t.node.value=e,Rl(t)}function Km(t){return t.node.childCount>0}function YC(t){return pi(t)===void 0&&!Km(t)}function Qo(t,e){Qe(t.node.children,(n,s)=>{e(new Kc(n,t,s))})}function Ym(t,e,n,s){n&&!s&&e(t),Qo(t,i=>{Ym(i,e,!0,s)}),n&&s&&e(t)}function XC(t,e,n){let s=n?t:t.parent;for(;s!==null;){if(e(s))return!0;s=s.parent}return!1}function gr(t){return new Te(t.parent===null?t.name:gr(t.parent)+"/"+t.name)}function Rl(t){t.parent!==null&&QC(t.parent,t.name,t)}function QC(t,e,n){const s=YC(n),i=Yt(t.node.children,e);s&&i?(delete t.node.children[e],t.node.childCount--,Rl(t)):!s&&!i&&(t.node.children[e]=n.node,t.node.childCount++,Rl(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JC=/[\[\].#$\/\u0000-\u001F\u007F]/,ZC=/[\[\].#$\u0000-\u001F\u007F]/,ka=10*1024*1024,Xc=function(t){return typeof t=="string"&&t.length!==0&&!JC.test(t)},Xm=function(t){return typeof t=="string"&&t.length!==0&&!ZC.test(t)},eI=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),Xm(t)},tI=function(t){return t===null||typeof t=="string"||typeof t=="number"&&!Ec(t)||t&&typeof t=="object"&&Yt(t,".sv")},nI=function(t,e,n,s){s&&e===void 0||Jo(Uo(t,"value"),e,n)},Jo=function(t,e,n){const s=n instanceof Te?new _T(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+Wn(s));if(typeof e=="function")throw new Error(t+"contains a function "+Wn(s)+" with contents = "+e.toString());if(Ec(e))throw new Error(t+"contains "+e.toString()+" "+Wn(s));if(typeof e=="string"&&e.length>ka/3&&Bo(e)>ka)throw new Error(t+"contains a string greater than "+ka+" utf8 bytes "+Wn(s)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let i=!1,r=!1;if(Qe(e,(o,a)=>{if(o===".value")i=!0;else if(o!==".priority"&&o!==".sv"&&(r=!0,!Xc(o)))throw new Error(t+" contains an invalid key ("+o+") "+Wn(s)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);vT(s,o),Jo(t,a,s),yT(s)}),i&&r)throw new Error(t+' contains ".value" child '+Wn(s)+" in addition to actual children.")}},sI=function(t,e){let n,s;for(n=0;n<e.length;n++){s=e[n];const r=Zi(s);for(let o=0;o<r.length;o++)if(!(r[o]===".priority"&&o===r.length-1)){if(!Xc(r[o]))throw new Error(t+"contains an invalid key ("+r[o]+") in path "+s.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}e.sort(gT);let i=null;for(n=0;n<e.length;n++){if(s=e[n],i!==null&&St(i,s))throw new Error(t+"contains a path "+i.toString()+" that is ancestor of another path "+s.toString());i=s}},iI=function(t,e,n,s){if(s&&e===void 0)return;const i=Uo(t,"values");if(!(e&&typeof e=="object")||Array.isArray(e))throw new Error(i+" must be an object containing the children to replace.");const r=[];Qe(e,(o,a)=>{const l=new Te(o);if(Jo(i,a,Le(n,l)),Pc(l)===".priority"&&!tI(a))throw new Error(i+"contains an invalid value for '"+l.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");r.push(l)}),sI(i,r)},Qm=function(t,e,n,s){if(!(s&&n===void 0)&&!Xm(n))throw new Error(Uo(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},rI=function(t,e,n,s){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),Qm(t,e,n,s)},oI=function(t,e){if(he(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},aI=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!Xc(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!eI(n))throw new Error(Uo(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lI{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Zo(t,e){let n=null;for(let s=0;s<e.length;s++){const i=e[s],r=i.getPath();n!==null&&!Rc(r,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:r}),n.events.push(i)}n&&t.eventLists_.push(n)}function Jm(t,e,n){Zo(t,n),Zm(t,s=>Rc(s,e))}function $t(t,e,n){Zo(t,n),Zm(t,s=>St(s,e)||St(e,s))}function Zm(t,e){t.recursionDepth_++;let n=!0;for(let s=0;s<t.eventLists_.length;s++){const i=t.eventLists_[s];if(i){const r=i.path;e(r)?(cI(t.eventLists_[s]),t.eventLists_[s]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function cI(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const s=n.getEventRunner();ss&&Ye("event: "+n.toString()),fi(s)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uI="repo_interrupt",dI=25;class fI{constructor(e,n,s,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=s,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new lI,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=ro(),this.transactionQueueTree_=new Kc,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function hI(t,e,n){if(t.stats_=Cc(t.repoInfo_),t.forceRestClient_||zS())t.server_=new io(t.repoInfo_,(s,i,r,o)=>{Tf(t,s,i,r,o)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>Cf(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Ge(n)}catch(s){throw new Error("Invalid authOverride provided: "+s)}}t.persistentConnection_=new on(t.repoInfo_,e,(s,i,r,o)=>{Tf(t,s,i,r,o)},s=>{Cf(t,s)},s=>{mI(t,s)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(s=>{t.server_.refreshAuthToken(s)}),t.appCheckProvider_.addTokenChangeListener(s=>{t.server_.refreshAppCheckToken(s.token)}),t.statsReporter_=GS(t.repoInfo_,()=>new jT(t.stats_,t.server_)),t.infoData_=new BT,t.infoSyncTree_=new bf({startListening:(s,i,r,o)=>{let a=[];const l=t.infoData_.getNode(s._path);return l.isEmpty()||(a=Yo(t.infoSyncTree_,s._path,l),setTimeout(()=>{o("ok")},0)),a},stopListening:()=>{}}),Qc(t,"connected",!1),t.serverSyncTree_=new bf({startListening:(s,i,r,o)=>(t.server_.listen(s,r,i,(a,l)=>{const c=o(a,l);$t(t.eventQueue_,s._path,c)}),[]),stopListening:(s,i)=>{t.server_.unlisten(s,i)}})}function pI(t){const n=t.infoData_.getNode(new Te(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function ea(t){return GC({timestamp:pI(t)})}function Tf(t,e,n,s,i){t.dataUpdateCount++;const r=new Te(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let o=[];if(i)if(s){const l=qr(n,c=>We(c));o=zC(t.serverSyncTree_,r,l,i)}else{const l=We(n);o=BC(t.serverSyncTree_,r,l,i)}else if(s){const l=qr(n,c=>We(c));o=FC(t.serverSyncTree_,r,l)}else{const l=We(n);o=Yo(t.serverSyncTree_,r,l)}let a=r;o.length>0&&(a=si(t,r)),$t(t.eventQueue_,a,o)}function Cf(t,e){Qc(t,"connected",e),e===!1&&vI(t)}function mI(t,e){Qe(e,(n,s)=>{Qc(t,n,s)})}function Qc(t,e,n){const s=new Te("/.info/"+e),i=We(n);t.infoData_.updateSnapshot(s,i);const r=Yo(t.infoSyncTree_,s,i);$t(t.eventQueue_,s,r)}function Jc(t){return t.nextWriteId_++}function gI(t,e,n,s,i){ta(t,"set",{path:e.toString(),value:n,priority:s});const r=ea(t),o=We(n,s),a=zc(t.serverSyncTree_,e),l=Gm(o,a,r),c=Jc(t),u=zm(t.serverSyncTree_,e,l,c,!0);Zo(t.eventQueue_,u),t.server_.put(e.toString(),o.val(!0),(f,h)=>{const p=f==="ok";p||it("set at "+e+" failed: "+f);const m=In(t.serverSyncTree_,c,!p);$t(t.eventQueue_,e,m),xl(t,i,f,h)});const d=eu(t,e);si(t,d),$t(t.eventQueue_,d,[])}function _I(t,e,n,s){ta(t,"update",{path:e.toString(),value:n});let i=!0;const r=ea(t),o={};if(Qe(n,(a,l)=>{i=!1,o[a]=jm(Le(e,a),We(l),t.serverSyncTree_,r)}),i)Ye("update() called with empty data.  Don't do anything."),xl(t,s,"ok",void 0);else{const a=Jc(t),l=DC(t.serverSyncTree_,e,o,a);Zo(t.eventQueue_,l),t.server_.merge(e.toString(),n,(c,u)=>{const d=c==="ok";d||it("update at "+e+" failed: "+c);const f=In(t.serverSyncTree_,a,!d),h=f.length>0?si(t,e):e;$t(t.eventQueue_,h,f),xl(t,s,c,u)}),Qe(n,c=>{const u=eu(t,Le(e,c));si(t,u)}),$t(t.eventQueue_,e,[])}}function vI(t){ta(t,"onDisconnectEvents");const e=ea(t),n=ro();wl(t.onDisconnect_,ye(),(i,r)=>{const o=jm(i,r,t.serverSyncTree_,e);Rm(n,i,o)});let s=[];wl(n,ye(),(i,r)=>{s=s.concat(Yo(t.serverSyncTree_,i,r));const o=eu(t,i);si(t,o)}),t.onDisconnect_=ro(),$t(t.eventQueue_,ye(),s)}function yI(t,e,n){let s;he(e._path)===".info"?s=Ef(t.infoSyncTree_,e,n):s=Ef(t.serverSyncTree_,e,n),Jm(t.eventQueue_,e._path,s)}function If(t,e,n){let s;he(e._path)===".info"?s=Pl(t.infoSyncTree_,e,n):s=Pl(t.serverSyncTree_,e,n),Jm(t.eventQueue_,e._path,s)}function wI(t){t.persistentConnection_&&t.persistentConnection_.interrupt(uI)}function ta(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),Ye(n,...e)}function xl(t,e,n,s){e&&fi(()=>{if(n==="ok")e(null);else{const i=(n||"error").toUpperCase();let r=i;s&&(r+=": "+s);const o=new Error(r);o.code=i,e(o)}})}function eg(t,e,n){return zc(t.serverSyncTree_,e,n)||ee.EMPTY_NODE}function Zc(t,e=t.transactionQueueTree_){if(e||na(t,e),pi(e)){const n=ng(t,e);B(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&bI(t,gr(e),n)}else Km(e)&&Qo(e,n=>{Zc(t,n)})}function bI(t,e,n){const s=n.map(c=>c.currentWriteId),i=eg(t,e,s);let r=i;const o=i.hash();for(let c=0;c<n.length;c++){const u=n[c];B(u.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;const d=lt(e,u.path);r=r.updateChild(d,u.currentOutputSnapshotRaw)}const a=r.val(!0),l=e;t.server_.put(l.toString(),a,c=>{ta(t,"transaction put response",{path:l.toString(),status:c});let u=[];if(c==="ok"){const d=[];for(let f=0;f<n.length;f++)n[f].status=2,u=u.concat(In(t.serverSyncTree_,n[f].currentWriteId)),n[f].onComplete&&d.push(()=>n[f].onComplete(null,!0,n[f].currentOutputSnapshotResolved)),n[f].unwatcher();na(t,Yc(t.transactionQueueTree_,e)),Zc(t,t.transactionQueueTree_),$t(t.eventQueue_,e,u);for(let f=0;f<d.length;f++)fi(d[f])}else{if(c==="datastale")for(let d=0;d<n.length;d++)n[d].status===3?n[d].status=4:n[d].status=0;else{it("transaction at "+l.toString()+" failed: "+c);for(let d=0;d<n.length;d++)n[d].status=4,n[d].abortReason=c}si(t,e)}},o)}function si(t,e){const n=tg(t,e),s=gr(n),i=ng(t,n);return EI(t,i,s),s}function EI(t,e,n){if(e.length===0)return;const s=[];let i=[];const o=e.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){const l=e[a],c=lt(n,l.path);let u=!1,d;if(B(c!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===4)u=!0,d=l.abortReason,i=i.concat(In(t.serverSyncTree_,l.currentWriteId,!0));else if(l.status===0)if(l.retryCount>=dI)u=!0,d="maxretry",i=i.concat(In(t.serverSyncTree_,l.currentWriteId,!0));else{const f=eg(t,l.path,o);l.currentInputSnapshot=f;const h=e[a].update(f.val());if(h!==void 0){Jo("transaction failed: Data returned ",h,l.path);let p=We(h);typeof h=="object"&&h!=null&&Yt(h,".priority")||(p=p.updatePriority(f.getPriority()));const w=l.currentWriteId,b=ea(t),g=Gm(p,f,b);l.currentOutputSnapshotRaw=p,l.currentOutputSnapshotResolved=g,l.currentWriteId=Jc(t),o.splice(o.indexOf(w),1),i=i.concat(zm(t.serverSyncTree_,l.path,g,l.currentWriteId,l.applyLocally)),i=i.concat(In(t.serverSyncTree_,w,!0))}else u=!0,d="nodata",i=i.concat(In(t.serverSyncTree_,l.currentWriteId,!0))}$t(t.eventQueue_,n,i),i=[],u&&(e[a].status=2,function(f){setTimeout(f,Math.floor(0))}(e[a].unwatcher),e[a].onComplete&&(d==="nodata"?s.push(()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot)):s.push(()=>e[a].onComplete(new Error(d),!1,null))))}na(t,t.transactionQueueTree_);for(let a=0;a<s.length;a++)fi(s[a]);Zc(t,t.transactionQueueTree_)}function tg(t,e){let n,s=t.transactionQueueTree_;for(n=he(e);n!==null&&pi(s)===void 0;)s=Yc(s,n),e=xe(e),n=he(e);return s}function ng(t,e){const n=[];return sg(t,e,n),n.sort((s,i)=>s.order-i.order),n}function sg(t,e,n){const s=pi(e);if(s)for(let i=0;i<s.length;i++)n.push(s[i]);Qo(e,i=>{sg(t,i,n)})}function na(t,e){const n=pi(e);if(n){let s=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[s]=n[i],s++);n.length=s,qm(e,n.length>0?n:void 0)}Qo(e,s=>{na(t,s)})}function eu(t,e){const n=gr(tg(t,e)),s=Yc(t.transactionQueueTree_,e);return XC(s,i=>{Oa(t,i)}),Oa(t,s),Ym(s,i=>{Oa(t,i)}),n}function Oa(t,e){const n=pi(e);if(n){const s=[];let i=[],r=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?(B(r===o-1,"All SENT items should be at beginning of queue."),r=o,n[o].status=3,n[o].abortReason="set"):(B(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),i=i.concat(In(t.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&s.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));r===-1?qm(e,void 0):n.length=r+1,$t(t.eventQueue_,gr(e),i);for(let o=0;o<s.length;o++)fi(s[o])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SI(t){let e="";const n=t.split("/");for(let s=0;s<n.length;s++)if(n[s].length>0){let i=n[s];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function TI(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const s=n.split("=");s.length===2?e[decodeURIComponent(s[0])]=decodeURIComponent(s[1]):it(`Invalid query segment '${n}' in query '${t}'`)}return e}const Pf=function(t,e){const n=CI(t),s=n.namespace;n.domain==="firebase.com"&&cn(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!s||s==="undefined")&&n.domain!=="localhost"&&cn("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||OS();const i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new dm(n.host,n.secure,s,i,e,"",s!==n.subdomain),path:new Te(n.pathString)}},CI=function(t){let e="",n="",s="",i="",r="",o=!0,a="https",l=443;if(typeof t=="string"){let c=t.indexOf("//");c>=0&&(a=t.substring(0,c-1),t=t.substring(c+2));let u=t.indexOf("/");u===-1&&(u=t.length);let d=t.indexOf("?");d===-1&&(d=t.length),e=t.substring(0,Math.min(u,d)),u<d&&(i=SI(t.substring(u,d)));const f=TI(t.substring(Math.min(t.length,d)));c=e.indexOf(":"),c>=0?(o=a==="https"||a==="wss",l=parseInt(e.substring(c+1),10)):c=e.length;const h=e.slice(0,c);if(h.toLowerCase()==="localhost")n="localhost";else if(h.split(".").length<=2)n=h;else{const p=e.indexOf(".");s=e.substring(0,p).toLowerCase(),n=e.substring(p+1),r=s}"ns"in f&&(r=f.ns)}return{host:e,port:l,domain:n,subdomain:s,secure:o,scheme:a,pathString:i,namespace:r}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ig{constructor(e,n,s,i){this.eventType=e,this.eventRegistration=n,this.snapshot=s,this.prevName=i}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Ge(this.snapshot.exportVal())}}class rg{constructor(e,n,s){this.eventRegistration=e,this.error=n,this.path=s}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class II{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return B(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tu{constructor(e,n,s,i){this._repo=e,this._path=n,this._queryParams=s,this._orderByCalled=i}get key(){return me(this._path)?null:Pc(this._path)}get ref(){return new fn(this._repo,this._path)}get _queryIdentifier(){const e=df(this._queryParams),n=Sc(e);return n==="{}"?"default":n}get _queryObject(){return df(this._queryParams)}isEqual(e){if(e=ze(e),!(e instanceof tu))return!1;const n=this._repo===e._repo,s=Rc(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return n&&s&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+mT(this._path)}}class fn extends tu{constructor(e,n){super(e,n,new Oc,!1)}get parent(){const e=wm(this._path);return e===null?null:new fn(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class ir{constructor(e,n,s){this._node=e,this.ref=n,this._index=s}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new Te(e),s=po(this.ref,e);return new ir(this._node.getChild(n),s,Me)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(s,i)=>e(new ir(i,po(this.ref,s),Me)))}hasChild(e){const n=new Te(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Jn(t,e){return t=ze(t),t._checkNotDeleted("ref"),e!==void 0?po(t._root,e):t._root}function po(t,e){return t=ze(t),he(t._path)===null?rI("child","path",e,!1):Qm("child","path",e,!1),new fn(t._repo,Le(t._path,e))}function Rf(t,e){t=ze(t),oI("set",t._path),nI("set",e,t._path,!1);const n=new or;return gI(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}function og(t,e){iI("update",e,t._path,!1);const n=new or;return _I(t._repo,t._path,e,n.wrapCallback(()=>{})),n.promise}class nu{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const s=n._queryParams.getIndex();return new ig("value",this,new ir(e.snapshotNode,new fn(n._repo,n._path),s))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new rg(this,e,n):null}matches(e){return e instanceof nu?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}class su{constructor(e,n){this.eventType=e,this.callbackContext=n}respondsTo(e){let n=e==="children_added"?"child_added":e;return n=n==="children_removed"?"child_removed":n,this.eventType===n}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new rg(this,e,n):null}createEvent(e,n){B(e.childName!=null,"Child events should have a childName.");const s=po(new fn(n._repo,n._path),e.childName),i=n._queryParams.getIndex();return new ig(e.type,this,new ir(e.snapshotNode,s,i),e.prevName)}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof su?this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext)):!1}hasAnyCallback(){return!!this.callbackContext}}function PI(t,e,n,s,i){let r;if(typeof s=="object"&&(r=void 0,i=s),typeof s=="function"&&(r=s),i&&i.onlyOnce){const l=n,c=(u,d)=>{If(t._repo,t,a),l(u,d)};c.userCallback=n.userCallback,c.context=n.context,n=c}const o=new II(n,r||void 0),a=e==="value"?new nu(o):new su(e,o);return yI(t._repo,t,a),()=>If(t._repo,t,a)}function iu(t,e,n,s){return PI(t,"value",e,n,s)}PC(fn);NC(fn);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RI="FIREBASE_DATABASE_EMULATOR_HOST",Al={};let xI=!1;function AI(t,e,n,s){t.repoInfo_=new dm(`${e}:${n}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),s&&(t.authTokenProvider_=s)}function kI(t,e,n,s,i){let r=s||t.options.databaseURL;r===void 0&&(t.options.projectId||cn("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Ye("Using default host for project ",t.options.projectId),r=`${t.options.projectId}-default-rtdb.firebaseio.com`);let o=Pf(r,i),a=o.repoInfo,l,c;typeof process<"u"&&Gd&&(c=Gd[RI]),c?(l=!0,r=`http://${c}?ns=${a.namespace}`,o=Pf(r,i),a=o.repoInfo):l=!o.repoInfo.secure;const u=i&&l?new Hs(Hs.OWNER):new HS(t.name,t.options,e);aI("Invalid Firebase Database URL",o),me(o.path)||cn("Database URL must point to the root of a Firebase Database (not including a child path).");const d=NI(a,t,u,new VS(t.name,n));return new LI(d,t)}function OI(t,e){const n=Al[e];(!n||n[t.key]!==t)&&cn(`Database ${e}(${t.repoInfo_}) has already been deleted.`),wI(t),delete n[t.key]}function NI(t,e,n,s){let i=Al[e.name];i||(i={},Al[e.name]=i);let r=i[t.toURLString()];return r&&cn("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),r=new fI(t,xI,n,s),i[t.toURLString()]=r,r}class LI{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(hI(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new fn(this._repo,ye())),this._rootInternal}_delete(){return this._rootInternal!==null&&(OI(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&cn("Cannot call "+e+" on a deleted database.")}}function MI(t=zo(),e){const n=lr(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const s=lc("database");s&&DI(n,...s)}return n}function DI(t,e,n,s={}){t=ze(t),t._checkNotDeleted("useEmulator"),t._instanceStarted&&cn("Cannot call useEmulator() after instance has already been initialized.");const i=t._repoInternal;let r;if(i.repoInfo_.nodeAdmin)s.mockUserToken&&cn('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),r=new Hs(Hs.OWNER);else if(s.mockUserToken){const o=typeof s.mockUserToken=="string"?s.mockUserToken:cp(s.mockUserToken,t.app.options.projectId);r=new Hs(o)}AI(i,e,n,r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FI(t){PS(ys),Mn(new an("database",(e,{instanceIdentifier:n})=>{const s=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),r=e.getProvider("app-check-internal");return kI(s,i,r,n)},"PUBLIC").setMultipleInstances(!0)),Ct(qd,Kd,t),Ct(qd,Kd,"esm2017")}on.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};on.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};FI();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ag="firebasestorage.googleapis.com",lg="storageBucket",$I=2*60*1e3,UI=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ke extends dn{constructor(e,n,s=0){super(Na(e),`Firebase Storage: ${n} (${Na(e)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Ke.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Na(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var qe;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(qe||(qe={}));function Na(t){return"storage/"+t}function cg(){const t="An unknown error occurred, please check the error payload for server response.";return new Ke(qe.UNKNOWN,t)}function BI(t){return new Ke(qe.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function zI(t){return new Ke(qe.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function VI(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Ke(qe.UNAUTHENTICATED,t)}function HI(){return new Ke(qe.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function WI(t){return new Ke(qe.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function jI(){return new Ke(qe.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function GI(){return new Ke(qe.CANCELED,"User canceled the upload/download.")}function qI(t){return new Ke(qe.INVALID_URL,"Invalid URL '"+t+"'.")}function KI(t){return new Ke(qe.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function YI(){return new Ke(qe.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+lg+"' property when initializing the app?")}function XI(){return new Ke(qe.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function kl(t){return new Ke(qe.INVALID_ARGUMENT,t)}function ug(){return new Ke(qe.APP_DELETED,"The Firebase app was deleted.")}function QI(t){return new Ke(qe.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Si(t){throw new Ke(qe.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _t{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let s;try{s=_t.makeFromUrl(e,n)}catch{return new _t(e,"")}if(s.path==="")return s;throw KI(e)}static makeFromUrl(e,n){let s=null;const i="([A-Za-z0-9.\\-_]+)";function r(S){S.path.charAt(S.path.length-1)==="/"&&(S.path_=S.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+i+o,"i"),l={bucket:1,path:3};function c(S){S.path_=decodeURIComponent(S.path)}const u="v[A-Za-z0-9_]+",d=n.replace(/[.]/g,"\\."),f="(/([^?#]*).*)?$",h=new RegExp(`^https?://${d}/${u}/b/${i}/o${f}`,"i"),p={bucket:1,path:3},m=n===ag?"(?:storage.googleapis.com|storage.cloud.google.com)":n,w="([^?#]*)",b=new RegExp(`^https?://${m}/${i}/${w}`,"i"),y=[{regex:a,indices:l,postModify:r},{regex:h,indices:p,postModify:c},{regex:b,indices:{bucket:1,path:2},postModify:c}];for(let S=0;S<y.length;S++){const I=y[S],U=I.regex.exec(e);if(U){const K=U[I.indices.bucket];let L=U[I.indices.path];L||(L=""),s=new _t(K,L),I.postModify(s);break}}if(s==null)throw qI(e);return s}}class JI{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZI(t,e,n){let s=1,i=null,r=null,o=!1,a=0;function l(){return a===2}let c=!1;function u(...w){c||(c=!0,e.apply(null,w))}function d(w){i=setTimeout(()=>{i=null,t(h,l())},w)}function f(){r&&clearTimeout(r)}function h(w,...b){if(c){f();return}if(w){f(),u.call(null,w,...b);return}if(l()||o){f(),u.call(null,w,...b);return}s<64&&(s*=2);let y;a===1?(a=2,y=0):y=(s+Math.random())*1e3,d(y)}let p=!1;function m(w){p||(p=!0,f(),!c&&(i!==null?(w||(a=2),clearTimeout(i),d(0)):w||(a=1)))}return d(0),r=setTimeout(()=>{o=!0,m(!0)},n),m}function e1(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t1(t){return t!==void 0}function n1(t){return typeof t=="object"&&!Array.isArray(t)}function dg(t){return typeof t=="string"||t instanceof String}function xf(t,e,n,s){if(s<e)throw kl(`Invalid value for '${t}'. Expected ${e} or greater.`);if(s>n)throw kl(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fg(t,e,n){let s=e;return n==null&&(s=`https://${e}`),`${n}://${s}/v0${t}`}function hg(t){const e=encodeURIComponent;let n="?";for(const s in t)if(t.hasOwnProperty(s)){const i=e(s)+"="+e(t[s]);n=n+i+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var is;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(is||(is={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s1(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,r=e.indexOf(t)!==-1;return n||i||r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i1{constructor(e,n,s,i,r,o,a,l,c,u,d,f=!0){this.url_=e,this.method_=n,this.headers_=s,this.body_=i,this.successCodes_=r,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=c,this.progressCallback_=u,this.connectionFactory_=d,this.retry=f,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((h,p)=>{this.resolve_=h,this.reject_=p,this.start_()})}start_(){const e=(s,i)=>{if(i){s(!1,new Ir(!1,null,!0));return}const r=this.connectionFactory_();this.pendingConnection_=r;const o=a=>{const l=a.loaded,c=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,c)};this.progressCallback_!==null&&r.addUploadProgressListener(o),r.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&r.removeUploadProgressListener(o),this.pendingConnection_=null;const a=r.getErrorCode()===is.NO_ERROR,l=r.getStatus();if(!a||s1(l,this.additionalRetryCodes_)&&this.retry){const u=r.getErrorCode()===is.ABORT;s(!1,new Ir(!1,null,u));return}const c=this.successCodes_.indexOf(l)!==-1;s(!0,new Ir(c,r))})},n=(s,i)=>{const r=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());t1(l)?r(l):r()}catch(l){o(l)}else if(a!==null){const l=cg();l.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,l)):o(l)}else if(i.canceled){const l=this.appDelete_?ug():GI();o(l)}else{const l=jI();o(l)}};this.canceled_?n(!1,new Ir(!1,null,!0)):this.backoffId_=ZI(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&e1(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Ir{constructor(e,n,s){this.wasSuccessCode=e,this.connection=n,this.canceled=!!s}}function r1(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function o1(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function a1(t,e){e&&(t["X-Firebase-GMPID"]=e)}function l1(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function c1(t,e,n,s,i,r,o=!0){const a=hg(t.urlParams),l=t.url+a,c=Object.assign({},t.headers);return a1(c,e),r1(c,n),o1(c,r),l1(c,s),new i1(l,t.method,c,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pg(t){let e;try{e=JSON.parse(t)}catch{return null}return n1(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u1(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function d1(t,e){const n=e.split("/").filter(s=>s.length>0).join("/");return t.length===0?n:t+"/"+n}function mg(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f1(t,e){return e}class tt{constructor(e,n,s,i){this.server=e,this.local=n||e,this.writable=!!s,this.xform=i||f1}}let Pr=null;function h1(t){return!dg(t)||t.length<2?t:mg(t)}function p1(){if(Pr)return Pr;const t=[];t.push(new tt("bucket")),t.push(new tt("generation")),t.push(new tt("metageneration")),t.push(new tt("name","fullPath",!0));function e(r,o){return h1(o)}const n=new tt("name");n.xform=e,t.push(n);function s(r,o){return o!==void 0?Number(o):o}const i=new tt("size");return i.xform=s,t.push(i),t.push(new tt("timeCreated")),t.push(new tt("updated")),t.push(new tt("md5Hash",null,!0)),t.push(new tt("cacheControl",null,!0)),t.push(new tt("contentDisposition",null,!0)),t.push(new tt("contentEncoding",null,!0)),t.push(new tt("contentLanguage",null,!0)),t.push(new tt("contentType",null,!0)),t.push(new tt("metadata","customMetadata",!0)),Pr=t,Pr}function m1(t,e){function n(){const s=t.bucket,i=t.fullPath,r=new _t(s,i);return e._makeStorageReference(r)}Object.defineProperty(t,"ref",{get:n})}function g1(t,e,n){const s={};s.type="file";const i=n.length;for(let r=0;r<i;r++){const o=n[r];s[o.local]=o.xform(s,e[o.server])}return m1(s,t),s}function _1(t,e,n){const s=pg(e);return s===null?null:g1(t,s,n)}function v1(t,e,n,s){const i=pg(e);if(i===null||!dg(i.downloadTokens))return null;const r=i.downloadTokens;if(r.length===0)return null;const o=encodeURIComponent;return r.split(",").map(c=>{const u=t.bucket,d=t.fullPath,f="/b/"+o(u)+"/o/"+o(d),h=fg(f,n,s),p=hg({alt:"media",token:c});return h+p})[0]}class y1{constructor(e,n,s,i){this.url=e,this.method=n,this.handler=s,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w1(t){if(!t)throw cg()}function b1(t,e){function n(s,i){const r=_1(t,i,e);return w1(r!==null),v1(r,i,t.host,t._protocol)}return n}function E1(t){function e(n,s){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=HI():i=VI():n.getStatus()===402?i=zI(t.bucket):n.getStatus()===403?i=WI(t.path):i=s,i.status=n.getStatus(),i.serverResponse=s.serverResponse,i}return e}function S1(t){const e=E1(t);function n(s,i){let r=e(s,i);return s.getStatus()===404&&(r=BI(t.path)),r.serverResponse=i.serverResponse,r}return n}function T1(t,e,n){const s=e.fullServerUrl(),i=fg(s,t.host,t._protocol),r="GET",o=t.maxOperationRetryTime,a=new y1(i,r,b1(t,n),o);return a.errorHandler=S1(e),a}class C1{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=is.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=is.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=is.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,s,i){if(this.sent_)throw Si("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(const r in i)i.hasOwnProperty(r)&&this.xhr_.setRequestHeader(r,i[r].toString());return s!==void 0?this.xhr_.send(s):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Si("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Si("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Si("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Si("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class I1 extends C1{initXhr(){this.xhr_.responseType="text"}}function P1(){return new I1}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ms{constructor(e,n){this._service=e,n instanceof _t?this._location=n:this._location=_t.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new ms(e,n)}get root(){const e=new _t(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return mg(this._location.path)}get storage(){return this._service}get parent(){const e=u1(this._location.path);if(e===null)return null;const n=new _t(this._location.bucket,e);return new ms(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw QI(e)}}function R1(t){t._throwIfRoot("getDownloadURL");const e=T1(t.storage,t._location,p1());return t.storage.makeRequestWithTokens(e,P1).then(n=>{if(n===null)throw XI();return n})}function x1(t,e){const n=d1(t._location.path,e),s=new _t(t._location.bucket,n);return new ms(t.storage,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A1(t){return/^[A-Za-z]+:\/\//.test(t)}function k1(t,e){return new ms(t,e)}function gg(t,e){if(t instanceof ru){const n=t;if(n._bucket==null)throw YI();const s=new ms(n,n._bucket);return e!=null?gg(s,e):s}else return e!==void 0?x1(t,e):t}function O1(t,e){if(e&&A1(e)){if(t instanceof ru)return k1(t,e);throw kl("To use ref(service, url), the first argument must be a Storage instance.")}else return gg(t,e)}function Af(t,e){const n=e==null?void 0:e[lg];return n==null?null:_t.makeFromBucketSpec(n,t)}function N1(t,e,n,s={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:i}=s;i&&(t._overrideAuthToken=typeof i=="string"?i:cp(i,t.app.options.projectId))}class ru{constructor(e,n,s,i,r){this.app=e,this._authProvider=n,this._appCheckProvider=s,this._url=i,this._firebaseVersion=r,this._bucket=null,this._host=ag,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=$I,this._maxUploadRetryTime=UI,this._requests=new Set,i!=null?this._bucket=_t.makeFromBucketSpec(i,this._host):this._bucket=Af(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=_t.makeFromBucketSpec(this._url,e):this._bucket=Af(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){xf("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){xf("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new ms(this,e)}_makeRequest(e,n,s,i,r=!0){if(this._deleted)return new JI(ug());{const o=c1(e,this._appId,s,i,n,this._firebaseVersion,r);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[s,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,s,i).getPromise()}}const kf="@firebase/storage",Of="0.12.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _g="storage";function L1(t){return t=ze(t),R1(t)}function M1(t,e){return t=ze(t),O1(t,e)}function D1(t=zo(),e){t=ze(t);const s=lr(t,_g).getImmediate({identifier:e}),i=lc("storage");return i&&F1(s,...i),s}function F1(t,e,n,s={}){N1(t,e,n,s)}function $1(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),s=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new ru(n,s,i,e,ys)}function U1(){Mn(new an(_g,$1,"PUBLIC").setMultipleInstances(!0)),Ct(kf,Of,""),Ct(kf,Of,"esm2017")}U1();const B1={apiKey:"AIzaSyBk_WqKQCd9SP39rqI8XSFWmsaNqxu3AtA",authDomain:"dasparfum-e06ae.firebaseapp.com",projectId:"dasparfum-e06ae",storageBucket:"dasparfum-e06ae.appspot.com",messagingSenderId:"352920630111",appId:"1:352920630111:web:7a40a92d632d267cad7cea",measurementId:"G-PWW5440LDN"},vg=mp(B1),z1=D1(),Zn=MI(),Ti=pS(vg);CS(vg,"asia-northeast1");const gs=Mo("cart",{state:()=>({cartList:[]}),actions:{addProduct(t){const e=this.cartList.find(n=>n.id===t.id&&n.selectedSizeIndex===t.selectedSizeIndex);if(e)e.quantity+=1;else{let n=JSON.parse(JSON.stringify(t));n.quantity=1,this.cartList.push(n)}},deleteProduct(t){this.cartList=this.cartList.filter(e=>e.id!==t.id)},setList(t){console.log(t,"ssetlist"),Array.isArray(t)?this.cartList=t:this.cartList=[]},async submit(){const t=sa(),e=Jn(Zn,"users/"+t.user.uid);await og(e,{order:this.cartList})}}}),yg=Mo("order",{state:()=>({order:[]}),actions:{async getOrder(){const t=sa(),e=Jn(Zn,"users/"+t.user.uid);await iu(e,n=>{const s=n.val();this.userDb=s,this.order=this.userDb.order})},clearOrder(){this.order=[]}}}),V1=new Zt,sa=Mo("auth",{state:()=>({user:null,userDb:null}),actions:{async signInWithGoogle(){try{const t=await SE(Ti,V1);return this.user=t.user,await this.createGoogleUserData(),await this.getUserData(),!0}catch(t){return console.error(t),!1}},async createGoogleUserData(){const t=Jn(Zn,"users/"+this.user.uid);await Rf(t,{name:this.user.displayName})},signInWithEmail(t,e){Jb(Ti,t,e).then(n=>n.user).then(n=>{console.log(n,"useruser"),this.user=n,this.getUserData(n)}).catch(n=>{console.log("登入帳密錯誤",n)})},async signUpWithEmail(t,e){Qb(Ti,t,e).then(n=>n.user).then(async n=>{this.user=n,await this.createUserData(n.email.split("@")[0]);const i=gs().cartList;console.log(i,"應該有")}).catch(n=>{console.log("註冊失敗，直接登入",t,e),this.signInWithEmail(t,e)})},async createUserData(t){const e=Jn(Zn,"users/"+this.user.uid);await Rf(e,{name:t})},async getUserData(){const t=Jn(Zn,"users/"+this.user.uid);await iu(t,e=>{const n=e.val();this.userDb=n})},async checkAuthState(){return console.log("checkAuthState"),new Promise((t,e)=>{tE(Ti,async n=>{console.log(n,"user"),n?(this.user=n,await this.getUserData(),t(n)):(this.user=null,t(null))},e)})},async setCartData(){const e=gs().cartList;console.log(e,"shopcartList");const n=Jn(Zn,"users/"+this.user.uid);await og(n,{cart:e})},logout(){nE(Ti).then(t=>{console.log(t,"res"),this.user=null,this.clearUserData()})},clearUserData(){const t=yg();this.user=null,this.userDb=null,t.clearOrder()}}}),ia=t=>(vt("data-v-9ef0dc33"),t=t(),yt(),t),H1={key:0,class:"login-dialogue"},W1={class:"wrapper"},j1=ia(()=>_("div",{class:"loginTitle"},"登入您的帳號",-1)),G1=ia(()=>_("div",{class:"email"},"電子郵件",-1)),q1=ia(()=>_("div",{class:"password"},"密碼",-1)),K1=ia(()=>_("div",{class:"register"},[_("h3",null,"還沒有Aesop帳戶?")],-1)),Y1={__name:"Login",props:["title"],setup(t,{expose:e}){const n=ae(""),s=ae(""),i=ae("");let r=ae(!1);function o(){r.value=!0}function a(){r.value=!1}const l=sa();async function c(){try{await l.signUpWithEmail(n.value,s.value,i.value),r.value=!1}catch(d){console.log(d)}}async function u(){const d=await l.signInWithGoogle();console.log("isLoginSuccess",d),d?r.value=!1:alert("登入失敗")}return e({show:o,hide:a}),(d,f)=>ue(r)?(Z(),de("div",H1,[_("div",{class:"closed"},[_("button",{onClick:a},"Ｘ")]),_("div",W1,[j1,G1,qa(_("input",{type:"email","onUpdate:modelValue":f[0]||(f[0]=h=>n.value=h),name:"email",placeholder:"輸入您的電子郵件"},null,512),[[Ju,n.value]]),q1,qa(_("input",{type:"password","onUpdate:modelValue":f[1]||(f[1]=h=>s.value=h),name:"password",placeholder:"輸入密碼"},null,512),[[Ju,s.value]]),_("div",{class:"loginButton"},[_("button",{onClick:c},"登入")]),_("div",{class:"loginButton"},[_("button",{onClick:u},"google登入")]),K1])])):Os("",!0)}},X1=rt(Y1,[["__scopeId","data-v-9ef0dc33"]]),ra=t=>(vt("data-v-81a29da8"),t=t(),yt(),t),Q1={class:"content"},J1={class:"productWrapper"},Z1={class:"name"},eP={class:"detailWrapper"},tP={class:"capacity"},nP=ra(()=>_("div",{class:"title"},"容量",-1)),sP={class:"unitPrice"},iP=ra(()=>_("div",{class:"title"},"單價",-1)),rP={class:"quantity"},oP=ra(()=>_("div",{class:"title"},"數量",-1)),aP=ra(()=>_("button",null,"前往結帳",-1)),lP=[aP],cP={__name:"PreviewCart",setup(t,{expose:e}){const s=Do(gs()).cartList,i=Bt();let r=ae(!1);function o(){r.value=!0}function a(){r.value=!1}e({show:o,hide:a});function l(){i.push("/CartshopView")}return(c,u)=>ue(r)?(Z(),de("div",{key:0,class:"previewWrapper",onMouseleave:a},[_("div",Q1,[_("div",J1,[(Z(!0),de(Oe,null,at(ue(s),(d,f)=>(Z(),de("div",{class:"item",key:f},[_("div",Z1,te(d.title),1),_("div",eP,[_("div",tP,[nP,Et(" "+te(d.sizeList[d.selectedSizeIndex].capacity)+" ml ",1)]),_("div",sP,[iP,Et(" "+te(d.sizeList[d.selectedSizeIndex].price),1)]),_("div",rP,[oP,Et(" "+te(d.quantity),1)])])]))),128))]),_("div",{class:"buttonWrapper",onClick:l},lP)])],32)):Os("",!0)}},uP=rt(cP,[["__scopeId","data-v-81a29da8"]]),ou=Mo("product",{state:()=>({productList:null,currentProduct:null}),actions:{getProductList(){return new Promise(t=>{const e=Jn(Zn,"product");iu(e,n=>{const s=n.val();console.log(s),s.forEach(i=>{i.sizeList.forEach(r=>{this.getProductImage(r)})}),this.productList=s})})},async getProductImage(t){try{const e=M1(z1,t.imagePath),n=await L1(e);t.imageSrc=n}catch{t.imageSrc=null}},setCurrentProduct(t){this.currentProduct=t}}}),dP=t=>(vt("data-v-b3874313"),t=t(),yt(),t),fP=dP(()=>_("div",{class:"headerTop"},[_("p",null,"單筆訂單金額滿$1,500，即享全台灣宅配免運費。")],-1)),hP={class:"header",id:"header"},pP={class:"navbarLeft"},mP={class:"login-wrapper"},gP={key:1,class:"welcome"},_P={class:"content"},vP={__name:"AppLayout",setup(t){const e=Bt(),n=ae(null);function s(){n.value.show()}function i(){e.push("/cartshopView")}function r(){e.push("/member")}const o=ae();function a(){o.value.show()}function l(){o.value.hide()}const c=ae(!1),u=sa(),d=st(()=>u.userDb!==null),f=st(()=>u.userDb);function h(){u.checkAuthState()}function p(){u.logout()}const m=ou();function w(){m.getProductList()}function b(){setTimeout(()=>{c.value=!0},1500),h(),w()}return b(),(g,y)=>(Z(),de(Oe,null,[fP,_("div",hP,[_("div",pP,[fe(ue(xs),{to:"/"},{default:Ne(()=>[Et("首頁")]),_:1}),fe(ue(xs),{to:"/about"},{default:Ne(()=>[Et("關於我們")]),_:1}),fe(ue(xs),{to:"/productList"},{default:Ne(()=>[Et("商品列表")]),_:1}),fe(ue(xs),{to:"/shop"},{default:Ne(()=>[Et("實體店鋪")]),_:1}),fe(ue(xs),{to:"/contact"},{default:Ne(()=>[Et("聯絡我們")]),_:1})]),_("div",{class:"navbarRight",onMouseenter:l},[qa(_("div",mP,[d.value?Os("",!0):(Z(),de("div",{key:0,class:"login",onClick:s},"登入會員")),d.value?(Z(),de("div",gP,te(f.value.name),1)):Os("",!0),d.value?(Z(),de("div",{key:2,class:"login",onClick:r},"會員頁面")):Os("",!0),d.value?(Z(),de("div",{key:3,class:"login",onClick:p},"登出")):Os("",!0)],512),[[Lv,c.value]]),_("div",{class:"cart",onClick:i,onMouseenter:a},"購物車",32)],32)]),_("div",_P,[fe(ue(tp)),fe(X1,{ref_key:"loginRef",ref:n},null,512),fe(uP,{ref_key:"previewCartRef",ref:o},null,512)]),fe(Sw)],64))}},yP=rt(vP,[["__scopeId","data-v-b3874313"]]),wP={__name:"App",setup(t){return(e,n)=>(Z(),Cn(yP))}},bP=""+new URL("home-perfume-FjvhSv2s.jpg",import.meta.url).href,EP=""+new URL("home-gift-0FUBJj_3.jpg",import.meta.url).href,SP=""+new URL("home-videocall-44cJss5W.jpg",import.meta.url).href,TP=t=>(vt("data-v-4cf978e6"),t=t(),yt(),t),CP={class:"app-button"},IP={class:"text"},PP=TP(()=>_("div",{class:"action"},"→",-1)),RP={__name:"AppButton",props:["title","path"],setup(t){const e=Bt(),n=t;function s(){e.push(n.path)}return(i,r)=>(Z(),de("div",CP,[_("div",{class:"wrapper",onClick:s},[_("div",IP,te(t.title),1),PP])]))}},As=rt(RP,[["__scopeId","data-v-4cf978e6"]]);function Nf(t){return t!==null&&typeof t=="object"&&"constructor"in t&&t.constructor===Object}function au(t,e){t===void 0&&(t={}),e===void 0&&(e={}),Object.keys(e).forEach(n=>{typeof t[n]>"u"?t[n]=e[n]:Nf(e[n])&&Nf(t[n])&&Object.keys(e[n]).length>0&&au(t[n],e[n])})}const wg={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector(){return null},querySelectorAll(){return[]},getElementById(){return null},createEvent(){return{initEvent(){}}},createElement(){return{children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName(){return[]}}},createElementNS(){return{}},importNode(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function It(){const t=typeof document<"u"?document:{};return au(t,wg),t}const xP={document:wg,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle(){return{getPropertyValue(){return""}}},Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia(){return{}},requestAnimationFrame(t){return typeof setTimeout>"u"?(t(),null):setTimeout(t,0)},cancelAnimationFrame(t){typeof setTimeout>"u"||clearTimeout(t)}};function dt(){const t=typeof window<"u"?window:{};return au(t,xP),t}function _n(t){return t===void 0&&(t=""),t.trim().split(" ").filter(e=>!!e.trim())}function AP(t){const e=t;Object.keys(e).forEach(n=>{try{e[n]=null}catch{}try{delete e[n]}catch{}})}function mo(t,e){return e===void 0&&(e=0),setTimeout(t,e)}function go(){return Date.now()}function kP(t){const e=dt();let n;return e.getComputedStyle&&(n=e.getComputedStyle(t,null)),!n&&t.currentStyle&&(n=t.currentStyle),n||(n=t.style),n}function OP(t,e){e===void 0&&(e="x");const n=dt();let s,i,r;const o=kP(t);return n.WebKitCSSMatrix?(i=o.transform||o.webkitTransform,i.split(",").length>6&&(i=i.split(", ").map(a=>a.replace(",",".")).join(", ")),r=new n.WebKitCSSMatrix(i==="none"?"":i)):(r=o.MozTransform||o.OTransform||o.MsTransform||o.msTransform||o.transform||o.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),s=r.toString().split(",")),e==="x"&&(n.WebKitCSSMatrix?i=r.m41:s.length===16?i=parseFloat(s[12]):i=parseFloat(s[4])),e==="y"&&(n.WebKitCSSMatrix?i=r.m42:s.length===16?i=parseFloat(s[13]):i=parseFloat(s[5])),i||0}function Rr(t){return typeof t=="object"&&t!==null&&t.constructor&&Object.prototype.toString.call(t).slice(8,-1)==="Object"}function NP(t){return typeof window<"u"&&typeof window.HTMLElement<"u"?t instanceof HTMLElement:t&&(t.nodeType===1||t.nodeType===11)}function pt(){const t=Object(arguments.length<=0?void 0:arguments[0]),e=["__proto__","constructor","prototype"];for(let n=1;n<arguments.length;n+=1){const s=n<0||arguments.length<=n?void 0:arguments[n];if(s!=null&&!NP(s)){const i=Object.keys(Object(s)).filter(r=>e.indexOf(r)<0);for(let r=0,o=i.length;r<o;r+=1){const a=i[r],l=Object.getOwnPropertyDescriptor(s,a);l!==void 0&&l.enumerable&&(Rr(t[a])&&Rr(s[a])?s[a].__swiper__?t[a]=s[a]:pt(t[a],s[a]):!Rr(t[a])&&Rr(s[a])?(t[a]={},s[a].__swiper__?t[a]=s[a]:pt(t[a],s[a])):t[a]=s[a])}}}return t}function xi(t,e,n){t.style.setProperty(e,n)}function bg(t){let{swiper:e,targetPosition:n,side:s}=t;const i=dt(),r=-e.translate;let o=null,a;const l=e.params.speed;e.wrapperEl.style.scrollSnapType="none",i.cancelAnimationFrame(e.cssModeFrameID);const c=n>r?"next":"prev",u=(f,h)=>c==="next"&&f>=h||c==="prev"&&f<=h,d=()=>{a=new Date().getTime(),o===null&&(o=a);const f=Math.max(Math.min((a-o)/l,1),0),h=.5-Math.cos(f*Math.PI)/2;let p=r+h*(n-r);if(u(p,n)&&(p=n),e.wrapperEl.scrollTo({[s]:p}),u(p,n)){e.wrapperEl.style.overflow="hidden",e.wrapperEl.style.scrollSnapType="",setTimeout(()=>{e.wrapperEl.style.overflow="",e.wrapperEl.scrollTo({[s]:p})}),i.cancelAnimationFrame(e.cssModeFrameID);return}e.cssModeFrameID=i.requestAnimationFrame(d)};d()}function Eg(t){return t.querySelector(".swiper-slide-transform")||t.shadowRoot&&t.shadowRoot.querySelector(".swiper-slide-transform")||t}function Lt(t,e){return e===void 0&&(e=""),[...t.children].filter(n=>n.matches(e))}function _o(t){try{console.warn(t);return}catch{}}function _s(t,e){e===void 0&&(e=[]);const n=document.createElement(t);return n.classList.add(...Array.isArray(e)?e:_n(e)),n}function LP(t){const e=dt(),n=It(),s=t.getBoundingClientRect(),i=n.body,r=t.clientTop||i.clientTop||0,o=t.clientLeft||i.clientLeft||0,a=t===e?e.scrollY:t.scrollTop,l=t===e?e.scrollX:t.scrollLeft;return{top:s.top+a-r,left:s.left+l-o}}function MP(t,e){const n=[];for(;t.previousElementSibling;){const s=t.previousElementSibling;e?s.matches(e)&&n.push(s):n.push(s),t=s}return n}function DP(t,e){const n=[];for(;t.nextElementSibling;){const s=t.nextElementSibling;e?s.matches(e)&&n.push(s):n.push(s),t=s}return n}function Pn(t,e){return dt().getComputedStyle(t,null).getPropertyValue(e)}function vo(t){let e=t,n;if(e){for(n=0;(e=e.previousSibling)!==null;)e.nodeType===1&&(n+=1);return n}}function Sg(t,e){const n=[];let s=t.parentElement;for(;s;)e?s.matches(e)&&n.push(s):n.push(s),s=s.parentElement;return n}function FP(t,e){function n(s){s.target===t&&(e.call(t,s),t.removeEventListener("transitionend",n))}e&&t.addEventListener("transitionend",n)}function Ol(t,e,n){const s=dt();return n?t[e==="width"?"offsetWidth":"offsetHeight"]+parseFloat(s.getComputedStyle(t,null).getPropertyValue(e==="width"?"margin-right":"margin-top"))+parseFloat(s.getComputedStyle(t,null).getPropertyValue(e==="width"?"margin-left":"margin-bottom")):t.offsetWidth}let La;function $P(){const t=dt(),e=It();return{smoothScroll:e.documentElement&&e.documentElement.style&&"scrollBehavior"in e.documentElement.style,touch:!!("ontouchstart"in t||t.DocumentTouch&&e instanceof t.DocumentTouch)}}function Tg(){return La||(La=$P()),La}let Ma;function UP(t){let{userAgent:e}=t===void 0?{}:t;const n=Tg(),s=dt(),i=s.navigator.platform,r=e||s.navigator.userAgent,o={ios:!1,android:!1},a=s.screen.width,l=s.screen.height,c=r.match(/(Android);?[\s\/]+([\d.]+)?/);let u=r.match(/(iPad).*OS\s([\d_]+)/);const d=r.match(/(iPod)(.*OS\s([\d_]+))?/),f=!u&&r.match(/(iPhone\sOS|iOS)\s([\d_]+)/),h=i==="Win32";let p=i==="MacIntel";const m=["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"];return!u&&p&&n.touch&&m.indexOf(`${a}x${l}`)>=0&&(u=r.match(/(Version)\/([\d.]+)/),u||(u=[0,1,"13_0_0"]),p=!1),c&&!h&&(o.os="android",o.android=!0),(u||f||d)&&(o.os="ios",o.ios=!0),o}function BP(t){return t===void 0&&(t={}),Ma||(Ma=UP(t)),Ma}let Da;function zP(){const t=dt();let e=!1;function n(){const s=t.navigator.userAgent.toLowerCase();return s.indexOf("safari")>=0&&s.indexOf("chrome")<0&&s.indexOf("android")<0}if(n()){const s=String(t.navigator.userAgent);if(s.includes("Version/")){const[i,r]=s.split("Version/")[1].split(" ")[0].split(".").map(o=>Number(o));e=i<16||i===16&&r<2}}return{isSafari:e||n(),needPerspectiveFix:e,isWebView:/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(t.navigator.userAgent)}}function VP(){return Da||(Da=zP()),Da}function HP(t){let{swiper:e,on:n,emit:s}=t;const i=dt();let r=null,o=null;const a=()=>{!e||e.destroyed||!e.initialized||(s("beforeResize"),s("resize"))},l=()=>{!e||e.destroyed||!e.initialized||(r=new ResizeObserver(d=>{o=i.requestAnimationFrame(()=>{const{width:f,height:h}=e;let p=f,m=h;d.forEach(w=>{let{contentBoxSize:b,contentRect:g,target:y}=w;y&&y!==e.el||(p=g?g.width:(b[0]||b).inlineSize,m=g?g.height:(b[0]||b).blockSize)}),(p!==f||m!==h)&&a()})}),r.observe(e.el))},c=()=>{o&&i.cancelAnimationFrame(o),r&&r.unobserve&&e.el&&(r.unobserve(e.el),r=null)},u=()=>{!e||e.destroyed||!e.initialized||s("orientationchange")};n("init",()=>{if(e.params.resizeObserver&&typeof i.ResizeObserver<"u"){l();return}i.addEventListener("resize",a),i.addEventListener("orientationchange",u)}),n("destroy",()=>{c(),i.removeEventListener("resize",a),i.removeEventListener("orientationchange",u)})}function WP(t){let{swiper:e,extendParams:n,on:s,emit:i}=t;const r=[],o=dt(),a=function(u,d){d===void 0&&(d={});const f=o.MutationObserver||o.WebkitMutationObserver,h=new f(p=>{if(e.__preventObserver__)return;if(p.length===1){i("observerUpdate",p[0]);return}const m=function(){i("observerUpdate",p[0])};o.requestAnimationFrame?o.requestAnimationFrame(m):o.setTimeout(m,0)});h.observe(u,{attributes:typeof d.attributes>"u"?!0:d.attributes,childList:typeof d.childList>"u"?!0:d.childList,characterData:typeof d.characterData>"u"?!0:d.characterData}),r.push(h)},l=()=>{if(e.params.observer){if(e.params.observeParents){const u=Sg(e.hostEl);for(let d=0;d<u.length;d+=1)a(u[d])}a(e.hostEl,{childList:e.params.observeSlideChildren}),a(e.wrapperEl,{attributes:!1})}},c=()=>{r.forEach(u=>{u.disconnect()}),r.splice(0,r.length)};n({observer:!1,observeParents:!1,observeSlideChildren:!1}),s("init",l),s("destroy",c)}var jP={on(t,e,n){const s=this;if(!s.eventsListeners||s.destroyed||typeof e!="function")return s;const i=n?"unshift":"push";return t.split(" ").forEach(r=>{s.eventsListeners[r]||(s.eventsListeners[r]=[]),s.eventsListeners[r][i](e)}),s},once(t,e,n){const s=this;if(!s.eventsListeners||s.destroyed||typeof e!="function")return s;function i(){s.off(t,i),i.__emitterProxy&&delete i.__emitterProxy;for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];e.apply(s,o)}return i.__emitterProxy=e,s.on(t,i,n)},onAny(t,e){const n=this;if(!n.eventsListeners||n.destroyed||typeof t!="function")return n;const s=e?"unshift":"push";return n.eventsAnyListeners.indexOf(t)<0&&n.eventsAnyListeners[s](t),n},offAny(t){const e=this;if(!e.eventsListeners||e.destroyed||!e.eventsAnyListeners)return e;const n=e.eventsAnyListeners.indexOf(t);return n>=0&&e.eventsAnyListeners.splice(n,1),e},off(t,e){const n=this;return!n.eventsListeners||n.destroyed||!n.eventsListeners||t.split(" ").forEach(s=>{typeof e>"u"?n.eventsListeners[s]=[]:n.eventsListeners[s]&&n.eventsListeners[s].forEach((i,r)=>{(i===e||i.__emitterProxy&&i.__emitterProxy===e)&&n.eventsListeners[s].splice(r,1)})}),n},emit(){const t=this;if(!t.eventsListeners||t.destroyed||!t.eventsListeners)return t;let e,n,s;for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return typeof r[0]=="string"||Array.isArray(r[0])?(e=r[0],n=r.slice(1,r.length),s=t):(e=r[0].events,n=r[0].data,s=r[0].context||t),n.unshift(s),(Array.isArray(e)?e:e.split(" ")).forEach(l=>{t.eventsAnyListeners&&t.eventsAnyListeners.length&&t.eventsAnyListeners.forEach(c=>{c.apply(s,[l,...n])}),t.eventsListeners&&t.eventsListeners[l]&&t.eventsListeners[l].forEach(c=>{c.apply(s,n)})}),t}};function GP(){const t=this;let e,n;const s=t.el;typeof t.params.width<"u"&&t.params.width!==null?e=t.params.width:e=s.clientWidth,typeof t.params.height<"u"&&t.params.height!==null?n=t.params.height:n=s.clientHeight,!(e===0&&t.isHorizontal()||n===0&&t.isVertical())&&(e=e-parseInt(Pn(s,"padding-left")||0,10)-parseInt(Pn(s,"padding-right")||0,10),n=n-parseInt(Pn(s,"padding-top")||0,10)-parseInt(Pn(s,"padding-bottom")||0,10),Number.isNaN(e)&&(e=0),Number.isNaN(n)&&(n=0),Object.assign(t,{width:e,height:n,size:t.isHorizontal()?e:n}))}function qP(){const t=this;function e(R,F){return parseFloat(R.getPropertyValue(t.getDirectionLabel(F))||0)}const n=t.params,{wrapperEl:s,slidesEl:i,size:r,rtlTranslate:o,wrongRTL:a}=t,l=t.virtual&&n.virtual.enabled,c=l?t.virtual.slides.length:t.slides.length,u=Lt(i,`.${t.params.slideClass}, swiper-slide`),d=l?t.virtual.slides.length:u.length;let f=[];const h=[],p=[];let m=n.slidesOffsetBefore;typeof m=="function"&&(m=n.slidesOffsetBefore.call(t));let w=n.slidesOffsetAfter;typeof w=="function"&&(w=n.slidesOffsetAfter.call(t));const b=t.snapGrid.length,g=t.slidesGrid.length;let y=n.spaceBetween,S=-m,I=0,U=0;if(typeof r>"u")return;typeof y=="string"&&y.indexOf("%")>=0?y=parseFloat(y.replace("%",""))/100*r:typeof y=="string"&&(y=parseFloat(y)),t.virtualSize=-y,u.forEach(R=>{o?R.style.marginLeft="":R.style.marginRight="",R.style.marginBottom="",R.style.marginTop=""}),n.centeredSlides&&n.cssMode&&(xi(s,"--swiper-centered-offset-before",""),xi(s,"--swiper-centered-offset-after",""));const K=n.grid&&n.grid.rows>1&&t.grid;K?t.grid.initSlides(u):t.grid&&t.grid.unsetSlides();let L;const C=n.slidesPerView==="auto"&&n.breakpoints&&Object.keys(n.breakpoints).filter(R=>typeof n.breakpoints[R].slidesPerView<"u").length>0;for(let R=0;R<d;R+=1){L=0;let F;if(u[R]&&(F=u[R]),K&&t.grid.updateSlide(R,F,u),!(u[R]&&Pn(F,"display")==="none")){if(n.slidesPerView==="auto"){C&&(u[R].style[t.getDirectionLabel("width")]="");const O=getComputedStyle(F),x=F.style.transform,D=F.style.webkitTransform;if(x&&(F.style.transform="none"),D&&(F.style.webkitTransform="none"),n.roundLengths)L=t.isHorizontal()?Ol(F,"width",!0):Ol(F,"height",!0);else{const $=e(O,"width"),V=e(O,"padding-left"),ie=e(O,"padding-right"),j=e(O,"margin-left"),re=e(O,"margin-right"),Ce=O.getPropertyValue("box-sizing");if(Ce&&Ce==="border-box")L=$+j+re;else{const{clientWidth:$e,offsetWidth:De}=F;L=$+V+ie+j+re+(De-$e)}}x&&(F.style.transform=x),D&&(F.style.webkitTransform=D),n.roundLengths&&(L=Math.floor(L))}else L=(r-(n.slidesPerView-1)*y)/n.slidesPerView,n.roundLengths&&(L=Math.floor(L)),u[R]&&(u[R].style[t.getDirectionLabel("width")]=`${L}px`);u[R]&&(u[R].swiperSlideSize=L),p.push(L),n.centeredSlides?(S=S+L/2+I/2+y,I===0&&R!==0&&(S=S-r/2-y),R===0&&(S=S-r/2-y),Math.abs(S)<1/1e3&&(S=0),n.roundLengths&&(S=Math.floor(S)),U%n.slidesPerGroup===0&&f.push(S),h.push(S)):(n.roundLengths&&(S=Math.floor(S)),(U-Math.min(t.params.slidesPerGroupSkip,U))%t.params.slidesPerGroup===0&&f.push(S),h.push(S),S=S+L+y),t.virtualSize+=L+y,I=L,U+=1}}if(t.virtualSize=Math.max(t.virtualSize,r)+w,o&&a&&(n.effect==="slide"||n.effect==="coverflow")&&(s.style.width=`${t.virtualSize+y}px`),n.setWrapperSize&&(s.style[t.getDirectionLabel("width")]=`${t.virtualSize+y}px`),K&&t.grid.updateWrapperSize(L,f),!n.centeredSlides){const R=[];for(let F=0;F<f.length;F+=1){let O=f[F];n.roundLengths&&(O=Math.floor(O)),f[F]<=t.virtualSize-r&&R.push(O)}f=R,Math.floor(t.virtualSize-r)-Math.floor(f[f.length-1])>1&&f.push(t.virtualSize-r)}if(l&&n.loop){const R=p[0]+y;if(n.slidesPerGroup>1){const F=Math.ceil((t.virtual.slidesBefore+t.virtual.slidesAfter)/n.slidesPerGroup),O=R*n.slidesPerGroup;for(let x=0;x<F;x+=1)f.push(f[f.length-1]+O)}for(let F=0;F<t.virtual.slidesBefore+t.virtual.slidesAfter;F+=1)n.slidesPerGroup===1&&f.push(f[f.length-1]+R),h.push(h[h.length-1]+R),t.virtualSize+=R}if(f.length===0&&(f=[0]),y!==0){const R=t.isHorizontal()&&o?"marginLeft":t.getDirectionLabel("marginRight");u.filter((F,O)=>!n.cssMode||n.loop?!0:O!==u.length-1).forEach(F=>{F.style[R]=`${y}px`})}if(n.centeredSlides&&n.centeredSlidesBounds){let R=0;p.forEach(O=>{R+=O+(y||0)}),R-=y;const F=R-r;f=f.map(O=>O<=0?-m:O>F?F+w:O)}if(n.centerInsufficientSlides){let R=0;if(p.forEach(F=>{R+=F+(y||0)}),R-=y,R<r){const F=(r-R)/2;f.forEach((O,x)=>{f[x]=O-F}),h.forEach((O,x)=>{h[x]=O+F})}}if(Object.assign(t,{slides:u,snapGrid:f,slidesGrid:h,slidesSizesGrid:p}),n.centeredSlides&&n.cssMode&&!n.centeredSlidesBounds){xi(s,"--swiper-centered-offset-before",`${-f[0]}px`),xi(s,"--swiper-centered-offset-after",`${t.size/2-p[p.length-1]/2}px`);const R=-t.snapGrid[0],F=-t.slidesGrid[0];t.snapGrid=t.snapGrid.map(O=>O+R),t.slidesGrid=t.slidesGrid.map(O=>O+F)}if(d!==c&&t.emit("slidesLengthChange"),f.length!==b&&(t.params.watchOverflow&&t.checkOverflow(),t.emit("snapGridLengthChange")),h.length!==g&&t.emit("slidesGridLengthChange"),n.watchSlidesProgress&&t.updateSlidesOffset(),t.emit("slidesUpdated"),!l&&!n.cssMode&&(n.effect==="slide"||n.effect==="fade")){const R=`${n.containerModifierClass}backface-hidden`,F=t.el.classList.contains(R);d<=n.maxBackfaceHiddenSlides?F||t.el.classList.add(R):F&&t.el.classList.remove(R)}}function KP(t){const e=this,n=[],s=e.virtual&&e.params.virtual.enabled;let i=0,r;typeof t=="number"?e.setTransition(t):t===!0&&e.setTransition(e.params.speed);const o=a=>s?e.slides[e.getSlideIndexByData(a)]:e.slides[a];if(e.params.slidesPerView!=="auto"&&e.params.slidesPerView>1)if(e.params.centeredSlides)(e.visibleSlides||[]).forEach(a=>{n.push(a)});else for(r=0;r<Math.ceil(e.params.slidesPerView);r+=1){const a=e.activeIndex+r;if(a>e.slides.length&&!s)break;n.push(o(a))}else n.push(o(e.activeIndex));for(r=0;r<n.length;r+=1)if(typeof n[r]<"u"){const a=n[r].offsetHeight;i=a>i?a:i}(i||i===0)&&(e.wrapperEl.style.height=`${i}px`)}function YP(){const t=this,e=t.slides,n=t.isElement?t.isHorizontal()?t.wrapperEl.offsetLeft:t.wrapperEl.offsetTop:0;for(let s=0;s<e.length;s+=1)e[s].swiperSlideOffset=(t.isHorizontal()?e[s].offsetLeft:e[s].offsetTop)-n-t.cssOverflowAdjustment()}function XP(t){t===void 0&&(t=this&&this.translate||0);const e=this,n=e.params,{slides:s,rtlTranslate:i,snapGrid:r}=e;if(s.length===0)return;typeof s[0].swiperSlideOffset>"u"&&e.updateSlidesOffset();let o=-t;i&&(o=t),s.forEach(l=>{l.classList.remove(n.slideVisibleClass,n.slideFullyVisibleClass)}),e.visibleSlidesIndexes=[],e.visibleSlides=[];let a=n.spaceBetween;typeof a=="string"&&a.indexOf("%")>=0?a=parseFloat(a.replace("%",""))/100*e.size:typeof a=="string"&&(a=parseFloat(a));for(let l=0;l<s.length;l+=1){const c=s[l];let u=c.swiperSlideOffset;n.cssMode&&n.centeredSlides&&(u-=s[0].swiperSlideOffset);const d=(o+(n.centeredSlides?e.minTranslate():0)-u)/(c.swiperSlideSize+a),f=(o-r[0]+(n.centeredSlides?e.minTranslate():0)-u)/(c.swiperSlideSize+a),h=-(o-u),p=h+e.slidesSizesGrid[l],m=h>=0&&h<=e.size-e.slidesSizesGrid[l];(h>=0&&h<e.size-1||p>1&&p<=e.size||h<=0&&p>=e.size)&&(e.visibleSlides.push(c),e.visibleSlidesIndexes.push(l),s[l].classList.add(n.slideVisibleClass)),m&&s[l].classList.add(n.slideFullyVisibleClass),c.progress=i?-d:d,c.originalProgress=i?-f:f}}function QP(t){const e=this;if(typeof t>"u"){const u=e.rtlTranslate?-1:1;t=e&&e.translate&&e.translate*u||0}const n=e.params,s=e.maxTranslate()-e.minTranslate();let{progress:i,isBeginning:r,isEnd:o,progressLoop:a}=e;const l=r,c=o;if(s===0)i=0,r=!0,o=!0;else{i=(t-e.minTranslate())/s;const u=Math.abs(t-e.minTranslate())<1,d=Math.abs(t-e.maxTranslate())<1;r=u||i<=0,o=d||i>=1,u&&(i=0),d&&(i=1)}if(n.loop){const u=e.getSlideIndexByData(0),d=e.getSlideIndexByData(e.slides.length-1),f=e.slidesGrid[u],h=e.slidesGrid[d],p=e.slidesGrid[e.slidesGrid.length-1],m=Math.abs(t);m>=f?a=(m-f)/p:a=(m+p-h)/p,a>1&&(a-=1)}Object.assign(e,{progress:i,progressLoop:a,isBeginning:r,isEnd:o}),(n.watchSlidesProgress||n.centeredSlides&&n.autoHeight)&&e.updateSlidesProgress(t),r&&!l&&e.emit("reachBeginning toEdge"),o&&!c&&e.emit("reachEnd toEdge"),(l&&!r||c&&!o)&&e.emit("fromEdge"),e.emit("progress",i)}function JP(){const t=this,{slides:e,params:n,slidesEl:s,activeIndex:i}=t,r=t.virtual&&n.virtual.enabled,o=t.grid&&n.grid&&n.grid.rows>1,a=d=>Lt(s,`.${n.slideClass}${d}, swiper-slide${d}`)[0];e.forEach(d=>{d.classList.remove(n.slideActiveClass,n.slideNextClass,n.slidePrevClass)});let l,c,u;if(r)if(n.loop){let d=i-t.virtual.slidesBefore;d<0&&(d=t.virtual.slides.length+d),d>=t.virtual.slides.length&&(d-=t.virtual.slides.length),l=a(`[data-swiper-slide-index="${d}"]`)}else l=a(`[data-swiper-slide-index="${i}"]`);else o?(l=e.filter(d=>d.column===i)[0],u=e.filter(d=>d.column===i+1)[0],c=e.filter(d=>d.column===i-1)[0]):l=e[i];l&&(l.classList.add(n.slideActiveClass),o?(u&&u.classList.add(n.slideNextClass),c&&c.classList.add(n.slidePrevClass)):(u=DP(l,`.${n.slideClass}, swiper-slide`)[0],n.loop&&!u&&(u=e[0]),u&&u.classList.add(n.slideNextClass),c=MP(l,`.${n.slideClass}, swiper-slide`)[0],n.loop&&!c===0&&(c=e[e.length-1]),c&&c.classList.add(n.slidePrevClass))),t.emitSlidesClasses()}const $r=(t,e)=>{if(!t||t.destroyed||!t.params)return;const n=()=>t.isElement?"swiper-slide":`.${t.params.slideClass}`,s=e.closest(n());if(s){let i=s.querySelector(`.${t.params.lazyPreloaderClass}`);!i&&t.isElement&&(s.shadowRoot?i=s.shadowRoot.querySelector(`.${t.params.lazyPreloaderClass}`):requestAnimationFrame(()=>{s.shadowRoot&&(i=s.shadowRoot.querySelector(`.${t.params.lazyPreloaderClass}`),i&&i.remove())})),i&&i.remove()}},Fa=(t,e)=>{if(!t.slides[e])return;const n=t.slides[e].querySelector('[loading="lazy"]');n&&n.removeAttribute("loading")},Nl=t=>{if(!t||t.destroyed||!t.params)return;let e=t.params.lazyPreloadPrevNext;const n=t.slides.length;if(!n||!e||e<0)return;e=Math.min(e,n);const s=t.params.slidesPerView==="auto"?t.slidesPerViewDynamic():Math.ceil(t.params.slidesPerView),i=t.activeIndex;if(t.params.grid&&t.params.grid.rows>1){const o=i,a=[o-e];a.push(...Array.from({length:e}).map((l,c)=>o+s+c)),t.slides.forEach((l,c)=>{a.includes(l.column)&&Fa(t,c)});return}const r=i+s-1;if(t.params.rewind||t.params.loop)for(let o=i-e;o<=r+e;o+=1){const a=(o%n+n)%n;(a<i||a>r)&&Fa(t,a)}else for(let o=Math.max(i-e,0);o<=Math.min(r+e,n-1);o+=1)o!==i&&(o>r||o<i)&&Fa(t,o)};function ZP(t){const{slidesGrid:e,params:n}=t,s=t.rtlTranslate?t.translate:-t.translate;let i;for(let r=0;r<e.length;r+=1)typeof e[r+1]<"u"?s>=e[r]&&s<e[r+1]-(e[r+1]-e[r])/2?i=r:s>=e[r]&&s<e[r+1]&&(i=r+1):s>=e[r]&&(i=r);return n.normalizeSlideIndex&&(i<0||typeof i>"u")&&(i=0),i}function eR(t){const e=this,n=e.rtlTranslate?e.translate:-e.translate,{snapGrid:s,params:i,activeIndex:r,realIndex:o,snapIndex:a}=e;let l=t,c;const u=h=>{let p=h-e.virtual.slidesBefore;return p<0&&(p=e.virtual.slides.length+p),p>=e.virtual.slides.length&&(p-=e.virtual.slides.length),p};if(typeof l>"u"&&(l=ZP(e)),s.indexOf(n)>=0)c=s.indexOf(n);else{const h=Math.min(i.slidesPerGroupSkip,l);c=h+Math.floor((l-h)/i.slidesPerGroup)}if(c>=s.length&&(c=s.length-1),l===r&&!e.params.loop){c!==a&&(e.snapIndex=c,e.emit("snapIndexChange"));return}if(l===r&&e.params.loop&&e.virtual&&e.params.virtual.enabled){e.realIndex=u(l);return}const d=e.grid&&i.grid&&i.grid.rows>1;let f;if(e.virtual&&i.virtual.enabled&&i.loop)f=u(l);else if(d){const h=e.slides.filter(m=>m.column===l)[0];let p=parseInt(h.getAttribute("data-swiper-slide-index"),10);Number.isNaN(p)&&(p=Math.max(e.slides.indexOf(h),0)),f=Math.floor(p/i.grid.rows)}else if(e.slides[l]){const h=e.slides[l].getAttribute("data-swiper-slide-index");h?f=parseInt(h,10):f=l}else f=l;Object.assign(e,{previousSnapIndex:a,snapIndex:c,previousRealIndex:o,realIndex:f,previousIndex:r,activeIndex:l}),e.initialized&&Nl(e),e.emit("activeIndexChange"),e.emit("snapIndexChange"),(e.initialized||e.params.runCallbacksOnInit)&&(o!==f&&e.emit("realIndexChange"),e.emit("slideChange"))}function tR(t,e){const n=this,s=n.params;let i=t.closest(`.${s.slideClass}, swiper-slide`);!i&&n.isElement&&e&&e.length>1&&e.includes(t)&&[...e.slice(e.indexOf(t)+1,e.length)].forEach(a=>{!i&&a.matches&&a.matches(`.${s.slideClass}, swiper-slide`)&&(i=a)});let r=!1,o;if(i){for(let a=0;a<n.slides.length;a+=1)if(n.slides[a]===i){r=!0,o=a;break}}if(i&&r)n.clickedSlide=i,n.virtual&&n.params.virtual.enabled?n.clickedIndex=parseInt(i.getAttribute("data-swiper-slide-index"),10):n.clickedIndex=o;else{n.clickedSlide=void 0,n.clickedIndex=void 0;return}s.slideToClickedSlide&&n.clickedIndex!==void 0&&n.clickedIndex!==n.activeIndex&&n.slideToClickedSlide()}var nR={updateSize:GP,updateSlides:qP,updateAutoHeight:KP,updateSlidesOffset:YP,updateSlidesProgress:XP,updateProgress:QP,updateSlidesClasses:JP,updateActiveIndex:eR,updateClickedSlide:tR};function sR(t){t===void 0&&(t=this.isHorizontal()?"x":"y");const e=this,{params:n,rtlTranslate:s,translate:i,wrapperEl:r}=e;if(n.virtualTranslate)return s?-i:i;if(n.cssMode)return i;let o=OP(r,t);return o+=e.cssOverflowAdjustment(),s&&(o=-o),o||0}function iR(t,e){const n=this,{rtlTranslate:s,params:i,wrapperEl:r,progress:o}=n;let a=0,l=0;const c=0;n.isHorizontal()?a=s?-t:t:l=t,i.roundLengths&&(a=Math.floor(a),l=Math.floor(l)),n.previousTranslate=n.translate,n.translate=n.isHorizontal()?a:l,i.cssMode?r[n.isHorizontal()?"scrollLeft":"scrollTop"]=n.isHorizontal()?-a:-l:i.virtualTranslate||(n.isHorizontal()?a-=n.cssOverflowAdjustment():l-=n.cssOverflowAdjustment(),r.style.transform=`translate3d(${a}px, ${l}px, ${c}px)`);let u;const d=n.maxTranslate()-n.minTranslate();d===0?u=0:u=(t-n.minTranslate())/d,u!==o&&n.updateProgress(t),n.emit("setTranslate",n.translate,e)}function rR(){return-this.snapGrid[0]}function oR(){return-this.snapGrid[this.snapGrid.length-1]}function aR(t,e,n,s,i){t===void 0&&(t=0),e===void 0&&(e=this.params.speed),n===void 0&&(n=!0),s===void 0&&(s=!0);const r=this,{params:o,wrapperEl:a}=r;if(r.animating&&o.preventInteractionOnTransition)return!1;const l=r.minTranslate(),c=r.maxTranslate();let u;if(s&&t>l?u=l:s&&t<c?u=c:u=t,r.updateProgress(u),o.cssMode){const d=r.isHorizontal();if(e===0)a[d?"scrollLeft":"scrollTop"]=-u;else{if(!r.support.smoothScroll)return bg({swiper:r,targetPosition:-u,side:d?"left":"top"}),!0;a.scrollTo({[d?"left":"top"]:-u,behavior:"smooth"})}return!0}return e===0?(r.setTransition(0),r.setTranslate(u),n&&(r.emit("beforeTransitionStart",e,i),r.emit("transitionEnd"))):(r.setTransition(e),r.setTranslate(u),n&&(r.emit("beforeTransitionStart",e,i),r.emit("transitionStart")),r.animating||(r.animating=!0,r.onTranslateToWrapperTransitionEnd||(r.onTranslateToWrapperTransitionEnd=function(f){!r||r.destroyed||f.target===this&&(r.wrapperEl.removeEventListener("transitionend",r.onTranslateToWrapperTransitionEnd),r.onTranslateToWrapperTransitionEnd=null,delete r.onTranslateToWrapperTransitionEnd,n&&r.emit("transitionEnd"))}),r.wrapperEl.addEventListener("transitionend",r.onTranslateToWrapperTransitionEnd))),!0}var lR={getTranslate:sR,setTranslate:iR,minTranslate:rR,maxTranslate:oR,translateTo:aR};function cR(t,e){const n=this;n.params.cssMode||(n.wrapperEl.style.transitionDuration=`${t}ms`,n.wrapperEl.style.transitionDelay=t===0?"0ms":""),n.emit("setTransition",t,e)}function Cg(t){let{swiper:e,runCallbacks:n,direction:s,step:i}=t;const{activeIndex:r,previousIndex:o}=e;let a=s;if(a||(r>o?a="next":r<o?a="prev":a="reset"),e.emit(`transition${i}`),n&&r!==o){if(a==="reset"){e.emit(`slideResetTransition${i}`);return}e.emit(`slideChangeTransition${i}`),a==="next"?e.emit(`slideNextTransition${i}`):e.emit(`slidePrevTransition${i}`)}}function uR(t,e){t===void 0&&(t=!0);const n=this,{params:s}=n;s.cssMode||(s.autoHeight&&n.updateAutoHeight(),Cg({swiper:n,runCallbacks:t,direction:e,step:"Start"}))}function dR(t,e){t===void 0&&(t=!0);const n=this,{params:s}=n;n.animating=!1,!s.cssMode&&(n.setTransition(0),Cg({swiper:n,runCallbacks:t,direction:e,step:"End"}))}var fR={setTransition:cR,transitionStart:uR,transitionEnd:dR};function hR(t,e,n,s,i){t===void 0&&(t=0),e===void 0&&(e=this.params.speed),n===void 0&&(n=!0),typeof t=="string"&&(t=parseInt(t,10));const r=this;let o=t;o<0&&(o=0);const{params:a,snapGrid:l,slidesGrid:c,previousIndex:u,activeIndex:d,rtlTranslate:f,wrapperEl:h,enabled:p}=r;if(r.animating&&a.preventInteractionOnTransition||!p&&!s&&!i)return!1;const m=Math.min(r.params.slidesPerGroupSkip,o);let w=m+Math.floor((o-m)/r.params.slidesPerGroup);w>=l.length&&(w=l.length-1);const b=-l[w];if(a.normalizeSlideIndex)for(let y=0;y<c.length;y+=1){const S=-Math.floor(b*100),I=Math.floor(c[y]*100),U=Math.floor(c[y+1]*100);typeof c[y+1]<"u"?S>=I&&S<U-(U-I)/2?o=y:S>=I&&S<U&&(o=y+1):S>=I&&(o=y)}if(r.initialized&&o!==d&&(!r.allowSlideNext&&(f?b>r.translate&&b>r.minTranslate():b<r.translate&&b<r.minTranslate())||!r.allowSlidePrev&&b>r.translate&&b>r.maxTranslate()&&(d||0)!==o))return!1;o!==(u||0)&&n&&r.emit("beforeSlideChangeStart"),r.updateProgress(b);let g;if(o>d?g="next":o<d?g="prev":g="reset",f&&-b===r.translate||!f&&b===r.translate)return r.updateActiveIndex(o),a.autoHeight&&r.updateAutoHeight(),r.updateSlidesClasses(),a.effect!=="slide"&&r.setTranslate(b),g!=="reset"&&(r.transitionStart(n,g),r.transitionEnd(n,g)),!1;if(a.cssMode){const y=r.isHorizontal(),S=f?b:-b;if(e===0){const I=r.virtual&&r.params.virtual.enabled;I&&(r.wrapperEl.style.scrollSnapType="none",r._immediateVirtual=!0),I&&!r._cssModeVirtualInitialSet&&r.params.initialSlide>0?(r._cssModeVirtualInitialSet=!0,requestAnimationFrame(()=>{h[y?"scrollLeft":"scrollTop"]=S})):h[y?"scrollLeft":"scrollTop"]=S,I&&requestAnimationFrame(()=>{r.wrapperEl.style.scrollSnapType="",r._immediateVirtual=!1})}else{if(!r.support.smoothScroll)return bg({swiper:r,targetPosition:S,side:y?"left":"top"}),!0;h.scrollTo({[y?"left":"top"]:S,behavior:"smooth"})}return!0}return r.setTransition(e),r.setTranslate(b),r.updateActiveIndex(o),r.updateSlidesClasses(),r.emit("beforeTransitionStart",e,s),r.transitionStart(n,g),e===0?r.transitionEnd(n,g):r.animating||(r.animating=!0,r.onSlideToWrapperTransitionEnd||(r.onSlideToWrapperTransitionEnd=function(S){!r||r.destroyed||S.target===this&&(r.wrapperEl.removeEventListener("transitionend",r.onSlideToWrapperTransitionEnd),r.onSlideToWrapperTransitionEnd=null,delete r.onSlideToWrapperTransitionEnd,r.transitionEnd(n,g))}),r.wrapperEl.addEventListener("transitionend",r.onSlideToWrapperTransitionEnd)),!0}function pR(t,e,n,s){t===void 0&&(t=0),e===void 0&&(e=this.params.speed),n===void 0&&(n=!0),typeof t=="string"&&(t=parseInt(t,10));const i=this,r=i.grid&&i.params.grid&&i.params.grid.rows>1;let o=t;if(i.params.loop)if(i.virtual&&i.params.virtual.enabled)o=o+i.virtual.slidesBefore;else{let a;if(r){const f=o*i.params.grid.rows;a=i.slides.filter(h=>h.getAttribute("data-swiper-slide-index")*1===f)[0].column}else a=i.getSlideIndexByData(o);const l=r?Math.ceil(i.slides.length/i.params.grid.rows):i.slides.length,{centeredSlides:c}=i.params;let u=i.params.slidesPerView;u==="auto"?u=i.slidesPerViewDynamic():(u=Math.ceil(parseFloat(i.params.slidesPerView,10)),c&&u%2===0&&(u=u+1));let d=l-a<u;if(c&&(d=d||a<Math.ceil(u/2)),d){const f=c?a<i.activeIndex?"prev":"next":a-i.activeIndex-1<i.params.slidesPerView?"next":"prev";i.loopFix({direction:f,slideTo:!0,activeSlideIndex:f==="next"?a+1:a-l+1,slideRealIndex:f==="next"?i.realIndex:void 0})}if(r){const f=o*i.params.grid.rows;o=i.slides.filter(h=>h.getAttribute("data-swiper-slide-index")*1===f)[0].column}else o=i.getSlideIndexByData(o)}return requestAnimationFrame(()=>{i.slideTo(o,e,n,s)}),i}function mR(t,e,n){t===void 0&&(t=this.params.speed),e===void 0&&(e=!0);const s=this,{enabled:i,params:r,animating:o}=s;if(!i)return s;let a=r.slidesPerGroup;r.slidesPerView==="auto"&&r.slidesPerGroup===1&&r.slidesPerGroupAuto&&(a=Math.max(s.slidesPerViewDynamic("current",!0),1));const l=s.activeIndex<r.slidesPerGroupSkip?1:a,c=s.virtual&&r.virtual.enabled;if(r.loop){if(o&&!c&&r.loopPreventsSliding)return!1;if(s.loopFix({direction:"next"}),s._clientLeft=s.wrapperEl.clientLeft,s.activeIndex===s.slides.length-1&&r.cssMode)return requestAnimationFrame(()=>{s.slideTo(s.activeIndex+l,t,e,n)}),!0}return r.rewind&&s.isEnd?s.slideTo(0,t,e,n):s.slideTo(s.activeIndex+l,t,e,n)}function gR(t,e,n){t===void 0&&(t=this.params.speed),e===void 0&&(e=!0);const s=this,{params:i,snapGrid:r,slidesGrid:o,rtlTranslate:a,enabled:l,animating:c}=s;if(!l)return s;const u=s.virtual&&i.virtual.enabled;if(i.loop){if(c&&!u&&i.loopPreventsSliding)return!1;s.loopFix({direction:"prev"}),s._clientLeft=s.wrapperEl.clientLeft}const d=a?s.translate:-s.translate;function f(b){return b<0?-Math.floor(Math.abs(b)):Math.floor(b)}const h=f(d),p=r.map(b=>f(b));let m=r[p.indexOf(h)-1];if(typeof m>"u"&&i.cssMode){let b;r.forEach((g,y)=>{h>=g&&(b=y)}),typeof b<"u"&&(m=r[b>0?b-1:b])}let w=0;if(typeof m<"u"&&(w=o.indexOf(m),w<0&&(w=s.activeIndex-1),i.slidesPerView==="auto"&&i.slidesPerGroup===1&&i.slidesPerGroupAuto&&(w=w-s.slidesPerViewDynamic("previous",!0)+1,w=Math.max(w,0))),i.rewind&&s.isBeginning){const b=s.params.virtual&&s.params.virtual.enabled&&s.virtual?s.virtual.slides.length-1:s.slides.length-1;return s.slideTo(b,t,e,n)}else if(i.loop&&s.activeIndex===0&&i.cssMode)return requestAnimationFrame(()=>{s.slideTo(w,t,e,n)}),!0;return s.slideTo(w,t,e,n)}function _R(t,e,n){t===void 0&&(t=this.params.speed),e===void 0&&(e=!0);const s=this;return s.slideTo(s.activeIndex,t,e,n)}function vR(t,e,n,s){t===void 0&&(t=this.params.speed),e===void 0&&(e=!0),s===void 0&&(s=.5);const i=this;let r=i.activeIndex;const o=Math.min(i.params.slidesPerGroupSkip,r),a=o+Math.floor((r-o)/i.params.slidesPerGroup),l=i.rtlTranslate?i.translate:-i.translate;if(l>=i.snapGrid[a]){const c=i.snapGrid[a],u=i.snapGrid[a+1];l-c>(u-c)*s&&(r+=i.params.slidesPerGroup)}else{const c=i.snapGrid[a-1],u=i.snapGrid[a];l-c<=(u-c)*s&&(r-=i.params.slidesPerGroup)}return r=Math.max(r,0),r=Math.min(r,i.slidesGrid.length-1),i.slideTo(r,t,e,n)}function yR(){const t=this,{params:e,slidesEl:n}=t,s=e.slidesPerView==="auto"?t.slidesPerViewDynamic():e.slidesPerView;let i=t.clickedIndex,r;const o=t.isElement?"swiper-slide":`.${e.slideClass}`;if(e.loop){if(t.animating)return;r=parseInt(t.clickedSlide.getAttribute("data-swiper-slide-index"),10),e.centeredSlides?i<t.loopedSlides-s/2||i>t.slides.length-t.loopedSlides+s/2?(t.loopFix(),i=t.getSlideIndex(Lt(n,`${o}[data-swiper-slide-index="${r}"]`)[0]),mo(()=>{t.slideTo(i)})):t.slideTo(i):i>t.slides.length-s?(t.loopFix(),i=t.getSlideIndex(Lt(n,`${o}[data-swiper-slide-index="${r}"]`)[0]),mo(()=>{t.slideTo(i)})):t.slideTo(i)}else t.slideTo(i)}var wR={slideTo:hR,slideToLoop:pR,slideNext:mR,slidePrev:gR,slideReset:_R,slideToClosest:vR,slideToClickedSlide:yR};function bR(t){const e=this,{params:n,slidesEl:s}=e;if(!n.loop||e.virtual&&e.params.virtual.enabled)return;const i=()=>{Lt(s,`.${n.slideClass}, swiper-slide`).forEach((d,f)=>{d.setAttribute("data-swiper-slide-index",f)})},r=e.grid&&n.grid&&n.grid.rows>1,o=n.slidesPerGroup*(r?n.grid.rows:1),a=e.slides.length%o!==0,l=r&&e.slides.length%n.grid.rows!==0,c=u=>{for(let d=0;d<u;d+=1){const f=e.isElement?_s("swiper-slide",[n.slideBlankClass]):_s("div",[n.slideClass,n.slideBlankClass]);e.slidesEl.append(f)}};if(a){if(n.loopAddBlankSlides){const u=o-e.slides.length%o;c(u),e.recalcSlides(),e.updateSlides()}else _o("Swiper Loop Warning: The number of slides is not even to slidesPerGroup, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");i()}else if(l){if(n.loopAddBlankSlides){const u=n.grid.rows-e.slides.length%n.grid.rows;c(u),e.recalcSlides(),e.updateSlides()}else _o("Swiper Loop Warning: The number of slides is not even to grid.rows, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");i()}else i();e.loopFix({slideRealIndex:t,direction:n.centeredSlides?void 0:"next"})}function ER(t){let{slideRealIndex:e,slideTo:n=!0,direction:s,setTranslate:i,activeSlideIndex:r,byController:o,byMousewheel:a}=t===void 0?{}:t;const l=this;if(!l.params.loop)return;l.emit("beforeLoopFix");const{slides:c,allowSlidePrev:u,allowSlideNext:d,slidesEl:f,params:h}=l,{centeredSlides:p}=h;if(l.allowSlidePrev=!0,l.allowSlideNext=!0,l.virtual&&h.virtual.enabled){n&&(!h.centeredSlides&&l.snapIndex===0?l.slideTo(l.virtual.slides.length,0,!1,!0):h.centeredSlides&&l.snapIndex<h.slidesPerView?l.slideTo(l.virtual.slides.length+l.snapIndex,0,!1,!0):l.snapIndex===l.snapGrid.length-1&&l.slideTo(l.virtual.slidesBefore,0,!1,!0)),l.allowSlidePrev=u,l.allowSlideNext=d,l.emit("loopFix");return}let m=h.slidesPerView;m==="auto"?m=l.slidesPerViewDynamic():(m=Math.ceil(parseFloat(h.slidesPerView,10)),p&&m%2===0&&(m=m+1));const w=h.slidesPerGroupAuto?m:h.slidesPerGroup;let b=w;b%w!==0&&(b+=w-b%w),b+=h.loopAdditionalSlides,l.loopedSlides=b;const g=l.grid&&h.grid&&h.grid.rows>1;c.length<m+b?_o("Swiper Loop Warning: The number of slides is not enough for loop mode, it will be disabled and not function properly. You need to add more slides (or make duplicates) or lower the values of slidesPerView and slidesPerGroup parameters"):g&&h.grid.fill==="row"&&_o("Swiper Loop Warning: Loop mode is not compatible with grid.fill = `row`");const y=[],S=[];let I=l.activeIndex;typeof r>"u"?r=l.getSlideIndex(c.filter(x=>x.classList.contains(h.slideActiveClass))[0]):I=r;const U=s==="next"||!s,K=s==="prev"||!s;let L=0,C=0;const R=g?Math.ceil(c.length/h.grid.rows):c.length,O=(g?c[r].column:r)+(p&&typeof i>"u"?-m/2+.5:0);if(O<b){L=Math.max(b-O,w);for(let x=0;x<b-O;x+=1){const D=x-Math.floor(x/R)*R;if(g){const $=R-D-1;for(let V=c.length-1;V>=0;V-=1)c[V].column===$&&y.push(V)}else y.push(R-D-1)}}else if(O+m>R-b){C=Math.max(O-(R-b*2),w);for(let x=0;x<C;x+=1){const D=x-Math.floor(x/R)*R;g?c.forEach(($,V)=>{$.column===D&&S.push(V)}):S.push(D)}}if(l.__preventObserver__=!0,requestAnimationFrame(()=>{l.__preventObserver__=!1}),K&&y.forEach(x=>{c[x].swiperLoopMoveDOM=!0,f.prepend(c[x]),c[x].swiperLoopMoveDOM=!1}),U&&S.forEach(x=>{c[x].swiperLoopMoveDOM=!0,f.append(c[x]),c[x].swiperLoopMoveDOM=!1}),l.recalcSlides(),h.slidesPerView==="auto"?l.updateSlides():g&&(y.length>0&&K||S.length>0&&U)&&l.slides.forEach((x,D)=>{l.grid.updateSlide(D,x,l.slides)}),h.watchSlidesProgress&&l.updateSlidesOffset(),n){if(y.length>0&&K){if(typeof e>"u"){const x=l.slidesGrid[I],$=l.slidesGrid[I+L]-x;a?l.setTranslate(l.translate-$):(l.slideTo(I+L,0,!1,!0),i&&(l.touchEventsData.startTranslate=l.touchEventsData.startTranslate-$,l.touchEventsData.currentTranslate=l.touchEventsData.currentTranslate-$))}else if(i){const x=g?y.length/h.grid.rows:y.length;l.slideTo(l.activeIndex+x,0,!1,!0),l.touchEventsData.currentTranslate=l.translate}}else if(S.length>0&&U)if(typeof e>"u"){const x=l.slidesGrid[I],$=l.slidesGrid[I-C]-x;a?l.setTranslate(l.translate-$):(l.slideTo(I-C,0,!1,!0),i&&(l.touchEventsData.startTranslate=l.touchEventsData.startTranslate-$,l.touchEventsData.currentTranslate=l.touchEventsData.currentTranslate-$))}else{const x=g?S.length/h.grid.rows:S.length;l.slideTo(l.activeIndex-x,0,!1,!0)}}if(l.allowSlidePrev=u,l.allowSlideNext=d,l.controller&&l.controller.control&&!o){const x={slideRealIndex:e,direction:s,setTranslate:i,activeSlideIndex:r,byController:!0};Array.isArray(l.controller.control)?l.controller.control.forEach(D=>{!D.destroyed&&D.params.loop&&D.loopFix({...x,slideTo:D.params.slidesPerView===h.slidesPerView?n:!1})}):l.controller.control instanceof l.constructor&&l.controller.control.params.loop&&l.controller.control.loopFix({...x,slideTo:l.controller.control.params.slidesPerView===h.slidesPerView?n:!1})}l.emit("loopFix")}function SR(){const t=this,{params:e,slidesEl:n}=t;if(!e.loop||t.virtual&&t.params.virtual.enabled)return;t.recalcSlides();const s=[];t.slides.forEach(i=>{const r=typeof i.swiperSlideIndex>"u"?i.getAttribute("data-swiper-slide-index")*1:i.swiperSlideIndex;s[r]=i}),t.slides.forEach(i=>{i.removeAttribute("data-swiper-slide-index")}),s.forEach(i=>{n.append(i)}),t.recalcSlides(),t.slideTo(t.realIndex,0)}var TR={loopCreate:bR,loopFix:ER,loopDestroy:SR};function CR(t){const e=this;if(!e.params.simulateTouch||e.params.watchOverflow&&e.isLocked||e.params.cssMode)return;const n=e.params.touchEventsTarget==="container"?e.el:e.wrapperEl;e.isElement&&(e.__preventObserver__=!0),n.style.cursor="move",n.style.cursor=t?"grabbing":"grab",e.isElement&&requestAnimationFrame(()=>{e.__preventObserver__=!1})}function IR(){const t=this;t.params.watchOverflow&&t.isLocked||t.params.cssMode||(t.isElement&&(t.__preventObserver__=!0),t[t.params.touchEventsTarget==="container"?"el":"wrapperEl"].style.cursor="",t.isElement&&requestAnimationFrame(()=>{t.__preventObserver__=!1}))}var PR={setGrabCursor:CR,unsetGrabCursor:IR};function RR(t,e){e===void 0&&(e=this);function n(s){if(!s||s===It()||s===dt())return null;s.assignedSlot&&(s=s.assignedSlot);const i=s.closest(t);return!i&&!s.getRootNode?null:i||n(s.getRootNode().host)}return n(e)}function Lf(t,e,n){const s=dt(),{params:i}=t,r=i.edgeSwipeDetection,o=i.edgeSwipeThreshold;return r&&(n<=o||n>=s.innerWidth-o)?r==="prevent"?(e.preventDefault(),!0):!1:!0}function xR(t){const e=this,n=It();let s=t;s.originalEvent&&(s=s.originalEvent);const i=e.touchEventsData;if(s.type==="pointerdown"){if(i.pointerId!==null&&i.pointerId!==s.pointerId)return;i.pointerId=s.pointerId}else s.type==="touchstart"&&s.targetTouches.length===1&&(i.touchId=s.targetTouches[0].identifier);if(s.type==="touchstart"){Lf(e,s,s.targetTouches[0].pageX);return}const{params:r,touches:o,enabled:a}=e;if(!a||!r.simulateTouch&&s.pointerType==="mouse"||e.animating&&r.preventInteractionOnTransition)return;!e.animating&&r.cssMode&&r.loop&&e.loopFix();let l=s.target;if(r.touchEventsTarget==="wrapper"&&!e.wrapperEl.contains(l)||"which"in s&&s.which===3||"button"in s&&s.button>0||i.isTouched&&i.isMoved)return;const c=!!r.noSwipingClass&&r.noSwipingClass!=="",u=s.composedPath?s.composedPath():s.path;c&&s.target&&s.target.shadowRoot&&u&&(l=u[0]);const d=r.noSwipingSelector?r.noSwipingSelector:`.${r.noSwipingClass}`,f=!!(s.target&&s.target.shadowRoot);if(r.noSwiping&&(f?RR(d,l):l.closest(d))){e.allowClick=!0;return}if(r.swipeHandler&&!l.closest(r.swipeHandler))return;o.currentX=s.pageX,o.currentY=s.pageY;const h=o.currentX,p=o.currentY;if(!Lf(e,s,h))return;Object.assign(i,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),o.startX=h,o.startY=p,i.touchStartTime=go(),e.allowClick=!0,e.updateSize(),e.swipeDirection=void 0,r.threshold>0&&(i.allowThresholdMove=!1);let m=!0;l.matches(i.focusableElements)&&(m=!1,l.nodeName==="SELECT"&&(i.isTouched=!1)),n.activeElement&&n.activeElement.matches(i.focusableElements)&&n.activeElement!==l&&n.activeElement.blur();const w=m&&e.allowTouchMove&&r.touchStartPreventDefault;(r.touchStartForcePreventDefault||w)&&!l.isContentEditable&&s.preventDefault(),r.freeMode&&r.freeMode.enabled&&e.freeMode&&e.animating&&!r.cssMode&&e.freeMode.onTouchStart(),e.emit("touchStart",s)}function AR(t){const e=It(),n=this,s=n.touchEventsData,{params:i,touches:r,rtlTranslate:o,enabled:a}=n;if(!a||!i.simulateTouch&&t.pointerType==="mouse")return;let l=t;if(l.originalEvent&&(l=l.originalEvent),l.type==="pointermove"&&(s.touchId!==null||l.pointerId!==s.pointerId))return;let c;if(l.type==="touchmove"){if(c=[...l.changedTouches].filter(U=>U.identifier===s.touchId)[0],!c||c.identifier!==s.touchId)return}else c=l;if(!s.isTouched){s.startMoving&&s.isScrolling&&n.emit("touchMoveOpposite",l);return}const u=c.pageX,d=c.pageY;if(l.preventedByNestedSwiper){r.startX=u,r.startY=d;return}if(!n.allowTouchMove){l.target.matches(s.focusableElements)||(n.allowClick=!1),s.isTouched&&(Object.assign(r,{startX:u,startY:d,currentX:u,currentY:d}),s.touchStartTime=go());return}if(i.touchReleaseOnEdges&&!i.loop){if(n.isVertical()){if(d<r.startY&&n.translate<=n.maxTranslate()||d>r.startY&&n.translate>=n.minTranslate()){s.isTouched=!1,s.isMoved=!1;return}}else if(u<r.startX&&n.translate<=n.maxTranslate()||u>r.startX&&n.translate>=n.minTranslate())return}if(e.activeElement&&l.target===e.activeElement&&l.target.matches(s.focusableElements)){s.isMoved=!0,n.allowClick=!1;return}s.allowTouchCallbacks&&n.emit("touchMove",l),r.previousX=r.currentX,r.previousY=r.currentY,r.currentX=u,r.currentY=d;const f=r.currentX-r.startX,h=r.currentY-r.startY;if(n.params.threshold&&Math.sqrt(f**2+h**2)<n.params.threshold)return;if(typeof s.isScrolling>"u"){let U;n.isHorizontal()&&r.currentY===r.startY||n.isVertical()&&r.currentX===r.startX?s.isScrolling=!1:f*f+h*h>=25&&(U=Math.atan2(Math.abs(h),Math.abs(f))*180/Math.PI,s.isScrolling=n.isHorizontal()?U>i.touchAngle:90-U>i.touchAngle)}if(s.isScrolling&&n.emit("touchMoveOpposite",l),typeof s.startMoving>"u"&&(r.currentX!==r.startX||r.currentY!==r.startY)&&(s.startMoving=!0),s.isScrolling){s.isTouched=!1;return}if(!s.startMoving)return;n.allowClick=!1,!i.cssMode&&l.cancelable&&l.preventDefault(),i.touchMoveStopPropagation&&!i.nested&&l.stopPropagation();let p=n.isHorizontal()?f:h,m=n.isHorizontal()?r.currentX-r.previousX:r.currentY-r.previousY;i.oneWayMovement&&(p=Math.abs(p)*(o?1:-1),m=Math.abs(m)*(o?1:-1)),r.diff=p,p*=i.touchRatio,o&&(p=-p,m=-m);const w=n.touchesDirection;n.swipeDirection=p>0?"prev":"next",n.touchesDirection=m>0?"prev":"next";const b=n.params.loop&&!i.cssMode,g=n.touchesDirection==="next"&&n.allowSlideNext||n.touchesDirection==="prev"&&n.allowSlidePrev;if(!s.isMoved){if(b&&g&&n.loopFix({direction:n.swipeDirection}),s.startTranslate=n.getTranslate(),n.setTransition(0),n.animating){const U=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0});n.wrapperEl.dispatchEvent(U)}s.allowMomentumBounce=!1,i.grabCursor&&(n.allowSlideNext===!0||n.allowSlidePrev===!0)&&n.setGrabCursor(!0),n.emit("sliderFirstMove",l)}let y;if(new Date().getTime(),s.isMoved&&s.allowThresholdMove&&w!==n.touchesDirection&&b&&g&&Math.abs(p)>=1){Object.assign(r,{startX:u,startY:d,currentX:u,currentY:d,startTranslate:s.currentTranslate}),s.loopSwapReset=!0,s.startTranslate=s.currentTranslate;return}n.emit("sliderMove",l),s.isMoved=!0,s.currentTranslate=p+s.startTranslate;let S=!0,I=i.resistanceRatio;if(i.touchReleaseOnEdges&&(I=0),p>0?(b&&g&&!y&&s.allowThresholdMove&&s.currentTranslate>(i.centeredSlides?n.minTranslate()-n.slidesSizesGrid[n.activeIndex+1]:n.minTranslate())&&n.loopFix({direction:"prev",setTranslate:!0,activeSlideIndex:0}),s.currentTranslate>n.minTranslate()&&(S=!1,i.resistance&&(s.currentTranslate=n.minTranslate()-1+(-n.minTranslate()+s.startTranslate+p)**I))):p<0&&(b&&g&&!y&&s.allowThresholdMove&&s.currentTranslate<(i.centeredSlides?n.maxTranslate()+n.slidesSizesGrid[n.slidesSizesGrid.length-1]:n.maxTranslate())&&n.loopFix({direction:"next",setTranslate:!0,activeSlideIndex:n.slides.length-(i.slidesPerView==="auto"?n.slidesPerViewDynamic():Math.ceil(parseFloat(i.slidesPerView,10)))}),s.currentTranslate<n.maxTranslate()&&(S=!1,i.resistance&&(s.currentTranslate=n.maxTranslate()+1-(n.maxTranslate()-s.startTranslate-p)**I))),S&&(l.preventedByNestedSwiper=!0),!n.allowSlideNext&&n.swipeDirection==="next"&&s.currentTranslate<s.startTranslate&&(s.currentTranslate=s.startTranslate),!n.allowSlidePrev&&n.swipeDirection==="prev"&&s.currentTranslate>s.startTranslate&&(s.currentTranslate=s.startTranslate),!n.allowSlidePrev&&!n.allowSlideNext&&(s.currentTranslate=s.startTranslate),i.threshold>0)if(Math.abs(p)>i.threshold||s.allowThresholdMove){if(!s.allowThresholdMove){s.allowThresholdMove=!0,r.startX=r.currentX,r.startY=r.currentY,s.currentTranslate=s.startTranslate,r.diff=n.isHorizontal()?r.currentX-r.startX:r.currentY-r.startY;return}}else{s.currentTranslate=s.startTranslate;return}!i.followFinger||i.cssMode||((i.freeMode&&i.freeMode.enabled&&n.freeMode||i.watchSlidesProgress)&&(n.updateActiveIndex(),n.updateSlidesClasses()),i.freeMode&&i.freeMode.enabled&&n.freeMode&&n.freeMode.onTouchMove(),n.updateProgress(s.currentTranslate),n.setTranslate(s.currentTranslate))}function kR(t){const e=this,n=e.touchEventsData;let s=t;s.originalEvent&&(s=s.originalEvent);let i;if(s.type==="touchend"||s.type==="touchcancel"){if(i=[...s.changedTouches].filter(I=>I.identifier===n.touchId)[0],!i||i.identifier!==n.touchId)return}else{if(n.touchId!==null||s.pointerId!==n.pointerId)return;i=s}if(["pointercancel","pointerout","pointerleave","contextmenu"].includes(s.type)&&!(["pointercancel","contextmenu"].includes(s.type)&&(e.browser.isSafari||e.browser.isWebView)))return;n.pointerId=null,n.touchId=null;const{params:o,touches:a,rtlTranslate:l,slidesGrid:c,enabled:u}=e;if(!u||!o.simulateTouch&&s.pointerType==="mouse")return;if(n.allowTouchCallbacks&&e.emit("touchEnd",s),n.allowTouchCallbacks=!1,!n.isTouched){n.isMoved&&o.grabCursor&&e.setGrabCursor(!1),n.isMoved=!1,n.startMoving=!1;return}o.grabCursor&&n.isMoved&&n.isTouched&&(e.allowSlideNext===!0||e.allowSlidePrev===!0)&&e.setGrabCursor(!1);const d=go(),f=d-n.touchStartTime;if(e.allowClick){const I=s.path||s.composedPath&&s.composedPath();e.updateClickedSlide(I&&I[0]||s.target,I),e.emit("tap click",s),f<300&&d-n.lastClickTime<300&&e.emit("doubleTap doubleClick",s)}if(n.lastClickTime=go(),mo(()=>{e.destroyed||(e.allowClick=!0)}),!n.isTouched||!n.isMoved||!e.swipeDirection||a.diff===0&&!n.loopSwapReset||n.currentTranslate===n.startTranslate&&!n.loopSwapReset){n.isTouched=!1,n.isMoved=!1,n.startMoving=!1;return}n.isTouched=!1,n.isMoved=!1,n.startMoving=!1;let h;if(o.followFinger?h=l?e.translate:-e.translate:h=-n.currentTranslate,o.cssMode)return;if(o.freeMode&&o.freeMode.enabled){e.freeMode.onTouchEnd({currentPos:h});return}const p=h>=-e.maxTranslate()&&!e.params.loop;let m=0,w=e.slidesSizesGrid[0];for(let I=0;I<c.length;I+=I<o.slidesPerGroupSkip?1:o.slidesPerGroup){const U=I<o.slidesPerGroupSkip-1?1:o.slidesPerGroup;typeof c[I+U]<"u"?(p||h>=c[I]&&h<c[I+U])&&(m=I,w=c[I+U]-c[I]):(p||h>=c[I])&&(m=I,w=c[c.length-1]-c[c.length-2])}let b=null,g=null;o.rewind&&(e.isBeginning?g=o.virtual&&o.virtual.enabled&&e.virtual?e.virtual.slides.length-1:e.slides.length-1:e.isEnd&&(b=0));const y=(h-c[m])/w,S=m<o.slidesPerGroupSkip-1?1:o.slidesPerGroup;if(f>o.longSwipesMs){if(!o.longSwipes){e.slideTo(e.activeIndex);return}e.swipeDirection==="next"&&(y>=o.longSwipesRatio?e.slideTo(o.rewind&&e.isEnd?b:m+S):e.slideTo(m)),e.swipeDirection==="prev"&&(y>1-o.longSwipesRatio?e.slideTo(m+S):g!==null&&y<0&&Math.abs(y)>o.longSwipesRatio?e.slideTo(g):e.slideTo(m))}else{if(!o.shortSwipes){e.slideTo(e.activeIndex);return}e.navigation&&(s.target===e.navigation.nextEl||s.target===e.navigation.prevEl)?s.target===e.navigation.nextEl?e.slideTo(m+S):e.slideTo(m):(e.swipeDirection==="next"&&e.slideTo(b!==null?b:m+S),e.swipeDirection==="prev"&&e.slideTo(g!==null?g:m))}}function Mf(){const t=this,{params:e,el:n}=t;if(n&&n.offsetWidth===0)return;e.breakpoints&&t.setBreakpoint();const{allowSlideNext:s,allowSlidePrev:i,snapGrid:r}=t,o=t.virtual&&t.params.virtual.enabled;t.allowSlideNext=!0,t.allowSlidePrev=!0,t.updateSize(),t.updateSlides(),t.updateSlidesClasses();const a=o&&e.loop;(e.slidesPerView==="auto"||e.slidesPerView>1)&&t.isEnd&&!t.isBeginning&&!t.params.centeredSlides&&!a?t.slideTo(t.slides.length-1,0,!1,!0):t.params.loop&&!o?t.slideToLoop(t.realIndex,0,!1,!0):t.slideTo(t.activeIndex,0,!1,!0),t.autoplay&&t.autoplay.running&&t.autoplay.paused&&(clearTimeout(t.autoplay.resizeTimeout),t.autoplay.resizeTimeout=setTimeout(()=>{t.autoplay&&t.autoplay.running&&t.autoplay.paused&&t.autoplay.resume()},500)),t.allowSlidePrev=i,t.allowSlideNext=s,t.params.watchOverflow&&r!==t.snapGrid&&t.checkOverflow()}function OR(t){const e=this;e.enabled&&(e.allowClick||(e.params.preventClicks&&t.preventDefault(),e.params.preventClicksPropagation&&e.animating&&(t.stopPropagation(),t.stopImmediatePropagation())))}function NR(){const t=this,{wrapperEl:e,rtlTranslate:n,enabled:s}=t;if(!s)return;t.previousTranslate=t.translate,t.isHorizontal()?t.translate=-e.scrollLeft:t.translate=-e.scrollTop,t.translate===0&&(t.translate=0),t.updateActiveIndex(),t.updateSlidesClasses();let i;const r=t.maxTranslate()-t.minTranslate();r===0?i=0:i=(t.translate-t.minTranslate())/r,i!==t.progress&&t.updateProgress(n?-t.translate:t.translate),t.emit("setTranslate",t.translate,!1)}function LR(t){const e=this;$r(e,t.target),!(e.params.cssMode||e.params.slidesPerView!=="auto"&&!e.params.autoHeight)&&e.update()}function MR(){const t=this;t.documentTouchHandlerProceeded||(t.documentTouchHandlerProceeded=!0,t.params.touchReleaseOnEdges&&(t.el.style.touchAction="auto"))}const Ig=(t,e)=>{const n=It(),{params:s,el:i,wrapperEl:r,device:o}=t,a=!!s.nested,l=e==="on"?"addEventListener":"removeEventListener",c=e;n[l]("touchstart",t.onDocumentTouchStart,{passive:!1,capture:a}),i[l]("touchstart",t.onTouchStart,{passive:!1}),i[l]("pointerdown",t.onTouchStart,{passive:!1}),n[l]("touchmove",t.onTouchMove,{passive:!1,capture:a}),n[l]("pointermove",t.onTouchMove,{passive:!1,capture:a}),n[l]("touchend",t.onTouchEnd,{passive:!0}),n[l]("pointerup",t.onTouchEnd,{passive:!0}),n[l]("pointercancel",t.onTouchEnd,{passive:!0}),n[l]("touchcancel",t.onTouchEnd,{passive:!0}),n[l]("pointerout",t.onTouchEnd,{passive:!0}),n[l]("pointerleave",t.onTouchEnd,{passive:!0}),n[l]("contextmenu",t.onTouchEnd,{passive:!0}),(s.preventClicks||s.preventClicksPropagation)&&i[l]("click",t.onClick,!0),s.cssMode&&r[l]("scroll",t.onScroll),s.updateOnWindowResize?t[c](o.ios||o.android?"resize orientationchange observerUpdate":"resize observerUpdate",Mf,!0):t[c]("observerUpdate",Mf,!0),i[l]("load",t.onLoad,{capture:!0})};function DR(){const t=this,{params:e}=t;t.onTouchStart=xR.bind(t),t.onTouchMove=AR.bind(t),t.onTouchEnd=kR.bind(t),t.onDocumentTouchStart=MR.bind(t),e.cssMode&&(t.onScroll=NR.bind(t)),t.onClick=OR.bind(t),t.onLoad=LR.bind(t),Ig(t,"on")}function FR(){Ig(this,"off")}var $R={attachEvents:DR,detachEvents:FR};const Df=(t,e)=>t.grid&&e.grid&&e.grid.rows>1;function UR(){const t=this,{realIndex:e,initialized:n,params:s,el:i}=t,r=s.breakpoints;if(!r||r&&Object.keys(r).length===0)return;const o=t.getBreakpoint(r,t.params.breakpointsBase,t.el);if(!o||t.currentBreakpoint===o)return;const l=(o in r?r[o]:void 0)||t.originalParams,c=Df(t,s),u=Df(t,l),d=s.enabled;c&&!u?(i.classList.remove(`${s.containerModifierClass}grid`,`${s.containerModifierClass}grid-column`),t.emitContainerClasses()):!c&&u&&(i.classList.add(`${s.containerModifierClass}grid`),(l.grid.fill&&l.grid.fill==="column"||!l.grid.fill&&s.grid.fill==="column")&&i.classList.add(`${s.containerModifierClass}grid-column`),t.emitContainerClasses()),["navigation","pagination","scrollbar"].forEach(b=>{if(typeof l[b]>"u")return;const g=s[b]&&s[b].enabled,y=l[b]&&l[b].enabled;g&&!y&&t[b].disable(),!g&&y&&t[b].enable()});const f=l.direction&&l.direction!==s.direction,h=s.loop&&(l.slidesPerView!==s.slidesPerView||f),p=s.loop;f&&n&&t.changeDirection(),pt(t.params,l);const m=t.params.enabled,w=t.params.loop;Object.assign(t,{allowTouchMove:t.params.allowTouchMove,allowSlideNext:t.params.allowSlideNext,allowSlidePrev:t.params.allowSlidePrev}),d&&!m?t.disable():!d&&m&&t.enable(),t.currentBreakpoint=o,t.emit("_beforeBreakpoint",l),n&&(h?(t.loopDestroy(),t.loopCreate(e),t.updateSlides()):!p&&w?(t.loopCreate(e),t.updateSlides()):p&&!w&&t.loopDestroy()),t.emit("breakpoint",l)}function BR(t,e,n){if(e===void 0&&(e="window"),!t||e==="container"&&!n)return;let s=!1;const i=dt(),r=e==="window"?i.innerHeight:n.clientHeight,o=Object.keys(t).map(a=>{if(typeof a=="string"&&a.indexOf("@")===0){const l=parseFloat(a.substr(1));return{value:r*l,point:a}}return{value:a,point:a}});o.sort((a,l)=>parseInt(a.value,10)-parseInt(l.value,10));for(let a=0;a<o.length;a+=1){const{point:l,value:c}=o[a];e==="window"?i.matchMedia(`(min-width: ${c}px)`).matches&&(s=l):c<=n.clientWidth&&(s=l)}return s||"max"}var zR={setBreakpoint:UR,getBreakpoint:BR};function VR(t,e){const n=[];return t.forEach(s=>{typeof s=="object"?Object.keys(s).forEach(i=>{s[i]&&n.push(e+i)}):typeof s=="string"&&n.push(e+s)}),n}function HR(){const t=this,{classNames:e,params:n,rtl:s,el:i,device:r}=t,o=VR(["initialized",n.direction,{"free-mode":t.params.freeMode&&n.freeMode.enabled},{autoheight:n.autoHeight},{rtl:s},{grid:n.grid&&n.grid.rows>1},{"grid-column":n.grid&&n.grid.rows>1&&n.grid.fill==="column"},{android:r.android},{ios:r.ios},{"css-mode":n.cssMode},{centered:n.cssMode&&n.centeredSlides},{"watch-progress":n.watchSlidesProgress}],n.containerModifierClass);e.push(...o),i.classList.add(...e),t.emitContainerClasses()}function WR(){const t=this,{el:e,classNames:n}=t;e.classList.remove(...n),t.emitContainerClasses()}var jR={addClasses:HR,removeClasses:WR};function GR(){const t=this,{isLocked:e,params:n}=t,{slidesOffsetBefore:s}=n;if(s){const i=t.slides.length-1,r=t.slidesGrid[i]+t.slidesSizesGrid[i]+s*2;t.isLocked=t.size>r}else t.isLocked=t.snapGrid.length===1;n.allowSlideNext===!0&&(t.allowSlideNext=!t.isLocked),n.allowSlidePrev===!0&&(t.allowSlidePrev=!t.isLocked),e&&e!==t.isLocked&&(t.isEnd=!1),e!==t.isLocked&&t.emit(t.isLocked?"lock":"unlock")}var qR={checkOverflow:GR},Ll={init:!0,direction:"horizontal",oneWayMovement:!1,touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,eventsPrefix:"swiper",enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:5,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,loop:!1,loopAddBlankSlides:!0,loopAdditionalSlides:0,loopPreventsSliding:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-blank",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideFullyVisibleClass:"swiper-slide-fully-visible",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",lazyPreloaderClass:"swiper-lazy-preloader",lazyPreloadPrevNext:0,runCallbacksOnInit:!0,_emitClasses:!1};function KR(t,e){return function(s){s===void 0&&(s={});const i=Object.keys(s)[0],r=s[i];if(typeof r!="object"||r===null){pt(e,s);return}if(t[i]===!0&&(t[i]={enabled:!0}),i==="navigation"&&t[i]&&t[i].enabled&&!t[i].prevEl&&!t[i].nextEl&&(t[i].auto=!0),["pagination","scrollbar"].indexOf(i)>=0&&t[i]&&t[i].enabled&&!t[i].el&&(t[i].auto=!0),!(i in t&&"enabled"in r)){pt(e,s);return}typeof t[i]=="object"&&!("enabled"in t[i])&&(t[i].enabled=!0),t[i]||(t[i]={enabled:!1}),pt(e,s)}}const $a={eventsEmitter:jP,update:nR,translate:lR,transition:fR,slide:wR,loop:TR,grabCursor:PR,events:$R,breakpoints:zR,checkOverflow:qR,classes:jR},Ua={};let lu=class Qt{constructor(){let e,n;for(var s=arguments.length,i=new Array(s),r=0;r<s;r++)i[r]=arguments[r];i.length===1&&i[0].constructor&&Object.prototype.toString.call(i[0]).slice(8,-1)==="Object"?n=i[0]:[e,n]=i,n||(n={}),n=pt({},n),e&&!n.el&&(n.el=e);const o=It();if(n.el&&typeof n.el=="string"&&o.querySelectorAll(n.el).length>1){const u=[];return o.querySelectorAll(n.el).forEach(d=>{const f=pt({},n,{el:d});u.push(new Qt(f))}),u}const a=this;a.__swiper__=!0,a.support=Tg(),a.device=BP({userAgent:n.userAgent}),a.browser=VP(),a.eventsListeners={},a.eventsAnyListeners=[],a.modules=[...a.__modules__],n.modules&&Array.isArray(n.modules)&&a.modules.push(...n.modules);const l={};a.modules.forEach(u=>{u({params:n,swiper:a,extendParams:KR(n,l),on:a.on.bind(a),once:a.once.bind(a),off:a.off.bind(a),emit:a.emit.bind(a)})});const c=pt({},Ll,l);return a.params=pt({},c,Ua,n),a.originalParams=pt({},a.params),a.passedParams=pt({},n),a.params&&a.params.on&&Object.keys(a.params.on).forEach(u=>{a.on(u,a.params.on[u])}),a.params&&a.params.onAny&&a.onAny(a.params.onAny),Object.assign(a,{enabled:a.params.enabled,el:e,classNames:[],slides:[],slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal(){return a.params.direction==="horizontal"},isVertical(){return a.params.direction==="vertical"},activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,cssOverflowAdjustment(){return Math.trunc(this.translate/2**23)*2**23},allowSlideNext:a.params.allowSlideNext,allowSlidePrev:a.params.allowSlidePrev,touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:a.params.focusableElements,lastClickTime:0,clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,startMoving:void 0,pointerId:null,touchId:null},allowClick:!0,allowTouchMove:a.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),a.emit("_swiper"),a.params.init&&a.init(),a}getDirectionLabel(e){return this.isHorizontal()?e:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[e]}getSlideIndex(e){const{slidesEl:n,params:s}=this,i=Lt(n,`.${s.slideClass}, swiper-slide`),r=vo(i[0]);return vo(e)-r}getSlideIndexByData(e){return this.getSlideIndex(this.slides.filter(n=>n.getAttribute("data-swiper-slide-index")*1===e)[0])}recalcSlides(){const e=this,{slidesEl:n,params:s}=e;e.slides=Lt(n,`.${s.slideClass}, swiper-slide`)}enable(){const e=this;e.enabled||(e.enabled=!0,e.params.grabCursor&&e.setGrabCursor(),e.emit("enable"))}disable(){const e=this;e.enabled&&(e.enabled=!1,e.params.grabCursor&&e.unsetGrabCursor(),e.emit("disable"))}setProgress(e,n){const s=this;e=Math.min(Math.max(e,0),1);const i=s.minTranslate(),o=(s.maxTranslate()-i)*e+i;s.translateTo(o,typeof n>"u"?0:n),s.updateActiveIndex(),s.updateSlidesClasses()}emitContainerClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const n=e.el.className.split(" ").filter(s=>s.indexOf("swiper")===0||s.indexOf(e.params.containerModifierClass)===0);e.emit("_containerClasses",n.join(" "))}getSlideClasses(e){const n=this;return n.destroyed?"":e.className.split(" ").filter(s=>s.indexOf("swiper-slide")===0||s.indexOf(n.params.slideClass)===0).join(" ")}emitSlidesClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const n=[];e.slides.forEach(s=>{const i=e.getSlideClasses(s);n.push({slideEl:s,classNames:i}),e.emit("_slideClass",s,i)}),e.emit("_slideClasses",n)}slidesPerViewDynamic(e,n){e===void 0&&(e="current"),n===void 0&&(n=!1);const s=this,{params:i,slides:r,slidesGrid:o,slidesSizesGrid:a,size:l,activeIndex:c}=s;let u=1;if(typeof i.slidesPerView=="number")return i.slidesPerView;if(i.centeredSlides){let d=r[c]?r[c].swiperSlideSize:0,f;for(let h=c+1;h<r.length;h+=1)r[h]&&!f&&(d+=r[h].swiperSlideSize,u+=1,d>l&&(f=!0));for(let h=c-1;h>=0;h-=1)r[h]&&!f&&(d+=r[h].swiperSlideSize,u+=1,d>l&&(f=!0))}else if(e==="current")for(let d=c+1;d<r.length;d+=1)(n?o[d]+a[d]-o[c]<l:o[d]-o[c]<l)&&(u+=1);else for(let d=c-1;d>=0;d-=1)o[c]-o[d]<l&&(u+=1);return u}update(){const e=this;if(!e||e.destroyed)return;const{snapGrid:n,params:s}=e;s.breakpoints&&e.setBreakpoint(),[...e.el.querySelectorAll('[loading="lazy"]')].forEach(o=>{o.complete&&$r(e,o)}),e.updateSize(),e.updateSlides(),e.updateProgress(),e.updateSlidesClasses();function i(){const o=e.rtlTranslate?e.translate*-1:e.translate,a=Math.min(Math.max(o,e.maxTranslate()),e.minTranslate());e.setTranslate(a),e.updateActiveIndex(),e.updateSlidesClasses()}let r;if(s.freeMode&&s.freeMode.enabled&&!s.cssMode)i(),s.autoHeight&&e.updateAutoHeight();else{if((s.slidesPerView==="auto"||s.slidesPerView>1)&&e.isEnd&&!s.centeredSlides){const o=e.virtual&&s.virtual.enabled?e.virtual.slides:e.slides;r=e.slideTo(o.length-1,0,!1,!0)}else r=e.slideTo(e.activeIndex,0,!1,!0);r||i()}s.watchOverflow&&n!==e.snapGrid&&e.checkOverflow(),e.emit("update")}changeDirection(e,n){n===void 0&&(n=!0);const s=this,i=s.params.direction;return e||(e=i==="horizontal"?"vertical":"horizontal"),e===i||e!=="horizontal"&&e!=="vertical"||(s.el.classList.remove(`${s.params.containerModifierClass}${i}`),s.el.classList.add(`${s.params.containerModifierClass}${e}`),s.emitContainerClasses(),s.params.direction=e,s.slides.forEach(r=>{e==="vertical"?r.style.width="":r.style.height=""}),s.emit("changeDirection"),n&&s.update()),s}changeLanguageDirection(e){const n=this;n.rtl&&e==="rtl"||!n.rtl&&e==="ltr"||(n.rtl=e==="rtl",n.rtlTranslate=n.params.direction==="horizontal"&&n.rtl,n.rtl?(n.el.classList.add(`${n.params.containerModifierClass}rtl`),n.el.dir="rtl"):(n.el.classList.remove(`${n.params.containerModifierClass}rtl`),n.el.dir="ltr"),n.update())}mount(e){const n=this;if(n.mounted)return!0;let s=e||n.params.el;if(typeof s=="string"&&(s=document.querySelector(s)),!s)return!1;s.swiper=n,s.parentNode&&s.parentNode.host&&s.parentNode.host.nodeName==="SWIPER-CONTAINER"&&(n.isElement=!0);const i=()=>`.${(n.params.wrapperClass||"").trim().split(" ").join(".")}`;let o=s&&s.shadowRoot&&s.shadowRoot.querySelector?s.shadowRoot.querySelector(i()):Lt(s,i())[0];return!o&&n.params.createElements&&(o=_s("div",n.params.wrapperClass),s.append(o),Lt(s,`.${n.params.slideClass}`).forEach(a=>{o.append(a)})),Object.assign(n,{el:s,wrapperEl:o,slidesEl:n.isElement&&!s.parentNode.host.slideSlots?s.parentNode.host:o,hostEl:n.isElement?s.parentNode.host:s,mounted:!0,rtl:s.dir.toLowerCase()==="rtl"||Pn(s,"direction")==="rtl",rtlTranslate:n.params.direction==="horizontal"&&(s.dir.toLowerCase()==="rtl"||Pn(s,"direction")==="rtl"),wrongRTL:Pn(o,"display")==="-webkit-box"}),!0}init(e){const n=this;if(n.initialized||n.mount(e)===!1)return n;n.emit("beforeInit"),n.params.breakpoints&&n.setBreakpoint(),n.addClasses(),n.updateSize(),n.updateSlides(),n.params.watchOverflow&&n.checkOverflow(),n.params.grabCursor&&n.enabled&&n.setGrabCursor(),n.params.loop&&n.virtual&&n.params.virtual.enabled?n.slideTo(n.params.initialSlide+n.virtual.slidesBefore,0,n.params.runCallbacksOnInit,!1,!0):n.slideTo(n.params.initialSlide,0,n.params.runCallbacksOnInit,!1,!0),n.params.loop&&n.loopCreate(),n.attachEvents();const i=[...n.el.querySelectorAll('[loading="lazy"]')];return n.isElement&&i.push(...n.hostEl.querySelectorAll('[loading="lazy"]')),i.forEach(r=>{r.complete?$r(n,r):r.addEventListener("load",o=>{$r(n,o.target)})}),Nl(n),n.initialized=!0,Nl(n),n.emit("init"),n.emit("afterInit"),n}destroy(e,n){e===void 0&&(e=!0),n===void 0&&(n=!0);const s=this,{params:i,el:r,wrapperEl:o,slides:a}=s;return typeof s.params>"u"||s.destroyed||(s.emit("beforeDestroy"),s.initialized=!1,s.detachEvents(),i.loop&&s.loopDestroy(),n&&(s.removeClasses(),r.removeAttribute("style"),o.removeAttribute("style"),a&&a.length&&a.forEach(l=>{l.classList.remove(i.slideVisibleClass,i.slideFullyVisibleClass,i.slideActiveClass,i.slideNextClass,i.slidePrevClass),l.removeAttribute("style"),l.removeAttribute("data-swiper-slide-index")})),s.emit("destroy"),Object.keys(s.eventsListeners).forEach(l=>{s.off(l)}),e!==!1&&(s.el.swiper=null,AP(s)),s.destroyed=!0),null}static extendDefaults(e){pt(Ua,e)}static get extendedDefaults(){return Ua}static get defaults(){return Ll}static installModule(e){Qt.prototype.__modules__||(Qt.prototype.__modules__=[]);const n=Qt.prototype.__modules__;typeof e=="function"&&n.indexOf(e)<0&&n.push(e)}static use(e){return Array.isArray(e)?(e.forEach(n=>Qt.installModule(n)),Qt):(Qt.installModule(e),Qt)}};Object.keys($a).forEach(t=>{Object.keys($a[t]).forEach(e=>{lu.prototype[e]=$a[t][e]})});lu.use([HP,WP]);const Pg=["eventsPrefix","injectStyles","injectStylesUrls","modules","init","_direction","oneWayMovement","touchEventsTarget","initialSlide","_speed","cssMode","updateOnWindowResize","resizeObserver","nested","focusableElements","_enabled","_width","_height","preventInteractionOnTransition","userAgent","url","_edgeSwipeDetection","_edgeSwipeThreshold","_freeMode","_autoHeight","setWrapperSize","virtualTranslate","_effect","breakpoints","breakpointsBase","_spaceBetween","_slidesPerView","maxBackfaceHiddenSlides","_grid","_slidesPerGroup","_slidesPerGroupSkip","_slidesPerGroupAuto","_centeredSlides","_centeredSlidesBounds","_slidesOffsetBefore","_slidesOffsetAfter","normalizeSlideIndex","_centerInsufficientSlides","_watchOverflow","roundLengths","touchRatio","touchAngle","simulateTouch","_shortSwipes","_longSwipes","longSwipesRatio","longSwipesMs","_followFinger","allowTouchMove","_threshold","touchMoveStopPropagation","touchStartPreventDefault","touchStartForcePreventDefault","touchReleaseOnEdges","uniqueNavElements","_resistance","_resistanceRatio","_watchSlidesProgress","_grabCursor","preventClicks","preventClicksPropagation","_slideToClickedSlide","_loop","loopAdditionalSlides","loopAddBlankSlides","loopPreventsSliding","_rewind","_allowSlidePrev","_allowSlideNext","_swipeHandler","_noSwiping","noSwipingClass","noSwipingSelector","passiveListeners","containerModifierClass","slideClass","slideActiveClass","slideVisibleClass","slideFullyVisibleClass","slideNextClass","slidePrevClass","slideBlankClass","wrapperClass","lazyPreloaderClass","lazyPreloadPrevNext","runCallbacksOnInit","observer","observeParents","observeSlideChildren","a11y","_autoplay","_controller","coverflowEffect","cubeEffect","fadeEffect","flipEffect","creativeEffect","cardsEffect","hashNavigation","history","keyboard","mousewheel","_navigation","_pagination","parallax","_scrollbar","_thumbs","virtual","zoom","control"];function vs(t){return typeof t=="object"&&t!==null&&t.constructor&&Object.prototype.toString.call(t).slice(8,-1)==="Object"&&!t.__swiper__}function Gs(t,e){const n=["__proto__","constructor","prototype"];Object.keys(e).filter(s=>n.indexOf(s)<0).forEach(s=>{typeof t[s]>"u"?t[s]=e[s]:vs(e[s])&&vs(t[s])&&Object.keys(e[s]).length>0?e[s].__swiper__?t[s]=e[s]:Gs(t[s],e[s]):t[s]=e[s]})}function Rg(t){return t===void 0&&(t={}),t.navigation&&typeof t.navigation.nextEl>"u"&&typeof t.navigation.prevEl>"u"}function xg(t){return t===void 0&&(t={}),t.pagination&&typeof t.pagination.el>"u"}function Ag(t){return t===void 0&&(t={}),t.scrollbar&&typeof t.scrollbar.el>"u"}function kg(t){t===void 0&&(t="");const e=t.split(" ").map(s=>s.trim()).filter(s=>!!s),n=[];return e.forEach(s=>{n.indexOf(s)<0&&n.push(s)}),n.join(" ")}function YR(t){return t===void 0&&(t=""),t?t.includes("swiper-wrapper")?t:`swiper-wrapper ${t}`:"swiper-wrapper"}function XR(t){let{swiper:e,slides:n,passedParams:s,changedParams:i,nextEl:r,prevEl:o,scrollbarEl:a,paginationEl:l}=t;const c=i.filter(C=>C!=="children"&&C!=="direction"&&C!=="wrapperClass"),{params:u,pagination:d,navigation:f,scrollbar:h,virtual:p,thumbs:m}=e;let w,b,g,y,S,I,U,K;i.includes("thumbs")&&s.thumbs&&s.thumbs.swiper&&u.thumbs&&!u.thumbs.swiper&&(w=!0),i.includes("controller")&&s.controller&&s.controller.control&&u.controller&&!u.controller.control&&(b=!0),i.includes("pagination")&&s.pagination&&(s.pagination.el||l)&&(u.pagination||u.pagination===!1)&&d&&!d.el&&(g=!0),i.includes("scrollbar")&&s.scrollbar&&(s.scrollbar.el||a)&&(u.scrollbar||u.scrollbar===!1)&&h&&!h.el&&(y=!0),i.includes("navigation")&&s.navigation&&(s.navigation.prevEl||o)&&(s.navigation.nextEl||r)&&(u.navigation||u.navigation===!1)&&f&&!f.prevEl&&!f.nextEl&&(S=!0);const L=C=>{e[C]&&(e[C].destroy(),C==="navigation"?(e.isElement&&(e[C].prevEl.remove(),e[C].nextEl.remove()),u[C].prevEl=void 0,u[C].nextEl=void 0,e[C].prevEl=void 0,e[C].nextEl=void 0):(e.isElement&&e[C].el.remove(),u[C].el=void 0,e[C].el=void 0))};i.includes("loop")&&e.isElement&&(u.loop&&!s.loop?I=!0:!u.loop&&s.loop?U=!0:K=!0),c.forEach(C=>{if(vs(u[C])&&vs(s[C]))Object.assign(u[C],s[C]),(C==="navigation"||C==="pagination"||C==="scrollbar")&&"enabled"in s[C]&&!s[C].enabled&&L(C);else{const R=s[C];(R===!0||R===!1)&&(C==="navigation"||C==="pagination"||C==="scrollbar")?R===!1&&L(C):u[C]=s[C]}}),c.includes("controller")&&!b&&e.controller&&e.controller.control&&u.controller&&u.controller.control&&(e.controller.control=u.controller.control),i.includes("children")&&n&&p&&u.virtual.enabled?(p.slides=n,p.update(!0)):i.includes("virtual")&&p&&u.virtual.enabled&&(n&&(p.slides=n),p.update(!0)),i.includes("children")&&n&&u.loop&&(K=!0),w&&m.init()&&m.update(!0),b&&(e.controller.control=u.controller.control),g&&(e.isElement&&(!l||typeof l=="string")&&(l=document.createElement("div"),l.classList.add("swiper-pagination"),l.part.add("pagination"),e.el.appendChild(l)),l&&(u.pagination.el=l),d.init(),d.render(),d.update()),y&&(e.isElement&&(!a||typeof a=="string")&&(a=document.createElement("div"),a.classList.add("swiper-scrollbar"),a.part.add("scrollbar"),e.el.appendChild(a)),a&&(u.scrollbar.el=a),h.init(),h.updateSize(),h.setTranslate()),S&&(e.isElement&&((!r||typeof r=="string")&&(r=document.createElement("div"),r.classList.add("swiper-button-next"),r.innerHTML=e.hostEl.constructor.nextButtonSvg,r.part.add("button-next"),e.el.appendChild(r)),(!o||typeof o=="string")&&(o=document.createElement("div"),o.classList.add("swiper-button-prev"),o.innerHTML=e.hostEl.constructor.prevButtonSvg,o.part.add("button-prev"),e.el.appendChild(o))),r&&(u.navigation.nextEl=r),o&&(u.navigation.prevEl=o),f.init(),f.update()),i.includes("allowSlideNext")&&(e.allowSlideNext=s.allowSlideNext),i.includes("allowSlidePrev")&&(e.allowSlidePrev=s.allowSlidePrev),i.includes("direction")&&e.changeDirection(s.direction,!1),(I||K)&&e.loopDestroy(),(U||K)&&e.loopCreate(),e.update()}function Ff(t,e){t===void 0&&(t={}),e===void 0&&(e=!0);const n={on:{}},s={},i={};Gs(n,Ll),n._emitClasses=!0,n.init=!1;const r={},o=Pg.map(l=>l.replace(/_/,"")),a=Object.assign({},t);return Object.keys(a).forEach(l=>{typeof t[l]>"u"||(o.indexOf(l)>=0?vs(t[l])?(n[l]={},i[l]={},Gs(n[l],t[l]),Gs(i[l],t[l])):(n[l]=t[l],i[l]=t[l]):l.search(/on[A-Z]/)===0&&typeof t[l]=="function"?e?s[`${l[2].toLowerCase()}${l.substr(3)}`]=t[l]:n.on[`${l[2].toLowerCase()}${l.substr(3)}`]=t[l]:r[l]=t[l])}),["navigation","pagination","scrollbar"].forEach(l=>{n[l]===!0&&(n[l]={}),n[l]===!1&&delete n[l]}),{params:n,passedParams:i,rest:r,events:s}}function QR(t,e){let{el:n,nextEl:s,prevEl:i,paginationEl:r,scrollbarEl:o,swiper:a}=t;Rg(e)&&s&&i&&(a.params.navigation.nextEl=s,a.originalParams.navigation.nextEl=s,a.params.navigation.prevEl=i,a.originalParams.navigation.prevEl=i),xg(e)&&r&&(a.params.pagination.el=r,a.originalParams.pagination.el=r),Ag(e)&&o&&(a.params.scrollbar.el=o,a.originalParams.scrollbar.el=o),a.init(n)}function JR(t,e,n,s,i){const r=[];if(!e)return r;const o=l=>{r.indexOf(l)<0&&r.push(l)};if(n&&s){const l=s.map(i),c=n.map(i);l.join("")!==c.join("")&&o("children"),s.length!==n.length&&o("children")}return Pg.filter(l=>l[0]==="_").map(l=>l.replace(/_/,"")).forEach(l=>{if(l in t&&l in e)if(vs(t[l])&&vs(e[l])){const c=Object.keys(t[l]),u=Object.keys(e[l]);c.length!==u.length?o(l):(c.forEach(d=>{t[l][d]!==e[l][d]&&o(l)}),u.forEach(d=>{t[l][d]!==e[l][d]&&o(l)}))}else t[l]!==e[l]&&o(l)}),r}const ZR=t=>{!t||t.destroyed||!t.params.virtual||t.params.virtual&&!t.params.virtual.enabled||(t.updateSlides(),t.updateProgress(),t.updateSlidesClasses(),t.parallax&&t.params.parallax&&t.params.parallax.enabled&&t.parallax.setTranslate())};function Ba(t,e,n){t===void 0&&(t={});const s=[],i={"container-start":[],"container-end":[],"wrapper-start":[],"wrapper-end":[]},r=(o,a)=>{Array.isArray(o)&&o.forEach(l=>{const c=typeof l.type=="symbol";a==="default"&&(a="container-end"),c&&l.children?r(l.children,a):l.type&&(l.type.name==="SwiperSlide"||l.type.name==="AsyncComponentWrapper")?s.push(l):i[a]&&i[a].push(l)})};return Object.keys(t).forEach(o=>{if(typeof t[o]!="function")return;const a=t[o]();r(a,o)}),n.value=e.value,e.value=s,{slides:s,slots:i}}function ex(t,e,n){if(!n)return null;const s=u=>{let d=u;return u<0?d=e.length+u:d>=e.length&&(d=d-e.length),d},i=t.value.isHorizontal()?{[t.value.rtlTranslate?"right":"left"]:`${n.offset}px`}:{top:`${n.offset}px`},{from:r,to:o}=n,a=t.value.params.loop?-e.length:0,l=t.value.params.loop?e.length*2:e.length,c=[];for(let u=a;u<l;u+=1)u>=r&&u<=o&&c.push(e[s(u)]);return c.map(u=>(u.props||(u.props={}),u.props.style||(u.props.style={}),u.props.swiperRef=t,u.props.style=i,mt(u.type,{...u.props},u.children)))}const Ls={name:"Swiper",props:{tag:{type:String,default:"div"},wrapperTag:{type:String,default:"div"},modules:{type:Array,default:void 0},init:{type:Boolean,default:void 0},direction:{type:String,default:void 0},oneWayMovement:{type:Boolean,default:void 0},touchEventsTarget:{type:String,default:void 0},initialSlide:{type:Number,default:void 0},speed:{type:Number,default:void 0},cssMode:{type:Boolean,default:void 0},updateOnWindowResize:{type:Boolean,default:void 0},resizeObserver:{type:Boolean,default:void 0},nested:{type:Boolean,default:void 0},focusableElements:{type:String,default:void 0},width:{type:Number,default:void 0},height:{type:Number,default:void 0},preventInteractionOnTransition:{type:Boolean,default:void 0},userAgent:{type:String,default:void 0},url:{type:String,default:void 0},edgeSwipeDetection:{type:[Boolean,String],default:void 0},edgeSwipeThreshold:{type:Number,default:void 0},autoHeight:{type:Boolean,default:void 0},setWrapperSize:{type:Boolean,default:void 0},virtualTranslate:{type:Boolean,default:void 0},effect:{type:String,default:void 0},breakpoints:{type:Object,default:void 0},spaceBetween:{type:[Number,String],default:void 0},slidesPerView:{type:[Number,String],default:void 0},maxBackfaceHiddenSlides:{type:Number,default:void 0},slidesPerGroup:{type:Number,default:void 0},slidesPerGroupSkip:{type:Number,default:void 0},slidesPerGroupAuto:{type:Boolean,default:void 0},centeredSlides:{type:Boolean,default:void 0},centeredSlidesBounds:{type:Boolean,default:void 0},slidesOffsetBefore:{type:Number,default:void 0},slidesOffsetAfter:{type:Number,default:void 0},normalizeSlideIndex:{type:Boolean,default:void 0},centerInsufficientSlides:{type:Boolean,default:void 0},watchOverflow:{type:Boolean,default:void 0},roundLengths:{type:Boolean,default:void 0},touchRatio:{type:Number,default:void 0},touchAngle:{type:Number,default:void 0},simulateTouch:{type:Boolean,default:void 0},shortSwipes:{type:Boolean,default:void 0},longSwipes:{type:Boolean,default:void 0},longSwipesRatio:{type:Number,default:void 0},longSwipesMs:{type:Number,default:void 0},followFinger:{type:Boolean,default:void 0},allowTouchMove:{type:Boolean,default:void 0},threshold:{type:Number,default:void 0},touchMoveStopPropagation:{type:Boolean,default:void 0},touchStartPreventDefault:{type:Boolean,default:void 0},touchStartForcePreventDefault:{type:Boolean,default:void 0},touchReleaseOnEdges:{type:Boolean,default:void 0},uniqueNavElements:{type:Boolean,default:void 0},resistance:{type:Boolean,default:void 0},resistanceRatio:{type:Number,default:void 0},watchSlidesProgress:{type:Boolean,default:void 0},grabCursor:{type:Boolean,default:void 0},preventClicks:{type:Boolean,default:void 0},preventClicksPropagation:{type:Boolean,default:void 0},slideToClickedSlide:{type:Boolean,default:void 0},loop:{type:Boolean,default:void 0},loopedSlides:{type:Number,default:void 0},loopPreventsSliding:{type:Boolean,default:void 0},rewind:{type:Boolean,default:void 0},allowSlidePrev:{type:Boolean,default:void 0},allowSlideNext:{type:Boolean,default:void 0},swipeHandler:{type:Boolean,default:void 0},noSwiping:{type:Boolean,default:void 0},noSwipingClass:{type:String,default:void 0},noSwipingSelector:{type:String,default:void 0},passiveListeners:{type:Boolean,default:void 0},containerModifierClass:{type:String,default:void 0},slideClass:{type:String,default:void 0},slideActiveClass:{type:String,default:void 0},slideVisibleClass:{type:String,default:void 0},slideFullyVisibleClass:{type:String,default:void 0},slideBlankClass:{type:String,default:void 0},slideNextClass:{type:String,default:void 0},slidePrevClass:{type:String,default:void 0},wrapperClass:{type:String,default:void 0},lazyPreloaderClass:{type:String,default:void 0},lazyPreloadPrevNext:{type:Number,default:void 0},runCallbacksOnInit:{type:Boolean,default:void 0},observer:{type:Boolean,default:void 0},observeParents:{type:Boolean,default:void 0},observeSlideChildren:{type:Boolean,default:void 0},a11y:{type:[Boolean,Object],default:void 0},autoplay:{type:[Boolean,Object],default:void 0},controller:{type:Object,default:void 0},coverflowEffect:{type:Object,default:void 0},cubeEffect:{type:Object,default:void 0},fadeEffect:{type:Object,default:void 0},flipEffect:{type:Object,default:void 0},creativeEffect:{type:Object,default:void 0},cardsEffect:{type:Object,default:void 0},hashNavigation:{type:[Boolean,Object],default:void 0},history:{type:[Boolean,Object],default:void 0},keyboard:{type:[Boolean,Object],default:void 0},mousewheel:{type:[Boolean,Object],default:void 0},navigation:{type:[Boolean,Object],default:void 0},pagination:{type:[Boolean,Object],default:void 0},parallax:{type:[Boolean,Object],default:void 0},scrollbar:{type:[Boolean,Object],default:void 0},thumbs:{type:Object,default:void 0},virtual:{type:[Boolean,Object],default:void 0},zoom:{type:[Boolean,Object],default:void 0},grid:{type:[Object],default:void 0},freeMode:{type:[Boolean,Object],default:void 0},enabled:{type:Boolean,default:void 0}},emits:["_beforeBreakpoint","_containerClasses","_slideClass","_slideClasses","_swiper","_freeModeNoMomentumRelease","activeIndexChange","afterInit","autoplay","autoplayStart","autoplayStop","autoplayPause","autoplayResume","autoplayTimeLeft","beforeDestroy","beforeInit","beforeLoopFix","beforeResize","beforeSlideChangeStart","beforeTransitionStart","breakpoint","breakpointsBase","changeDirection","click","disable","doubleTap","doubleClick","destroy","enable","fromEdge","hashChange","hashSet","init","keyPress","lock","loopFix","momentumBounce","navigationHide","navigationShow","navigationPrev","navigationNext","observerUpdate","orientationchange","paginationHide","paginationRender","paginationShow","paginationUpdate","progress","reachBeginning","reachEnd","realIndexChange","resize","scroll","scrollbarDragEnd","scrollbarDragMove","scrollbarDragStart","setTransition","setTranslate","slidesUpdated","slideChange","slideChangeTransitionEnd","slideChangeTransitionStart","slideNextTransitionEnd","slideNextTransitionStart","slidePrevTransitionEnd","slidePrevTransitionStart","slideResetTransitionStart","slideResetTransitionEnd","sliderMove","sliderFirstMove","slidesLengthChange","slidesGridLengthChange","snapGridLengthChange","snapIndexChange","swiper","tap","toEdge","touchEnd","touchMove","touchMoveOpposite","touchStart","transitionEnd","transitionStart","unlock","update","virtualUpdate","zoomChange"],setup(t,e){let{slots:n,emit:s}=e;const{tag:i,wrapperTag:r}=t,o=ae("swiper"),a=ae(null),l=ae(!1),c=ae(!1),u=ae(null),d=ae(null),f=ae(null),h={value:[]},p={value:[]},m=ae(null),w=ae(null),b=ae(null),g=ae(null),{params:y,passedParams:S}=Ff(t,!1);Ba(n,h,p),f.value=S,p.value=h.value;const I=()=>{Ba(n,h,p),l.value=!0};y.onAny=function(L){for(var C=arguments.length,R=new Array(C>1?C-1:0),F=1;F<C;F++)R[F-1]=arguments[F];s(L,...R)},Object.assign(y.on,{_beforeBreakpoint:I,_containerClasses(L,C){o.value=C}});const U={...y};if(delete U.wrapperClass,d.value=new lu(U),d.value.virtual&&d.value.params.virtual.enabled){d.value.virtual.slides=h.value;const L={cache:!1,slides:h.value,renderExternal:C=>{a.value=C},renderExternalUpdate:!1};Gs(d.value.params.virtual,L),Gs(d.value.originalParams.virtual,L)}Ql(()=>{!c.value&&d.value&&(d.value.emitSlidesClasses(),c.value=!0);const{passedParams:L}=Ff(t,!1),C=JR(L,f.value,h.value,p.value,R=>R.props&&R.props.key);f.value=L,(C.length||l.value)&&d.value&&!d.value.destroyed&&XR({swiper:d.value,slides:h.value,passedParams:L,changedParams:C,nextEl:m.value,prevEl:w.value,scrollbarEl:g.value,paginationEl:b.value}),l.value=!1}),Us("swiper",d),$s(a,()=>{Po(()=>{ZR(d.value)})}),Xl(()=>{u.value&&(QR({el:u.value,nextEl:m.value,prevEl:w.value,paginationEl:b.value,scrollbarEl:g.value,swiper:d.value},y),s("swiper",d.value))}),Jl(()=>{d.value&&!d.value.destroyed&&d.value.destroy(!0,!1)});function K(L){return y.virtual?ex(d,L,a.value):(L.forEach((C,R)=>{C.props||(C.props={}),C.props.swiperRef=d,C.props.swiperSlideIndex=R}),L)}return()=>{const{slides:L,slots:C}=Ba(n,h,p);return mt(i,{ref:u,class:kg(o.value)},[C["container-start"],mt(r,{class:YR(y.wrapperClass)},[C["wrapper-start"],K(L),C["wrapper-end"]]),Rg(t)&&[mt("div",{ref:w,class:"swiper-button-prev"}),mt("div",{ref:m,class:"swiper-button-next"})],Ag(t)&&mt("div",{ref:g,class:"swiper-scrollbar"}),xg(t)&&mt("div",{ref:b,class:"swiper-pagination"}),C["container-end"]])}}},Tn={name:"SwiperSlide",props:{tag:{type:String,default:"div"},swiperRef:{type:Object,required:!1},swiperSlideIndex:{type:Number,default:void 0,required:!1},zoom:{type:Boolean,default:void 0,required:!1},lazy:{type:Boolean,default:!1,required:!1},virtualIndex:{type:[String,Number],default:void 0}},setup(t,e){let{slots:n}=e,s=!1;const{swiperRef:i}=t,r=ae(null),o=ae("swiper-slide"),a=ae(!1);function l(d,f,h){f===r.value&&(o.value=h)}Xl(()=>{!i||!i.value||(i.value.on("_slideClass",l),s=!0)}),Ph(()=>{s||!i||!i.value||(i.value.on("_slideClass",l),s=!0)}),Ql(()=>{!r.value||!i||!i.value||(typeof t.swiperSlideIndex<"u"&&(r.value.swiperSlideIndex=t.swiperSlideIndex),i.value.destroyed&&o.value!=="swiper-slide"&&(o.value="swiper-slide"))}),Jl(()=>{!i||!i.value||i.value.off("_slideClass",l)});const c=st(()=>({isActive:o.value.indexOf("swiper-slide-active")>=0,isVisible:o.value.indexOf("swiper-slide-visible")>=0,isPrev:o.value.indexOf("swiper-slide-prev")>=0,isNext:o.value.indexOf("swiper-slide-next")>=0}));Us("swiperSlide",c);const u=()=>{a.value=!0};return()=>mt(t.tag,{class:kg(`${o.value}`),ref:r,"data-swiper-slide-index":typeof t.virtualIndex>"u"&&i&&i.value&&i.value.params.loop?t.swiperSlideIndex:t.virtualIndex,onLoadCapture:u},t.zoom?mt("div",{class:"swiper-zoom-container","data-swiper-zoom":typeof t.zoom=="number"?t.zoom:void 0},[n.default&&n.default(c.value),t.lazy&&!a.value&&mt("div",{class:"swiper-lazy-preloader"})]):[n.default&&n.default(c.value),t.lazy&&!a.value&&mt("div",{class:"swiper-lazy-preloader"})])}};function cu(t){let{swiper:e,extendParams:n,on:s,emit:i}=t;n({virtual:{enabled:!1,slides:[],cache:!0,renderSlide:null,renderExternal:null,renderExternalUpdate:!0,addSlidesBefore:0,addSlidesAfter:0}});let r;const o=It();e.virtual={cache:{},from:void 0,to:void 0,slides:[],offset:0,slidesGrid:[]};const a=o.createElement("div");function l(p,m){const w=e.params.virtual;if(w.cache&&e.virtual.cache[m])return e.virtual.cache[m];let b;return w.renderSlide?(b=w.renderSlide.call(e,p,m),typeof b=="string"&&(a.innerHTML=b,b=a.children[0])):e.isElement?b=_s("swiper-slide"):b=_s("div",e.params.slideClass),b.setAttribute("data-swiper-slide-index",m),w.renderSlide||(b.innerHTML=p),w.cache&&(e.virtual.cache[m]=b),b}function c(p){const{slidesPerView:m,slidesPerGroup:w,centeredSlides:b,loop:g}=e.params,{addSlidesBefore:y,addSlidesAfter:S}=e.params.virtual,{from:I,to:U,slides:K,slidesGrid:L,offset:C}=e.virtual;e.params.cssMode||e.updateActiveIndex();const R=e.activeIndex||0;let F;e.rtlTranslate?F="right":F=e.isHorizontal()?"left":"top";let O,x;b?(O=Math.floor(m/2)+w+S,x=Math.floor(m/2)+w+y):(O=m+(w-1)+S,x=(g?m:w)+y);let D=R-x,$=R+O;g||(D=Math.max(D,0),$=Math.min($,K.length-1));let V=(e.slidesGrid[D]||0)-(e.slidesGrid[0]||0);g&&R>=x?(D-=x,b||(V+=e.slidesGrid[0])):g&&R<x&&(D=-x,b&&(V+=e.slidesGrid[0])),Object.assign(e.virtual,{from:D,to:$,offset:V,slidesGrid:e.slidesGrid,slidesBefore:x,slidesAfter:O});function ie(){e.updateSlides(),e.updateProgress(),e.updateSlidesClasses(),i("virtualUpdate")}if(I===D&&U===$&&!p){e.slidesGrid!==L&&V!==C&&e.slides.forEach(oe=>{oe.style[F]=`${V-Math.abs(e.cssOverflowAdjustment())}px`}),e.updateProgress(),i("virtualUpdate");return}if(e.params.virtual.renderExternal){e.params.virtual.renderExternal.call(e,{offset:V,from:D,to:$,slides:function(){const Ie=[];for(let bt=D;bt<=$;bt+=1)Ie.push(K[bt]);return Ie}()}),e.params.virtual.renderExternalUpdate?ie():i("virtualUpdate");return}const j=[],re=[],Ce=oe=>{let Ie=oe;return oe<0?Ie=K.length+oe:Ie>=K.length&&(Ie=Ie-K.length),Ie};if(p)e.slides.filter(oe=>oe.matches(`.${e.params.slideClass}, swiper-slide`)).forEach(oe=>{oe.remove()});else for(let oe=I;oe<=U;oe+=1)if(oe<D||oe>$){const Ie=Ce(oe);e.slides.filter(bt=>bt.matches(`.${e.params.slideClass}[data-swiper-slide-index="${Ie}"], swiper-slide[data-swiper-slide-index="${Ie}"]`)).forEach(bt=>{bt.remove()})}const $e=g?-K.length:0,De=g?K.length*2:K.length;for(let oe=$e;oe<De;oe+=1)if(oe>=D&&oe<=$){const Ie=Ce(oe);typeof U>"u"||p?re.push(Ie):(oe>U&&re.push(Ie),oe<I&&j.push(Ie))}if(re.forEach(oe=>{e.slidesEl.append(l(K[oe],oe))}),g)for(let oe=j.length-1;oe>=0;oe-=1){const Ie=j[oe];e.slidesEl.prepend(l(K[Ie],Ie))}else j.sort((oe,Ie)=>Ie-oe),j.forEach(oe=>{e.slidesEl.prepend(l(K[oe],oe))});Lt(e.slidesEl,".swiper-slide, swiper-slide").forEach(oe=>{oe.style[F]=`${V-Math.abs(e.cssOverflowAdjustment())}px`}),ie()}function u(p){if(typeof p=="object"&&"length"in p)for(let m=0;m<p.length;m+=1)p[m]&&e.virtual.slides.push(p[m]);else e.virtual.slides.push(p);c(!0)}function d(p){const m=e.activeIndex;let w=m+1,b=1;if(Array.isArray(p)){for(let g=0;g<p.length;g+=1)p[g]&&e.virtual.slides.unshift(p[g]);w=m+p.length,b=p.length}else e.virtual.slides.unshift(p);if(e.params.virtual.cache){const g=e.virtual.cache,y={};Object.keys(g).forEach(S=>{const I=g[S],U=I.getAttribute("data-swiper-slide-index");U&&I.setAttribute("data-swiper-slide-index",parseInt(U,10)+b),y[parseInt(S,10)+b]=I}),e.virtual.cache=y}c(!0),e.slideTo(w,0)}function f(p){if(typeof p>"u"||p===null)return;let m=e.activeIndex;if(Array.isArray(p))for(let w=p.length-1;w>=0;w-=1)e.params.virtual.cache&&(delete e.virtual.cache[p[w]],Object.keys(e.virtual.cache).forEach(b=>{b>p&&(e.virtual.cache[b-1]=e.virtual.cache[b],e.virtual.cache[b-1].setAttribute("data-swiper-slide-index",b-1),delete e.virtual.cache[b])})),e.virtual.slides.splice(p[w],1),p[w]<m&&(m-=1),m=Math.max(m,0);else e.params.virtual.cache&&(delete e.virtual.cache[p],Object.keys(e.virtual.cache).forEach(w=>{w>p&&(e.virtual.cache[w-1]=e.virtual.cache[w],e.virtual.cache[w-1].setAttribute("data-swiper-slide-index",w-1),delete e.virtual.cache[w])})),e.virtual.slides.splice(p,1),p<m&&(m-=1),m=Math.max(m,0);c(!0),e.slideTo(m,0)}function h(){e.virtual.slides=[],e.params.virtual.cache&&(e.virtual.cache={}),c(!0),e.slideTo(0,0)}s("beforeInit",()=>{if(!e.params.virtual.enabled)return;let p;if(typeof e.passedParams.virtual.slides>"u"){const m=[...e.slidesEl.children].filter(w=>w.matches(`.${e.params.slideClass}, swiper-slide`));m&&m.length&&(e.virtual.slides=[...m],p=!0,m.forEach((w,b)=>{w.setAttribute("data-swiper-slide-index",b),e.virtual.cache[b]=w,w.remove()}))}p||(e.virtual.slides=e.params.virtual.slides),e.classNames.push(`${e.params.containerModifierClass}virtual`),e.params.watchSlidesProgress=!0,e.originalParams.watchSlidesProgress=!0,c()}),s("setTranslate",()=>{e.params.virtual.enabled&&(e.params.cssMode&&!e._immediateVirtual?(clearTimeout(r),r=setTimeout(()=>{c()},100)):c())}),s("init update resize",()=>{e.params.virtual.enabled&&e.params.cssMode&&xi(e.wrapperEl,"--swiper-virtual-size",`${e.virtualSize}px`)}),Object.assign(e.virtual,{appendSlide:u,prependSlide:d,removeSlide:f,removeAllSlides:h,update:c})}function uu(t,e,n,s){return t.params.createElements&&Object.keys(s).forEach(i=>{if(!n[i]&&n.auto===!0){let r=Lt(t.el,`.${s[i]}`)[0];r||(r=_s("div",s[i]),r.className=s[i],t.el.append(r)),n[i]=r,e[i]=r}}),n}function du(t){let{swiper:e,extendParams:n,on:s,emit:i}=t;n({navigation:{nextEl:null,prevEl:null,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock",navigationDisabledClass:"swiper-navigation-disabled"}}),e.navigation={nextEl:null,prevEl:null};const r=m=>(Array.isArray(m)?m:[m]).filter(w=>!!w);function o(m){let w;return m&&typeof m=="string"&&e.isElement&&(w=e.el.querySelector(m),w)?w:(m&&(typeof m=="string"&&(w=[...document.querySelectorAll(m)]),e.params.uniqueNavElements&&typeof m=="string"&&w.length>1&&e.el.querySelectorAll(m).length===1&&(w=e.el.querySelector(m))),m&&!w?m:w)}function a(m,w){const b=e.params.navigation;m=r(m),m.forEach(g=>{g&&(g.classList[w?"add":"remove"](...b.disabledClass.split(" ")),g.tagName==="BUTTON"&&(g.disabled=w),e.params.watchOverflow&&e.enabled&&g.classList[e.isLocked?"add":"remove"](b.lockClass))})}function l(){const{nextEl:m,prevEl:w}=e.navigation;if(e.params.loop){a(w,!1),a(m,!1);return}a(w,e.isBeginning&&!e.params.rewind),a(m,e.isEnd&&!e.params.rewind)}function c(m){m.preventDefault(),!(e.isBeginning&&!e.params.loop&&!e.params.rewind)&&(e.slidePrev(),i("navigationPrev"))}function u(m){m.preventDefault(),!(e.isEnd&&!e.params.loop&&!e.params.rewind)&&(e.slideNext(),i("navigationNext"))}function d(){const m=e.params.navigation;if(e.params.navigation=uu(e,e.originalParams.navigation,e.params.navigation,{nextEl:"swiper-button-next",prevEl:"swiper-button-prev"}),!(m.nextEl||m.prevEl))return;let w=o(m.nextEl),b=o(m.prevEl);Object.assign(e.navigation,{nextEl:w,prevEl:b}),w=r(w),b=r(b);const g=(y,S)=>{y&&y.addEventListener("click",S==="next"?u:c),!e.enabled&&y&&y.classList.add(...m.lockClass.split(" "))};w.forEach(y=>g(y,"next")),b.forEach(y=>g(y,"prev"))}function f(){let{nextEl:m,prevEl:w}=e.navigation;m=r(m),w=r(w);const b=(g,y)=>{g.removeEventListener("click",y==="next"?u:c),g.classList.remove(...e.params.navigation.disabledClass.split(" "))};m.forEach(g=>b(g,"next")),w.forEach(g=>b(g,"prev"))}s("init",()=>{e.params.navigation.enabled===!1?p():(d(),l())}),s("toEdge fromEdge lock unlock",()=>{l()}),s("destroy",()=>{f()}),s("enable disable",()=>{let{nextEl:m,prevEl:w}=e.navigation;if(m=r(m),w=r(w),e.enabled){l();return}[...m,...w].filter(b=>!!b).forEach(b=>b.classList.add(e.params.navigation.lockClass))}),s("click",(m,w)=>{let{nextEl:b,prevEl:g}=e.navigation;b=r(b),g=r(g);const y=w.target;if(e.params.navigation.hideOnClick&&!g.includes(y)&&!b.includes(y)){if(e.pagination&&e.params.pagination&&e.params.pagination.clickable&&(e.pagination.el===y||e.pagination.el.contains(y)))return;let S;b.length?S=b[0].classList.contains(e.params.navigation.hiddenClass):g.length&&(S=g[0].classList.contains(e.params.navigation.hiddenClass)),i(S===!0?"navigationShow":"navigationHide"),[...b,...g].filter(I=>!!I).forEach(I=>I.classList.toggle(e.params.navigation.hiddenClass))}});const h=()=>{e.el.classList.remove(...e.params.navigation.navigationDisabledClass.split(" ")),d(),l()},p=()=>{e.el.classList.add(...e.params.navigation.navigationDisabledClass.split(" ")),f()};Object.assign(e.navigation,{enable:h,disable:p,update:l,init:d,destroy:f})}function ks(t){return t===void 0&&(t=""),`.${t.trim().replace(/([\.:!+\/])/g,"\\$1").replace(/ /g,".")}`}function fu(t){let{swiper:e,extendParams:n,on:s,emit:i}=t;const r="swiper-pagination";n({pagination:{el:null,bulletElement:"span",clickable:!1,hideOnClick:!1,renderBullet:null,renderProgressbar:null,renderFraction:null,renderCustom:null,progressbarOpposite:!1,type:"bullets",dynamicBullets:!1,dynamicMainBullets:1,formatFractionCurrent:g=>g,formatFractionTotal:g=>g,bulletClass:`${r}-bullet`,bulletActiveClass:`${r}-bullet-active`,modifierClass:`${r}-`,currentClass:`${r}-current`,totalClass:`${r}-total`,hiddenClass:`${r}-hidden`,progressbarFillClass:`${r}-progressbar-fill`,progressbarOppositeClass:`${r}-progressbar-opposite`,clickableClass:`${r}-clickable`,lockClass:`${r}-lock`,horizontalClass:`${r}-horizontal`,verticalClass:`${r}-vertical`,paginationDisabledClass:`${r}-disabled`}}),e.pagination={el:null,bullets:[]};let o,a=0;const l=g=>(Array.isArray(g)?g:[g]).filter(y=>!!y);function c(){return!e.params.pagination.el||!e.pagination.el||Array.isArray(e.pagination.el)&&e.pagination.el.length===0}function u(g,y){const{bulletActiveClass:S}=e.params.pagination;g&&(g=g[`${y==="prev"?"previous":"next"}ElementSibling`],g&&(g.classList.add(`${S}-${y}`),g=g[`${y==="prev"?"previous":"next"}ElementSibling`],g&&g.classList.add(`${S}-${y}-${y}`)))}function d(g){const y=g.target.closest(ks(e.params.pagination.bulletClass));if(!y)return;g.preventDefault();const S=vo(y)*e.params.slidesPerGroup;if(e.params.loop){if(e.realIndex===S)return;e.slideToLoop(S)}else e.slideTo(S)}function f(){const g=e.rtl,y=e.params.pagination;if(c())return;let S=e.pagination.el;S=l(S);let I,U;const K=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.slides.length,L=e.params.loop?Math.ceil(K/e.params.slidesPerGroup):e.snapGrid.length;if(e.params.loop?(U=e.previousRealIndex||0,I=e.params.slidesPerGroup>1?Math.floor(e.realIndex/e.params.slidesPerGroup):e.realIndex):typeof e.snapIndex<"u"?(I=e.snapIndex,U=e.previousSnapIndex):(U=e.previousIndex||0,I=e.activeIndex||0),y.type==="bullets"&&e.pagination.bullets&&e.pagination.bullets.length>0){const C=e.pagination.bullets;let R,F,O;if(y.dynamicBullets&&(o=Ol(C[0],e.isHorizontal()?"width":"height",!0),S.forEach(x=>{x.style[e.isHorizontal()?"width":"height"]=`${o*(y.dynamicMainBullets+4)}px`}),y.dynamicMainBullets>1&&U!==void 0&&(a+=I-(U||0),a>y.dynamicMainBullets-1?a=y.dynamicMainBullets-1:a<0&&(a=0)),R=Math.max(I-a,0),F=R+(Math.min(C.length,y.dynamicMainBullets)-1),O=(F+R)/2),C.forEach(x=>{const D=[...["","-next","-next-next","-prev","-prev-prev","-main"].map($=>`${y.bulletActiveClass}${$}`)].map($=>typeof $=="string"&&$.includes(" ")?$.split(" "):$).flat();x.classList.remove(...D)}),S.length>1)C.forEach(x=>{const D=vo(x);D===I?x.classList.add(...y.bulletActiveClass.split(" ")):e.isElement&&x.setAttribute("part","bullet"),y.dynamicBullets&&(D>=R&&D<=F&&x.classList.add(...`${y.bulletActiveClass}-main`.split(" ")),D===R&&u(x,"prev"),D===F&&u(x,"next"))});else{const x=C[I];if(x&&x.classList.add(...y.bulletActiveClass.split(" ")),e.isElement&&C.forEach((D,$)=>{D.setAttribute("part",$===I?"bullet-active":"bullet")}),y.dynamicBullets){const D=C[R],$=C[F];for(let V=R;V<=F;V+=1)C[V]&&C[V].classList.add(...`${y.bulletActiveClass}-main`.split(" "));u(D,"prev"),u($,"next")}}if(y.dynamicBullets){const x=Math.min(C.length,y.dynamicMainBullets+4),D=(o*x-o)/2-O*o,$=g?"right":"left";C.forEach(V=>{V.style[e.isHorizontal()?$:"top"]=`${D}px`})}}S.forEach((C,R)=>{if(y.type==="fraction"&&(C.querySelectorAll(ks(y.currentClass)).forEach(F=>{F.textContent=y.formatFractionCurrent(I+1)}),C.querySelectorAll(ks(y.totalClass)).forEach(F=>{F.textContent=y.formatFractionTotal(L)})),y.type==="progressbar"){let F;y.progressbarOpposite?F=e.isHorizontal()?"vertical":"horizontal":F=e.isHorizontal()?"horizontal":"vertical";const O=(I+1)/L;let x=1,D=1;F==="horizontal"?x=O:D=O,C.querySelectorAll(ks(y.progressbarFillClass)).forEach($=>{$.style.transform=`translate3d(0,0,0) scaleX(${x}) scaleY(${D})`,$.style.transitionDuration=`${e.params.speed}ms`})}y.type==="custom"&&y.renderCustom?(C.innerHTML=y.renderCustom(e,I+1,L),R===0&&i("paginationRender",C)):(R===0&&i("paginationRender",C),i("paginationUpdate",C)),e.params.watchOverflow&&e.enabled&&C.classList[e.isLocked?"add":"remove"](y.lockClass)})}function h(){const g=e.params.pagination;if(c())return;const y=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.grid&&e.params.grid.rows>1?e.slides.length/Math.ceil(e.params.grid.rows):e.slides.length;let S=e.pagination.el;S=l(S);let I="";if(g.type==="bullets"){let U=e.params.loop?Math.ceil(y/e.params.slidesPerGroup):e.snapGrid.length;e.params.freeMode&&e.params.freeMode.enabled&&U>y&&(U=y);for(let K=0;K<U;K+=1)g.renderBullet?I+=g.renderBullet.call(e,K,g.bulletClass):I+=`<${g.bulletElement} ${e.isElement?'part="bullet"':""} class="${g.bulletClass}"></${g.bulletElement}>`}g.type==="fraction"&&(g.renderFraction?I=g.renderFraction.call(e,g.currentClass,g.totalClass):I=`<span class="${g.currentClass}"></span> / <span class="${g.totalClass}"></span>`),g.type==="progressbar"&&(g.renderProgressbar?I=g.renderProgressbar.call(e,g.progressbarFillClass):I=`<span class="${g.progressbarFillClass}"></span>`),e.pagination.bullets=[],S.forEach(U=>{g.type!=="custom"&&(U.innerHTML=I||""),g.type==="bullets"&&e.pagination.bullets.push(...U.querySelectorAll(ks(g.bulletClass)))}),g.type!=="custom"&&i("paginationRender",S[0])}function p(){e.params.pagination=uu(e,e.originalParams.pagination,e.params.pagination,{el:"swiper-pagination"});const g=e.params.pagination;if(!g.el)return;let y;typeof g.el=="string"&&e.isElement&&(y=e.el.querySelector(g.el)),!y&&typeof g.el=="string"&&(y=[...document.querySelectorAll(g.el)]),y||(y=g.el),!(!y||y.length===0)&&(e.params.uniqueNavElements&&typeof g.el=="string"&&Array.isArray(y)&&y.length>1&&(y=[...e.el.querySelectorAll(g.el)],y.length>1&&(y=y.filter(S=>Sg(S,".swiper")[0]===e.el)[0])),Array.isArray(y)&&y.length===1&&(y=y[0]),Object.assign(e.pagination,{el:y}),y=l(y),y.forEach(S=>{g.type==="bullets"&&g.clickable&&S.classList.add(...(g.clickableClass||"").split(" ")),S.classList.add(g.modifierClass+g.type),S.classList.add(e.isHorizontal()?g.horizontalClass:g.verticalClass),g.type==="bullets"&&g.dynamicBullets&&(S.classList.add(`${g.modifierClass}${g.type}-dynamic`),a=0,g.dynamicMainBullets<1&&(g.dynamicMainBullets=1)),g.type==="progressbar"&&g.progressbarOpposite&&S.classList.add(g.progressbarOppositeClass),g.clickable&&S.addEventListener("click",d),e.enabled||S.classList.add(g.lockClass)}))}function m(){const g=e.params.pagination;if(c())return;let y=e.pagination.el;y&&(y=l(y),y.forEach(S=>{S.classList.remove(g.hiddenClass),S.classList.remove(g.modifierClass+g.type),S.classList.remove(e.isHorizontal()?g.horizontalClass:g.verticalClass),g.clickable&&(S.classList.remove(...(g.clickableClass||"").split(" ")),S.removeEventListener("click",d))})),e.pagination.bullets&&e.pagination.bullets.forEach(S=>S.classList.remove(...g.bulletActiveClass.split(" ")))}s("changeDirection",()=>{if(!e.pagination||!e.pagination.el)return;const g=e.params.pagination;let{el:y}=e.pagination;y=l(y),y.forEach(S=>{S.classList.remove(g.horizontalClass,g.verticalClass),S.classList.add(e.isHorizontal()?g.horizontalClass:g.verticalClass)})}),s("init",()=>{e.params.pagination.enabled===!1?b():(p(),h(),f())}),s("activeIndexChange",()=>{typeof e.snapIndex>"u"&&f()}),s("snapIndexChange",()=>{f()}),s("snapGridLengthChange",()=>{h(),f()}),s("destroy",()=>{m()}),s("enable disable",()=>{let{el:g}=e.pagination;g&&(g=l(g),g.forEach(y=>y.classList[e.enabled?"remove":"add"](e.params.pagination.lockClass)))}),s("lock unlock",()=>{f()}),s("click",(g,y)=>{const S=y.target,I=l(e.pagination.el);if(e.params.pagination.el&&e.params.pagination.hideOnClick&&I&&I.length>0&&!S.classList.contains(e.params.pagination.bulletClass)){if(e.navigation&&(e.navigation.nextEl&&S===e.navigation.nextEl||e.navigation.prevEl&&S===e.navigation.prevEl))return;const U=I[0].classList.contains(e.params.pagination.hiddenClass);i(U===!0?"paginationShow":"paginationHide"),I.forEach(K=>K.classList.toggle(e.params.pagination.hiddenClass))}});const w=()=>{e.el.classList.remove(e.params.pagination.paginationDisabledClass);let{el:g}=e.pagination;g&&(g=l(g),g.forEach(y=>y.classList.remove(e.params.pagination.paginationDisabledClass))),p(),h(),f()},b=()=>{e.el.classList.add(e.params.pagination.paginationDisabledClass);let{el:g}=e.pagination;g&&(g=l(g),g.forEach(y=>y.classList.add(e.params.pagination.paginationDisabledClass))),m()};Object.assign(e.pagination,{enable:w,disable:b,render:h,update:f,init:p,destroy:m})}function hu(t){let{swiper:e,extendParams:n,on:s,emit:i}=t;const r=It();let o=!1,a=null,l=null,c,u,d,f;n({scrollbar:{el:null,dragSize:"auto",hide:!1,draggable:!1,snapOnRelease:!0,lockClass:"swiper-scrollbar-lock",dragClass:"swiper-scrollbar-drag",scrollbarDisabledClass:"swiper-scrollbar-disabled",horizontalClass:"swiper-scrollbar-horizontal",verticalClass:"swiper-scrollbar-vertical"}}),e.scrollbar={el:null,dragEl:null};function h(){if(!e.params.scrollbar.el||!e.scrollbar.el)return;const{scrollbar:O,rtlTranslate:x}=e,{dragEl:D,el:$}=O,V=e.params.scrollbar,ie=e.params.loop?e.progressLoop:e.progress;let j=u,re=(d-u)*ie;x?(re=-re,re>0?(j=u-re,re=0):-re+u>d&&(j=d+re)):re<0?(j=u+re,re=0):re+u>d&&(j=d-re),e.isHorizontal()?(D.style.transform=`translate3d(${re}px, 0, 0)`,D.style.width=`${j}px`):(D.style.transform=`translate3d(0px, ${re}px, 0)`,D.style.height=`${j}px`),V.hide&&(clearTimeout(a),$.style.opacity=1,a=setTimeout(()=>{$.style.opacity=0,$.style.transitionDuration="400ms"},1e3))}function p(O){!e.params.scrollbar.el||!e.scrollbar.el||(e.scrollbar.dragEl.style.transitionDuration=`${O}ms`)}function m(){if(!e.params.scrollbar.el||!e.scrollbar.el)return;const{scrollbar:O}=e,{dragEl:x,el:D}=O;x.style.width="",x.style.height="",d=e.isHorizontal()?D.offsetWidth:D.offsetHeight,f=e.size/(e.virtualSize+e.params.slidesOffsetBefore-(e.params.centeredSlides?e.snapGrid[0]:0)),e.params.scrollbar.dragSize==="auto"?u=d*f:u=parseInt(e.params.scrollbar.dragSize,10),e.isHorizontal()?x.style.width=`${u}px`:x.style.height=`${u}px`,f>=1?D.style.display="none":D.style.display="",e.params.scrollbar.hide&&(D.style.opacity=0),e.params.watchOverflow&&e.enabled&&O.el.classList[e.isLocked?"add":"remove"](e.params.scrollbar.lockClass)}function w(O){return e.isHorizontal()?O.clientX:O.clientY}function b(O){const{scrollbar:x,rtlTranslate:D}=e,{el:$}=x;let V;V=(w(O)-LP($)[e.isHorizontal()?"left":"top"]-(c!==null?c:u/2))/(d-u),V=Math.max(Math.min(V,1),0),D&&(V=1-V);const ie=e.minTranslate()+(e.maxTranslate()-e.minTranslate())*V;e.updateProgress(ie),e.setTranslate(ie),e.updateActiveIndex(),e.updateSlidesClasses()}function g(O){const x=e.params.scrollbar,{scrollbar:D,wrapperEl:$}=e,{el:V,dragEl:ie}=D;o=!0,c=O.target===ie?w(O)-O.target.getBoundingClientRect()[e.isHorizontal()?"left":"top"]:null,O.preventDefault(),O.stopPropagation(),$.style.transitionDuration="100ms",ie.style.transitionDuration="100ms",b(O),clearTimeout(l),V.style.transitionDuration="0ms",x.hide&&(V.style.opacity=1),e.params.cssMode&&(e.wrapperEl.style["scroll-snap-type"]="none"),i("scrollbarDragStart",O)}function y(O){const{scrollbar:x,wrapperEl:D}=e,{el:$,dragEl:V}=x;o&&(O.preventDefault?O.preventDefault():O.returnValue=!1,b(O),D.style.transitionDuration="0ms",$.style.transitionDuration="0ms",V.style.transitionDuration="0ms",i("scrollbarDragMove",O))}function S(O){const x=e.params.scrollbar,{scrollbar:D,wrapperEl:$}=e,{el:V}=D;o&&(o=!1,e.params.cssMode&&(e.wrapperEl.style["scroll-snap-type"]="",$.style.transitionDuration=""),x.hide&&(clearTimeout(l),l=mo(()=>{V.style.opacity=0,V.style.transitionDuration="400ms"},1e3)),i("scrollbarDragEnd",O),x.snapOnRelease&&e.slideToClosest())}function I(O){const{scrollbar:x,params:D}=e,$=x.el;if(!$)return;const V=$,ie=D.passiveListeners?{passive:!1,capture:!1}:!1,j=D.passiveListeners?{passive:!0,capture:!1}:!1;if(!V)return;const re=O==="on"?"addEventListener":"removeEventListener";V[re]("pointerdown",g,ie),r[re]("pointermove",y,ie),r[re]("pointerup",S,j)}function U(){!e.params.scrollbar.el||!e.scrollbar.el||I("on")}function K(){!e.params.scrollbar.el||!e.scrollbar.el||I("off")}function L(){const{scrollbar:O,el:x}=e;e.params.scrollbar=uu(e,e.originalParams.scrollbar,e.params.scrollbar,{el:"swiper-scrollbar"});const D=e.params.scrollbar;if(!D.el)return;let $;if(typeof D.el=="string"&&e.isElement&&($=e.el.querySelector(D.el)),!$&&typeof D.el=="string"){if($=r.querySelectorAll(D.el),!$.length)return}else $||($=D.el);e.params.uniqueNavElements&&typeof D.el=="string"&&$.length>1&&x.querySelectorAll(D.el).length===1&&($=x.querySelector(D.el)),$.length>0&&($=$[0]),$.classList.add(e.isHorizontal()?D.horizontalClass:D.verticalClass);let V;$&&(V=$.querySelector(ks(e.params.scrollbar.dragClass)),V||(V=_s("div",e.params.scrollbar.dragClass),$.append(V))),Object.assign(O,{el:$,dragEl:V}),D.draggable&&U(),$&&$.classList[e.enabled?"remove":"add"](..._n(e.params.scrollbar.lockClass))}function C(){const O=e.params.scrollbar,x=e.scrollbar.el;x&&x.classList.remove(..._n(e.isHorizontal()?O.horizontalClass:O.verticalClass)),K()}s("init",()=>{e.params.scrollbar.enabled===!1?F():(L(),m(),h())}),s("update resize observerUpdate lock unlock",()=>{m()}),s("setTranslate",()=>{h()}),s("setTransition",(O,x)=>{p(x)}),s("enable disable",()=>{const{el:O}=e.scrollbar;O&&O.classList[e.enabled?"remove":"add"](..._n(e.params.scrollbar.lockClass))}),s("destroy",()=>{C()});const R=()=>{e.el.classList.remove(..._n(e.params.scrollbar.scrollbarDisabledClass)),e.scrollbar.el&&e.scrollbar.el.classList.remove(..._n(e.params.scrollbar.scrollbarDisabledClass)),L(),m(),h()},F=()=>{e.el.classList.add(..._n(e.params.scrollbar.scrollbarDisabledClass)),e.scrollbar.el&&e.scrollbar.el.classList.add(..._n(e.params.scrollbar.scrollbarDisabledClass)),C()};Object.assign(e.scrollbar,{enable:R,disable:F,updateSize:m,setTranslate:h,init:L,destroy:C})}function pu(t){let{swiper:e,extendParams:n,on:s,emit:i,params:r}=t;e.autoplay={running:!1,paused:!1,timeLeft:0},n({autoplay:{enabled:!1,delay:3e3,waitForTransition:!0,disableOnInteraction:!1,stopOnLastSlide:!1,reverseDirection:!1,pauseOnMouseEnter:!1}});let o,a,l=r&&r.autoplay?r.autoplay.delay:3e3,c=r&&r.autoplay?r.autoplay.delay:3e3,u,d=new Date().getTime(),f,h,p,m,w,b,g;function y(j){!e||e.destroyed||!e.wrapperEl||j.target===e.wrapperEl&&(e.wrapperEl.removeEventListener("transitionend",y),!g&&R())}const S=()=>{if(e.destroyed||!e.autoplay.running)return;e.autoplay.paused?f=!0:f&&(c=u,f=!1);const j=e.autoplay.paused?u:d+c-new Date().getTime();e.autoplay.timeLeft=j,i("autoplayTimeLeft",j,j/l),a=requestAnimationFrame(()=>{S()})},I=()=>{let j;return e.virtual&&e.params.virtual.enabled?j=e.slides.filter(Ce=>Ce.classList.contains("swiper-slide-active"))[0]:j=e.slides[e.activeIndex],j?parseInt(j.getAttribute("data-swiper-autoplay"),10):void 0},U=j=>{if(e.destroyed||!e.autoplay.running)return;cancelAnimationFrame(a),S();let re=typeof j>"u"?e.params.autoplay.delay:j;l=e.params.autoplay.delay,c=e.params.autoplay.delay;const Ce=I();!Number.isNaN(Ce)&&Ce>0&&typeof j>"u"&&(re=Ce,l=Ce,c=Ce),u=re;const $e=e.params.speed,De=()=>{!e||e.destroyed||(e.params.autoplay.reverseDirection?!e.isBeginning||e.params.loop||e.params.rewind?(e.slidePrev($e,!0,!0),i("autoplay")):e.params.autoplay.stopOnLastSlide||(e.slideTo(e.slides.length-1,$e,!0,!0),i("autoplay")):!e.isEnd||e.params.loop||e.params.rewind?(e.slideNext($e,!0,!0),i("autoplay")):e.params.autoplay.stopOnLastSlide||(e.slideTo(0,$e,!0,!0),i("autoplay")),e.params.cssMode&&(d=new Date().getTime(),requestAnimationFrame(()=>{U()})))};return re>0?(clearTimeout(o),o=setTimeout(()=>{De()},re)):requestAnimationFrame(()=>{De()}),re},K=()=>{d=new Date().getTime(),e.autoplay.running=!0,U(),i("autoplayStart")},L=()=>{e.autoplay.running=!1,clearTimeout(o),cancelAnimationFrame(a),i("autoplayStop")},C=(j,re)=>{if(e.destroyed||!e.autoplay.running)return;clearTimeout(o),j||(b=!0);const Ce=()=>{i("autoplayPause"),e.params.autoplay.waitForTransition?e.wrapperEl.addEventListener("transitionend",y):R()};if(e.autoplay.paused=!0,re){w&&(u=e.params.autoplay.delay),w=!1,Ce();return}u=(u||e.params.autoplay.delay)-(new Date().getTime()-d),!(e.isEnd&&u<0&&!e.params.loop)&&(u<0&&(u=0),Ce())},R=()=>{e.isEnd&&u<0&&!e.params.loop||e.destroyed||!e.autoplay.running||(d=new Date().getTime(),b?(b=!1,U(u)):U(),e.autoplay.paused=!1,i("autoplayResume"))},F=()=>{if(e.destroyed||!e.autoplay.running)return;const j=It();j.visibilityState==="hidden"&&(b=!0,C(!0)),j.visibilityState==="visible"&&R()},O=j=>{j.pointerType==="mouse"&&(b=!0,g=!0,!(e.animating||e.autoplay.paused)&&C(!0))},x=j=>{j.pointerType==="mouse"&&(g=!1,e.autoplay.paused&&R())},D=()=>{e.params.autoplay.pauseOnMouseEnter&&(e.el.addEventListener("pointerenter",O),e.el.addEventListener("pointerleave",x))},$=()=>{e.el.removeEventListener("pointerenter",O),e.el.removeEventListener("pointerleave",x)},V=()=>{It().addEventListener("visibilitychange",F)},ie=()=>{It().removeEventListener("visibilitychange",F)};s("init",()=>{e.params.autoplay.enabled&&(D(),V(),K())}),s("destroy",()=>{$(),ie(),e.autoplay.running&&L()}),s("_freeModeStaticRelease",()=>{(p||b)&&R()}),s("_freeModeNoMomentumRelease",()=>{e.params.autoplay.disableOnInteraction?L():C(!0,!0)}),s("beforeTransitionStart",(j,re,Ce)=>{e.destroyed||!e.autoplay.running||(Ce||!e.params.autoplay.disableOnInteraction?C(!0,!0):L())}),s("sliderFirstMove",()=>{if(!(e.destroyed||!e.autoplay.running)){if(e.params.autoplay.disableOnInteraction){L();return}h=!0,p=!1,b=!1,m=setTimeout(()=>{b=!0,p=!0,C(!0)},200)}}),s("touchEnd",()=>{if(!(e.destroyed||!e.autoplay.running||!h)){if(clearTimeout(m),clearTimeout(o),e.params.autoplay.disableOnInteraction){p=!1,h=!1;return}p&&e.params.cssMode&&R(),p=!1,h=!1}}),s("slideChange",()=>{e.destroyed||!e.autoplay.running||(w=!0)}),Object.assign(e.autoplay,{start:K,stop:L,pause:C,resume:R})}function tx(t){const{effect:e,swiper:n,on:s,setTranslate:i,setTransition:r,overwriteParams:o,perspective:a,recreateShadows:l,getEffectParams:c}=t;s("beforeInit",()=>{if(n.params.effect!==e)return;n.classNames.push(`${n.params.containerModifierClass}${e}`),a&&a()&&n.classNames.push(`${n.params.containerModifierClass}3d`);const d=o?o():{};Object.assign(n.params,d),Object.assign(n.originalParams,d)}),s("setTranslate",()=>{n.params.effect===e&&i()}),s("setTransition",(d,f)=>{n.params.effect===e&&r(f)}),s("transitionEnd",()=>{if(n.params.effect===e&&l){if(!c||!c().slideShadows)return;n.slides.forEach(d=>{d.querySelectorAll(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").forEach(f=>f.remove())}),l()}});let u;s("virtualUpdate",()=>{n.params.effect===e&&(n.slides.length||(u=!0),requestAnimationFrame(()=>{u&&n.slides&&n.slides.length&&(i(),u=!1)}))})}function nx(t,e){const n=Eg(e);return n!==e&&(n.style.backfaceVisibility="hidden",n.style["-webkit-backface-visibility"]="hidden"),n}function sx(t){let{swiper:e,duration:n,transformElements:s,allSlides:i}=t;const{activeIndex:r}=e,o=a=>a.parentElement?a.parentElement:e.slides.filter(c=>c.shadowRoot&&c.shadowRoot===a.parentNode)[0];if(e.params.virtualTranslate&&n!==0){let a=!1,l;i?l=s:l=s.filter(c=>{const u=c.classList.contains("swiper-slide-transform")?o(c):c;return e.getSlideIndex(u)===r}),l.forEach(c=>{FP(c,()=>{if(a||!e||e.destroyed)return;a=!0,e.animating=!1;const u=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0});e.wrapperEl.dispatchEvent(u)})})}}function mu(t){let{swiper:e,extendParams:n,on:s}=t;n({fadeEffect:{crossFade:!1}}),tx({effect:"fade",swiper:e,on:s,setTranslate:()=>{const{slides:o}=e,a=e.params.fadeEffect;for(let l=0;l<o.length;l+=1){const c=e.slides[l];let d=-c.swiperSlideOffset;e.params.virtualTranslate||(d-=e.translate);let f=0;e.isHorizontal()||(f=d,d=0);const h=e.params.fadeEffect.crossFade?Math.max(1-Math.abs(c.progress),0):1+Math.min(Math.max(c.progress,-1),0),p=nx(a,c);p.style.opacity=h,p.style.transform=`translate3d(${d}px, ${f}px, 0px)`}},setTransition:o=>{const a=e.slides.map(l=>Eg(l));a.forEach(l=>{l.style.transitionDuration=`${o}ms`}),sx({swiper:e,duration:o,transformElements:a,allSlides:!0})},overwriteParams:()=>({slidesPerView:1,slidesPerGroup:1,watchSlidesProgress:!0,spaceBetween:0,virtualTranslate:!e.params.cssMode})})}const wn=""+new URL("shop1-rixsYcRI.png",import.meta.url).href,qn=""+new URL("shop2-rAIGWahc.jpg",import.meta.url).href,Kn=""+new URL("shop3-Pqo9itNl.jpg",import.meta.url).href,ix=""+new URL("banner1-ISLZS2Mc.jpg",import.meta.url).href,rx=""+new URL("banner2-mp907Kc0.jpg",import.meta.url).href,ox=""+new URL("banner3-u2xzmQOv.png",import.meta.url).href,Og=""+new URL("p001-7AxGYEV1.png",import.meta.url).href,Ng=""+new URL("p002-LFprbvll.png",import.meta.url).href,Lg=""+new URL("p009-_5dnmno2.png",import.meta.url).href,yo=""+new URL("p013-_dcQPP3F.png",import.meta.url).href,rs=""+new URL("p014-yykBkoAB.png",import.meta.url).href,Rn=""+new URL("p015-EDktiCeq.png",import.meta.url).href,$f=""+new URL("set001-w1Xbq58e.png",import.meta.url).href,Uf=""+new URL("set002-r-JGk1mb.png",import.meta.url).href,Bf=""+new URL("set003-29mEQ4pU.png",import.meta.url).href,zf=""+new URL("set004-fGwtOZIg.png",import.meta.url).href,wt=t=>(vt("data-v-824b3195"),t=t(),yt(),t),ax={class:"content"},lx={class:"container"},cx={class:"homeVueWapper"},ux={class:"swiper-container-zero"},dx={class:"newsWrapper"},fx={class:"news"},hx={class:"smalltitle"},px={class:"maintitle"},mx={class:"subtitle"},gx=["src"],_x={class:"swiper-container-first"},vx=wt(()=>_("div",{class:"famousArticle"},[_("p",null,"臉部調理系列"),_("h2",null,"針對多重肌膚問題的高效滋養"),_("p",null," 專為成熟肌膚精心研發的保養配方，注入有益的強效維生素和抗氧化成分，讓肌膚更加健康有光澤。 ")],-1)),yx=["onClick"],wx=["src"],bx={class:"productitle"},Ex={class:"subtitle"},Sx={class:"perfumeWapper"},Tx=wt(()=>_("div",{class:"perfumeImage"},[_("img",{src:bP,alt:""})],-1)),Cx={class:"perfumeInformation"},Ix=wt(()=>_("div",{class:"title"},"一滴精華，雙倍享受",-1)),Px=wt(()=>_("div",{class:"subtitle"}," 突破傳統框架的迷人香水，除了提供現有的 50mL 版本外，還新增了 100mL 的大容量版本。這些大容量版本僅在官網上販售，適合長期使用 的忠實愛好者。 ",-1)),Rx={class:"surpriseGiftWapper"},xx={class:"giftInformation"},Ax=wt(()=>_("div",{class:"title"},"驚喜禮物",-1)),kx=wt(()=>_("div",{class:"subtitle"}," 慶祝特別的時刻，卻不知道該送什麼，禮物指南中有各種適合不同人的產品，輕鬆解決你的煩惱。 ",-1)),Ox=wt(()=>_("div",{class:"giftImage"},[_("img",{src:EP,alt:""})],-1)),Nx={class:"videoServiceWapper"},Lx=wt(()=>_("div",{class:"videoServiceImage"},[_("img",{src:SP,alt:""})],-1)),Mx={class:"videoServiceInformation"},Dx=wt(()=>_("div",{class:"title"},"專屬於您的居家諮詢",-1)),Fx=wt(()=>_("div",{class:"subtitle"}," 為了協助您挑選最適合的產品，邀請您與專業顧問進行「線上視訊諮詢」。 ",-1)),$x={class:"swiper-container-second"},Ux=["onClick"],Bx=["src"],zx={class:"settitle"},Vx={class:"setsubtitle"},Hx={class:"shop"},Wx={class:"loctioninfo"},jx=wt(()=>_("div",{class:"shoptitle"},"尋找店鋪",-1)),Gx=wt(()=>_("div",{class:"subtitle"}," 位於各城市的精華地段中，交通便利方便抵達！就讓我們的美容顧問，為您提供量身訂製的建議吧，期待與您相見的那天到來！ ",-1)),qx={class:"swiper-container-third"},Kx={class:"shopimage"},Yx=["src"],Xx=Ut('<div class="wisdom-wrapper" data-v-824b3195><h2 data-v-824b3195>&#39;You are very much ON TIME, and in your TIME ZONE which God set up for you.&#39;</h2><p data-v-824b3195>&#39;&#39;在上帝為你安排的時區裡，一切都是準時的。&#39;&#39;</p></div><div class="eco-wrapper" data-v-824b3195><div class="textwrapper" data-v-824b3195><div class="section" data-v-824b3195><div class="ecoTitle" data-v-824b3195>無動物實驗</div><div class="ecoSubtitle" data-v-824b3195> 使用專業儀器對所有產品進行全面測試，同時秉持著對動物生命的愛護和尊重，堅持不進行動物實驗 </div></div><div class="section" data-v-824b3195><div class="ecoTitle" data-v-824b3195>全產品環保包裝</div><div class="ecoSubtitle" data-v-824b3195> 皆使用可回收或可生物降解的天然材料作為包裝，以減少對地球的塑料污染。同時，我們提供消費者空瓶回收的回購優惠價，鼓勵大家參與環保行動。 </div></div><div class="section" data-v-824b3195><div class="ecoTitle" data-v-824b3195>降低碳足跡</div><div class="ecoSubtitle" data-v-824b3195> 減少生產和運輸過程中的能源消耗，採用節能技術，降低80%碳足跡。 </div></div></div></div>',2),Qx=wt(()=>_("div",{class:"goTop"},[_("a",{href:"#header",target:"_self"},[_("img",{src:"https://cdn-icons-png.flaticon.com/512/11848/11848591.png"})])],-1)),Jx={__name:"HomeView",setup(t){function e(p){}function n(p){}function s(p){}function i(p){}const r={clickable:!0,renderBullet:function(){return'<div class="nav-item" > </item>'}},o=[du,fu,hu,pu,cu,mu],a=ae({430:{slidesPerView:1,spaceBetween:10},1024:{slidesPerView:3,spaceBetween:10},1440:{slidesPerView:3,spaceBetween:10}}),l=ae([{smalltitle:"家居香氛",maintitle:"為您介紹 Alles Gute 香氛系列",subtitle:"探索三款啟程心靈旅程的香氛────森林、朝露以及夜幕，每三十分鐘銷售5,000份。",src:ix},{smalltitle:"高效配方",maintitle:"肌膚調理凝霜",subtitle:"這款蘊含牛奶般獨特質地、富含維他命 B 和 C 的輕度保濕配方，能有效呵護、柔軟、平衡肌膚。",src:rx},{smalltitle:"陶冶心情",maintitle:"2024年全新力作",subtitle:"香水系列分為以下幾種香調：花香、清新、木質、馥郁──也可能同時擁有兩種香調特色。",src:ox}]);let c=ae([{title:"甜橙香檸身體凝乳",subtitle:"柑橘、木質、草本芳香",selectedSizeIndex:0,sizeList:[{capacity:100,price:500,imageSrc:rs},{capacity:500,price:1400,imageSrc:Rn}],id:1},{title:"芫荽籽身體凝乳",subtitle:"溫暖木質辛香",size:"容量",selectedSizeIndex:0,sizeList:[{capacity:100,price:500,imageSrc:rs},{capacity:500,price:1400,imageSrc:Rn}],price:"NT$600起",id:2},{title:"玫瑰身體凝乳",subtitle:"玫瑰花、豆蔻、黑胡椒",size:"容量",selectedSizeIndex:0,sizeList:[{capacity:100,price:500,imageSrc:rs},{capacity:500,price:1400,imageSrc:Rn}],id:3},{title:"橙香萬用油",subtitle:"柑橘、清爽幽香",selectedSizeIndex:0,sizeList:[{capacity:100,price:500,imageSrc:Lg},{capacity:500,price:1400,imageSrc:Rn}],id:4},{title:"晨沐薰衣草面霜",subtitle:"薰衣草、朝露、草本芳香",selectedSizeIndex:0,sizeList:[{capacity:100,price:500,imageSrc:Og},{capacity:500,price:1400,imageSrc:yo}],id:5},{title:"香草森林面霜",subtitle:"香草、木質、草本芳香",selectedSizeIndex:0,sizeList:[{capacity:100,price:500,imageSrc:Ng},{capacity:500,price:1400,imageSrc:yo}],id:6}]),u=ae([{title:"春意盎然",subtitle:"清潔露、廁後點滴、室內噴霧",selectedSizeIndex:0,sizeList:[{capacity:100,price:500,imageSrc:$f},{capacity:500,price:1400,imageSrc:$f}],id:1},{title:"夏日戀曲",subtitle:"潔膚露、去角質露、身體乳霜",selectedSizeIndex:0,sizeList:[{capacity:100,price:500,imageSrc:Uf},{capacity:500,price:1400,imageSrc:Uf}],id:2},{title:"秋頌曲調",subtitle:"護手霜、潔膚露、護唇膏",selectedSizeIndex:0,sizeList:[{capacity:100,price:500,imageSrc:Bf},{capacity:500,price:1400,imageSrc:Bf}],id:3},{title:"冬季禮遇",subtitle:"護手霜、清潔露、乾洗手",selectedSizeIndex:0,sizeList:[{capacity:100,price:500,imageSrc:zf},{capacity:500,price:1400,imageSrc:zf}],id:4}]);const d=ae([{src:wn},{src:qn},{src:Kn}]),f=Bt();function h(p){console.log(p,"product"),f.push({name:"insidepagesView",params:{product:JSON.stringify(p)}})}return(p,m)=>(Z(),de("div",ax,[_("div",lx,[_("div",cx,[_("div",ux,[fe(ue(Ls),{slidesPerView:1,spaceBetween:30,loop:!0,centeredSlides:!0,navigation:!1,autoplay:{delay:2e3,disableOnInteraction:!0},modules:o,effect:p.fade,onSwiper:e},{default:Ne(()=>[(Z(!0),de(Oe,null,at(l.value,(w,b)=>(Z(),Cn(ue(Tn),{key:b},{default:Ne(()=>[_("div",dx,[_("div",fx,[_("div",hx,te(w.smalltitle),1),_("div",px,te(w.maintitle),1),_("div",mx,te(w.subtitle),1),fe(As,{title:"立即探索",path:"productList",class:"perfume-button"})]),_("img",{src:w.src},null,8,gx)])]),_:2},1024))),128))]),_:1},8,["effect"])]),_("div",_x,[fe(ue(Ls),{scrollbar:{hide:!1,draggable:!0,dragSize:600},slidesPerView:4,spaceBetween:0,breakpoints:a.value,loop:!1,centeredSlides:!1,pagination:r,navigation:{hiddenClass:"swiper-button-hidden"},modules:o,onSwiper:n},{default:Ne(()=>[fe(ue(Tn),null,{default:Ne(()=>[vx]),_:1}),(Z(!0),de(Oe,null,at(ue(c),w=>(Z(),Cn(ue(Tn),{key:w},{default:Ne(()=>[_("div",{class:"famousProductsWrapper",onClick:b=>h(w)},[_("img",{src:w.sizeList[0].imageSrc},null,8,wx),_("div",bx,te(w.title),1),_("div",Ex,te(w.subtitle),1)],8,yx)]),_:2},1024))),128))]),_:1},8,["breakpoints"])]),_("div",Sx,[Tx,_("div",Cx,[Ix,Px,fe(As,{title:"立即探索",path:"productList",class:"perfume-button"})])]),_("div",Rx,[_("div",xx,[Ax,kx,fe(As,{title:"立即挑選",path:"combineList",class:"surpriseGift-button"})]),Ox]),_("div",Nx,[Lx,_("div",Mx,[Dx,Fx,fe(As,{title:"立即諮詢",path:"contact",class:"video-button"})])]),_("div",$x,[fe(ue(Ls),{scrollbar:{hide:!1,draggable:!0,dragsize:600,mousewheel:!0},slidesPerView:3,spaceBetween:10,breakpoints:a.value,loop:!0,centeredSlides:!1,pagination:r,autoplay:{delay:3e3,disableOnInteraction:!1},navigation:!0,modules:o,onSwiper:s},{default:Ne(()=>[(Z(!0),de(Oe,null,at(ue(u),w=>(Z(),Cn(ue(Tn),{key:w},{default:Ne(()=>[_("div",{class:"SetWrapper",onClick:b=>h(w)},[_("img",{src:w.sizeList[0].imageSrc},null,8,Bx),_("div",zx,te(w.title),1),_("div",Vx,te(w.subtitle),1)],8,Ux)]),_:2},1024))),128))]),_:1},8,["breakpoints"])]),_("div",Hx,[_("div",Wx,[jx,Gx,fe(As,{title:"立即出發",path:"shop",class:"shop-button"})]),_("div",qx,[fe(ue(Ls),{slidesPerView:1,loop:!0,centeredSlides:!0,pagination:r,autoplay:{delay:4e3,disableOnInteraction:!0},navigation:!1,modules:o,onSwiper:i},{default:Ne(()=>[(Z(!0),de(Oe,null,at(d.value,(w,b)=>(Z(),Cn(ue(Tn),{key:b},{default:Ne(()=>[_("div",Kx,[_("img",{src:w.src},null,8,Yx)])]),_:2},1024))),128))]),_:1})])]),Xx])]),Qx]))}},Zx=rt(Jx,[["__scopeId","data-v-824b3195"]]),eA="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='87.74'%20height='18.33'%20viewBox='0%200%2087.74%2018.33'%3e%3ctitle%3eshop-map%3c/title%3e%3cg%20id='圖層_2'%20data-name='圖層%202'%3e%3cg%20id='design'%3e%3cg%3e%3cpath%20d='M5.8,12.27A2.55,2.55,0,0,1,4.68,13a4.51,4.51,0,0,1-1.6.27,3.2,3.2,0,0,1-1.62-.41A2.7,2.7,0,0,1,.39,11.69,4.19,4.19,0,0,1,0,9.89V9.41A4.39,4.39,0,0,1,.36,7.56a2.73,2.73,0,0,1,1-1.19A3,3,0,0,1,3,6a3,3,0,0,1,2,.6A2.63,2.63,0,0,1,5.8,8.32H4.38a1.37,1.37,0,0,0-.44-.89A1.37,1.37,0,0,0,3,7.14a1.32,1.32,0,0,0-1.14.56,2.94,2.94,0,0,0-.39,1.67v.46a2.85,2.85,0,0,0,.42,1.69,1.47,1.47,0,0,0,1.25.57,1.66,1.66,0,0,0,1.18-.35V10.51H3V9.43H5.8Z'%20fill='%23231815'/%3e%3cpath%20d='M14,9.77a4.38,4.38,0,0,1-.37,1.84,2.86,2.86,0,0,1-1.07,1.23,3.12,3.12,0,0,1-3.16,0,2.81,2.81,0,0,1-1.07-1.21,4.2,4.2,0,0,1-.39-1.82V9.46A4.34,4.34,0,0,1,8.3,7.61,2.78,2.78,0,0,1,9.37,6.39,2.9,2.9,0,0,1,11,6a2.9,2.9,0,0,1,1.58.43A2.78,2.78,0,0,1,13.6,7.61,4.34,4.34,0,0,1,14,9.46Zm-1.49-.32a3,3,0,0,0-.4-1.7A1.3,1.3,0,0,0,11,7.17a1.3,1.3,0,0,0-1.14.58,3,3,0,0,0-.4,1.68v.34a3,3,0,0,0,.4,1.69,1.29,1.29,0,0,0,1.15.6,1.29,1.29,0,0,0,1.13-.57,3,3,0,0,0,.4-1.69Z'%20fill='%23231815'/%3e%3cpath%20d='M22,9.77a4.23,4.23,0,0,1-.37,1.84,2.84,2.84,0,0,1-1.06,1.23,3,3,0,0,1-1.59.43,3,3,0,0,1-1.57-.43,2.83,2.83,0,0,1-1.08-1.21A4.2,4.2,0,0,1,16,9.81V9.46a4.19,4.19,0,0,1,.38-1.85,2.76,2.76,0,0,1,1.06-1.22,3.12,3.12,0,0,1,3.16,0,2.78,2.78,0,0,1,1.07,1.22A4.19,4.19,0,0,1,22,9.46Zm-1.48-.32a3.07,3.07,0,0,0-.4-1.7A1.33,1.33,0,0,0,19,7.17a1.27,1.27,0,0,0-1.13.58,2.89,2.89,0,0,0-.41,1.68v.34a3,3,0,0,0,.4,1.69,1.3,1.3,0,0,0,1.15.6,1.32,1.32,0,0,0,1.14-.57,3.12,3.12,0,0,0,.4-1.69Z'%20fill='%23231815'/%3e%3cpath%20d='M29.87,12.27a2.55,2.55,0,0,1-1.12.73,4.51,4.51,0,0,1-1.6.27,3.2,3.2,0,0,1-1.62-.41,2.7,2.7,0,0,1-1.07-1.17,4.19,4.19,0,0,1-.39-1.8V9.41a4.39,4.39,0,0,1,.36-1.85,2.73,2.73,0,0,1,1-1.19A3.06,3.06,0,0,1,27.05,6a3,3,0,0,1,2,.6,2.63,2.63,0,0,1,.84,1.76H28.45a1.25,1.25,0,0,0-1.36-1.18A1.29,1.29,0,0,0,26,7.7a2.86,2.86,0,0,0-.4,1.67v.46A2.85,2.85,0,0,0,26,11.52a1.47,1.47,0,0,0,1.25.57,1.66,1.66,0,0,0,1.18-.35V10.51H27.07V9.43h2.8Z'%20fill='%23231815'/%3e%3cpath%20d='M33.67,12h3.11v1.18H32.21V6.06h1.46Z'%20fill='%23231815'/%3e%3cpath%20d='M43.05,10.09H40.24V12h3.3v1.18H38.77V6.06h4.76V7.24H40.24v1.7h2.81Z'%20fill='%23231815'/%3e%3cpath%20d='M51.1,6.06l1.83,5.15,1.81-5.15h1.93v7.11H55.2V11.22l.14-3.35-1.91,5.3h-1l-1.91-5.3.14,3.35v1.95H49.19V6.06Z'%20fill='%23231815'/%3e%3cpath%20d='M63.2,11.7H60.63l-.49,1.47H58.58l2.65-7.11h1.36l2.66,7.11H63.69ZM61,10.52H62.8l-.89-2.67Z'%20fill='%23231815'/%3e%3cpath%20d='M68.53,10.66v2.51H67.06V6.06h2.78a3.32,3.32,0,0,1,1.41.29,2.21,2.21,0,0,1,.93.83,2.31,2.31,0,0,1,.33,1.23,2,2,0,0,1-.72,1.65,3,3,0,0,1-2,.6Zm0-1.18h1.31a1.29,1.29,0,0,0,.88-.28A1,1,0,0,0,71,8.42a1.11,1.11,0,0,0-1.16-1.18H68.53Z'%20fill='%23231815'/%3e%3c/g%3e%3cpolygon%20points='83.99%2018.33%2083.3%2018.05%2086.93%209.17%2083.3%200.28%2083.99%200%2087.74%209.17%2083.99%2018.33'%20fill='%233e3a39'/%3e%3c/g%3e%3c/g%3e%3c/svg%3e",Ml=""+new URL("shop4-LdqzFcpl.png",import.meta.url).href,Mg=t=>(vt("data-v-e706a419"),t=t(),yt(),t),tA={class:"content"},nA={class:"navbar"},sA={class:"city"},iA={class:"shopWrapper"},rA={class:"store-pic"},oA=["src"],aA={class:"info"},lA={class:"title"},cA={class:"name"},uA={class:"icon"},dA=["href"],fA=Mg(()=>_("img",{src:eA,alt:""},null,-1)),hA=[fA],pA=Mg(()=>_("div",{class:"divider"},null,-1)),mA={class:"subtitle"},gA={class:"openhour"},_A={class:"open"},vA={class:"hour"},yA={class:"phonenumber"},wA={class:"phone"},bA={class:"number"},EA={class:"location"},SA={class:"location"},TA={class:"address"},CA=["href"],IA={__name:"ShopView",setup(t){Bt();let e=ae("Open."),n=ae("Tel."),s=ae("Add."),i=ae([{title:"永康旗艦店",hour:"10:00AM-17:00PM",number:"02-23222200",address:"台北市大安區永康街31巷6號",googleUrl:"https://maps.app.goo.gl/CJYqdnSoCshtykQF8",src:wn,id:1},{title:"台北林口店",hour:"10:00AM-18:00PM",number:"02-66375888",address:"新北市林口區文化三路一段356號1F",googleUrl:"https://maps.app.goo.gl/DtuTYJRT9SCe2MH67",src:qn,id:2},{title:"華泰名品城店",hour:"10:00AM-21:00PM",number:"03-2738666",address:"桃園市中壢區春德路189號",googleUrl:"https://maps.app.goo.gl/3qtDRzqr8AnVh7ks5",src:Kn,id:3},{title:"台中新光店",hour:"10:00AM-21:00PM",number:"04-22510792",address:"台中市西屯區臺灣大道三段301號B2",googleUrl:"https://maps.app.goo.gl/DzTmbFNm8LXuefh97",src:Ml,id:4},{title:"台中勤美店",hour:"10:00AM-21:00PM",number:"04-23295911",address:"台中市西區公益路68號B1",googleUrl:"https://maps.app.goo.gl/uHN7i4z9mav2UPnDA",src:wn,id:5},{title:"三井LaLa店",hour:"10:00AM-21:00PM",number:"04-22138281",address:"台中市東區進德路600號北館4樓",googleUrl:"https://maps.app.goo.gl/zwo14MK4ULxiwUEs5",src:qn,id:6},{title:"台南新天地店",hour:"10:00AM-21:00PM",number:"06-3030705",address:"台南市中西區西門路一段658號4F",googleUrl:"https://maps.app.goo.gl/5cHrDnZQ6fGEe6nJA",src:Kn,id:7},{title:"漢神巨蛋店",hour:"10:00AM-21:00PM",number:"07-3550705",address:"高雄市左營區博愛二路777號B1",googleUrl:"https://maps.app.goo.gl/GQZPNRqbL7qhZQ8V8",src:Ml,id:8},{title:"高雄駁二店",hour:"10:00AM-21:00PM",number:"07-9631200",address:"高雄市鹽埕區大勇路3號(駁二藝術特區C4倉庫)",googleUrl:"https://maps.app.goo.gl/16uvzTFgAweKM26N9",src:wn,id:9}]),r=ae([{title:"台北永康旗艦店",hour:"10:00AM-17:00PM",number:"02-23222200",address:"台北市大安區永康街31巷6號",googleUrl:"https://maps.app.goo.gl/CJYqdnSoCshtykQF8",src:wn,id:1},{title:"台北林口店",hour:"10:00AM-18:00PM",number:"02-66375888",address:"新北市林口區文化三路一段356號1F",googleUrl:"https://maps.app.goo.gl/DtuTYJRT9SCe2MH67",src:qn,id:2},{title:"華泰名品城店",hour:"10:00AM-21:00PM",number:"03-2738666",address:"桃園市中壢區春德路189號",googleUrl:"https://maps.app.goo.gl/3qtDRzqr8AnVh7ks5",src:Kn,id:3}]),o=ae([{title:"台中新光店",hour:"10:00AM-21:00PM",number:"04-22510792",address:"台中市西屯區臺灣大道三段301號B2",googleUrl:"https://maps.app.goo.gl/DzTmbFNm8LXuefh97",src:wn,id:1},{title:"台中勤美店",hour:"10:00AM-21:00PM",number:"04-23295911",address:"台中市西區公益路68號B1",googleUrl:"https://maps.app.goo.gl/uHN7i4z9mav2UPnDA",src:qn,id:2},{title:"台中三井LaLa店",hour:"10:00AM-21:00PM",number:"04-22138281",address:"台中市東區進德路600號北館4樓",googleUrl:"https://maps.app.goo.gl/zwo14MK4ULxiwUEs5",src:Kn,id:3}]),a=ae([{title:"台南新天地店",hour:"10:00AM-21:00PM",number:"06-3030705",address:"台南市中西區西門路一段658號4F",googleUrl:"https://maps.app.goo.gl/5cHrDnZQ6fGEe6nJA",src:wn,id:1},{title:"漢神巨蛋店",hour:"10:00AM-21:00PM",number:"07-3550705",address:"高雄市左營區博愛二路777號B1",googleUrl:"https://maps.app.goo.gl/GQZPNRqbL7qhZQ8V8",src:qn,id:2},{title:"高雄駁二店",hour:"10:00AM-21:00PM",number:"07-9631200",address:"高雄市鹽埕區大勇路3號(駁二藝術特區C4倉庫)",googleUrl:"https://maps.app.goo.gl/16uvzTFgAweKM26N9",src:Kn,id:3}]),l=ae(i.value);function c(d){console.log(d,"type"),d==="northList"?l.value=r.value:d==="westList"?l.value=o.value:d==="southList"?l.value=a.value:l.value=i.value}function u(){let d=window.localStorage.getItem("shopList"),f=JSON.parse(d);console.log(f,"shopList")}return u(),window.scrollTo(0,0),window.scrollTo({top:0,behavior:"smooth"}),(d,f)=>(Z(),de("div",tA,[_("div",nA,[_("div",sA,[_("p",{onClick:f[0]||(f[0]=h=>c("all"))},"全部店鋪"),_("p",{onClick:f[1]||(f[1]=h=>c("northList"))},"北部"),_("p",{onClick:f[2]||(f[2]=h=>c("westList"))},"中部"),_("p",{onClick:f[3]||(f[3]=h=>c("southList"))},"南部")]),_("div",iA,[(Z(!0),de(Oe,null,at(ue(l),h=>(Z(),de("div",{class:"section",key:h.id},[_("div",rA,[_("img",{src:h.src},null,8,oA)]),_("div",aA,[_("div",lA,[_("div",cA,te(h.title),1),_("div",uA,[_("a",{href:h.googleUrl,target:"_blank"},hA,8,dA)])]),pA,_("div",mA,[_("div",gA,[_("div",_A,te(ue(e)),1),_("div",vA,te(h.hour),1)]),_("div",yA,[_("div",wA,te(ue(n)),1),_("div",bA,te(h.number),1)]),_("div",EA,[_("div",SA,te(ue(s)),1),_("div",TA,[_("a",{href:h.googleUrl,target:"_blank"},te(h.address),9,CA)])])])])]))),128))])])]))}},PA=rt(IA,[["__scopeId","data-v-e706a419"]]),Dg=""+new URL("LOGO-WQH0Ww7K.png",import.meta.url).href,RA=""+new URL("about2-xqwRdcCF.png",import.meta.url).href,xA=""+new URL("about3-SRzLv8-z.jpg",import.meta.url).href,AA=""+new URL("about4-mV3p-5bf.jpg",import.meta.url).href,oa=t=>(vt("data-v-f1b6a426"),t=t(),yt(),t),kA={class:"about"},OA={class:"container"},NA=Ut('<div class="storyWrapper" data-v-f1b6a426><div class="icon" data-v-f1b6a426><img src="'+Dg+'" data-v-f1b6a426></div><div class="storyArea" data-v-f1b6a426><div class="title" data-v-f1b6a426>故事的起點</div><div class="description" data-v-f1b6a426> 「Alles Gute!」源自德語，是德國人經常使用的日常招呼語，有祝福別人一切順利、圓滿的意思。因此，我們以這句招呼語作為品牌名稱，就是希望能夠提供您如同摯友般的祝福，得到身心療癒，讓保養的旅程中盡情享受當下幸福的時刻。 </div></div></div><div class="productsIdeaWrapper" data-v-f1b6a426><div class="ideaImage" data-v-f1b6a426><img src="'+RA+'" data-v-f1b6a426></div><div class="productsIdea" data-v-f1b6a426><div class="title" data-v-f1b6a426>擁有鑽研產品細節的熱忱</div><div class="description" data-v-f1b6a426> 致力開發一系列專業的護膚、頭髮和身體護理產品，秉持科學驗證，加入了頂級的植物萃取和抗氧化成分，所有配方都通過嚴格檢驗，只為提供安全、安心的產品。 </div></div></div><div class="designWrapper" data-v-f1b6a426><div class="design" data-v-f1b6a426><div class="title" data-v-f1b6a426>好設計造就好生活</div><div class="description" data-v-f1b6a426> 堅持自行研發產品，不斷構思新點子、開發新配方，以最新技術和成熟的科研方案，並根據客戶的實際需求進行研發，投入時間深入研究，以確保推出的配方具有最高品質和最有效果。 </div></div><div class="designImage" data-v-f1b6a426><img src="'+xA+'" alt="" data-v-f1b6a426></div></div>',3),LA={class:"shopWrapper"},MA={class:"shop"},DA=oa(()=>_("div",{class:"title"},"交通便利的門市位置",-1)),FA=oa(()=>_("div",{class:"description"}," 無論是開車、搭乘大眾運輸還是步行前來，我們的店鋪都是您的理想選擇。靠近多個公共交通站點，步行數分鐘即可抵達，方便快捷。此外，我們也提供寬敞的停車場，讓您可以輕鬆停車後盡情享受購物樂趣，期待與您相見！ ",-1)),$A=oa(()=>_("div",{class:"shopImage"},[_("img",{src:AA,alt:""})],-1)),UA={class:"swiper-photo"},BA={class:"shopWrapper"},zA=["src"],VA=oa(()=>_("div",{class:"wisdom"},[_("div",{class:"title"},"‘If the path be beautiful, let us not ask where it leads.’ "),_("div",{class:"subtitle"},"Anatole France")],-1)),HA={__name:"AboutView",setup(t){function e(i){}const n=[du,fu,hu,pu,cu,mu],s=ae([{src:wn},{src:qn},{src:Kn},{src:Ml}]);return(i,r)=>(Z(),de("div",kA,[_("div",OA,[NA,_("div",LA,[_("div",MA,[DA,FA,fe(As,{title:"查看所有店舖",path:"shop",class:"shop-button"})]),$A]),_("div",UA,[fe(ue(Ls),{scrollbar:{hide:!1,draggable:!0},slidesPerView:1,spaceBetween:0,loop:!0,centeredSlides:!0,pagination:!1,navigation:!0,modules:n,autoplay:{delay:2e3,disableOnInteraction:!0},onSwiper:e},{default:Ne(()=>[(Z(!0),de(Oe,null,at(s.value,(o,a)=>(Z(),Cn(ue(Tn),{key:a},{default:Ne(()=>[_("div",BA,[_("img",{src:o.src},null,8,zA)])]),_:2},1024))),128))]),_:1})]),VA])]))}},WA=rt(HA,[["__scopeId","data-v-f1b6a426"]]),jA=t=>(vt("data-v-2df0a500"),t=t(),yt(),t),GA={class:"container"},qA={class:"navbar"},KA={class:"productsCategories"},YA={class:"productWapper"},XA=jA(()=>_("div",{class:"introduce"},[_("div",{class:"maintitle"},"重新體驗肌膚潔淨及柔滑的感受"),_("div",{class:"description"}," 所有產品皆含有滋潤功效的草本植物成分，讓肌膚在任何季節都能保持潔淨柔滑。 ")],-1)),QA=["onClick"],JA=["src"],ZA={class:"productInfo"},ek={class:"productitle"},tk={class:"subtitle"},nk={class:"sizenprice"},sk={class:"size-wrapper"},ik={class:"size-list-wrapper"},rk=["id","checked","onChange"],ok=["for"],ak={class:"price"},lk=["onClick"],ck={__name:"ProductListView",setup(t){const e=Bt(),n=ou(),s=n.productList,i=ae(s);function r(u,d){u.selectedSizeIndex=d}function o(u){n.setCurrentProduct(u),e.push({name:"insidepagesView"})}function a(u){u==="all"?i.value=s:i.value=s.filter(d=>d.tag===u)}const l=gs();function c(u){l.addProduct(u)}return window.scrollTo({top:0,behavior:"smooth"}),(u,d)=>(Z(),de("div",GA,[_("div",qA,[_("div",KA,[_("p",{onClick:d[0]||(d[0]=f=>a("all"))},"全部商品"),_("p",{onClick:d[1]||(d[1]=f=>a("shampoo"))},"髮品"),_("p",{onClick:d[2]||(d[2]=f=>a("body"))},"身體乳"),_("p",{onClick:d[3]||(d[3]=f=>a("combine"))},"送禮組合")])]),_("div",YA,[XA,(Z(!0),de(Oe,null,at(i.value,f=>(Z(),de("div",{class:"section",key:f.id},[_("div",{class:"productPic",onClick:h=>o(f)},[_("img",{src:f.sizeList[f.selectedSizeIndex].imageSrc,alt:""},null,8,JA)],8,QA),_("div",ZA,[_("div",ek,te(f.title),1),_("div",tk,te(f.subtitle),1),_("div",nk,[_("div",sk,[_("div",ik,[(Z(!0),de(Oe,null,at(f.sizeList,(h,p)=>(Z(),de("div",{class:"size-option",key:p},[_("input",{type:"radio",id:h.id,checked:f.selectedSizeIndex===p,onChange:m=>r(f,p)},null,40,rk),_("label",{for:h.id},te(h.capacity)+" ml",9,ok)]))),128))])]),_("div",ak,"NT$ "+te(f.sizeList[f.selectedSizeIndex].price),1)]),_("div",{class:"cart",onClick:h=>c(f)},"加入購物車",8,lk)])]))),128))])]))}},uk=rt(ck,[["__scopeId","data-v-2df0a500"]]),dk=""+new URL("contactus_pic-6hXdmfMO.jpg",import.meta.url).href,fk={class:"container"},hk=Ut('<div class="contact_wrapper" data-v-ca159f2c><div class="icon" data-v-ca159f2c><img src="'+Dg+'" data-v-ca159f2c></div><div class="contact" data-v-ca159f2c><div class="contactus" data-v-ca159f2c>聯絡我們</div><p data-v-ca159f2c> 你可以在家裡舒服地預約視訊諮詢服務。我們會根據你的需求量身打造服務，可能包括送禮建議、肌膚保養推薦，或是挑選個人或家居香氛。我們的顧問會示範產品，和你分享使用方法，還有提供專屬的個人建議 </p><p data-v-ca159f2c> 預約視訊諮詢完全免費！每次約定都有30分鐘的時間，讓我們能夠好好討論您想討論的肌膚問題，歡迎利用電腦、平板或手機上開展線上視訊諮詢。記得要確保你的網路連接穩定喔！ </p></div></div><div class="contactWay_wrapper" data-v-ca159f2c><div class="video" data-v-ca159f2c><div class="title" data-v-ca159f2c>視訊諮詢</div><div class="subtitle" data-v-ca159f2c> 我們想透過網路諮詢，給你帶來跟實體店一樣的感受，期待以全新的方式與您見面！ </div><a href="https://www.example.com" data-v-ca159f2c>立即開始</a></div><div class="mail" data-v-ca159f2c><div class="title" data-v-ca159f2c>寄信給我們</div><div class="subtitle" data-v-ca159f2c>在選購或保養上有任何問題，都可以透過郵件跟我們聊聊唷．</div><a href="mailto:info@example.com" data-v-ca159f2c>立即傳送</a></div><div class="phone" data-v-ca159f2c><div class="title" data-v-ca159f2c>諮詢專線</div><div class="subtitle" data-v-ca159f2c>歡迎撥打諮詢專線，將由專人為您服務。</div><a href="tel:+1234567890" data-v-ca159f2c>立即撥打</a></div></div><div class="imgWrapper" data-v-ca159f2c><img src="'+dk+'" alt="" data-v-ca159f2c></div>',3),pk=[hk],mk={__name:"ContactUsView",setup(t){return window.scrollTo(0,0),window.scrollTo({top:0,behavior:"smooth"}),(e,n)=>(Z(),de("div",fk,pk))}},gk=rt(mk,[["__scopeId","data-v-ca159f2c"]]),_k="data:image/svg+xml,%3csvg%20width='25'%20height='24'%20viewBox='0%200%2025%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M5.57385%2021.2502V10.3413H20.2241V21.2502H5.57385Z'%20stroke='%23333333'%20stroke-width='1.49961'/%3e%3cpath%20d='M3.92102%2010.3326V6.62276L21.8768%206.62276V10.3326H3.92102Z'%20stroke='%23333333'%20stroke-width='1.49961'/%3e%3cpath%20d='M12.8989%206.61918V21.269M12.8989%206.61918L9.18213%202.50269M12.8989%206.61918L16.3531%202.51051'%20stroke='%23333333'%20stroke-width='1.49961'/%3e%3c/svg%3e",vk="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='24'%20height='25'%20viewBox='0%200%2024%2025'%20fill='none'%3e%3cpath%20d='M20%204.95068H4L4%2016.5592H12.5L17%2020.5592V16.5592H20V4.95068Z'%20stroke='%23333333'%20stroke-width='1.5'/%3e%3c/svg%3e",yk="data:image/svg+xml,%3csvg%20width='25'%20height='24'%20viewBox='0%200%2025%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M12.8562%2022C10.584%2022%208.68975%2021.2194%207.17343%2019.6582C5.65709%2018.097%204.89893%2016.1538%204.89893%2013.8286C4.89893%2012.1823%205.55777%2010.3779%206.87546%208.41531C8.19316%206.45271%2010.1874%204.31428%2012.8581%202C15.5289%204.31428%2017.5231%206.45271%2018.8408%208.41531C20.1585%2010.3779%2020.8173%2012.1823%2020.8173%2013.8286C20.8173%2016.1538%2020.0585%2018.097%2018.5409%2019.6582C17.0234%2021.2194%2015.1284%2022%2012.8562%2022ZM12.8581%2020.4082C14.6976%2020.4082%2016.2187%2019.7847%2017.4214%2018.5378C18.6241%2017.2908%2019.2255%2015.7211%2019.2255%2013.8286C19.2255%2012.5374%2018.6905%2011.0782%2017.6204%209.45099C16.5503%207.82378%2014.9629%206.04622%2012.8581%204.11832C10.7533%206.04622%209.16592%207.82378%208.09585%209.45099C7.02578%2011.0782%206.49074%2012.5374%206.49074%2013.8286C6.49074%2015.7211%207.09211%2017.2908%208.29483%2018.5378C9.49756%2019.7847%2011.0187%2020.4082%2012.8581%2020.4082Z'%20fill='%23333333'/%3e%3c/svg%3e",wk=""+new URL("001-11oj_6dI.jpg",import.meta.url).href,Rt=t=>(vt("data-v-c584b77a"),t=t(),yt(),t),bk={class:"container"},Ek={class:"productWrapper"},Sk=Rt(()=>_("div",{class:"productPic"},[_("img",{src:rs,alt:""})],-1)),Tk={class:"productInfo"},Ck={class:"name"},Ik=Rt(()=>_("div",{class:"directions"}," 這款性質溫和的低泡沫潔膚凝露含有多種淨化肌膚的植物萃取物，可清潔肌膚，散發充滿活力的柑橘芳香。 ",-1)),Pk={class:"sizenprice"},Rk={class:"size-wrapper"},xk={class:"size-list-wrapper"},Ak=["id","checked","onChange"],kk=["for"],Ok={class:"price"},Nk=Rt(()=>_("div",{class:"divider"},null,-1)),Lk={class:"introduce"},Mk=Rt(()=>_("div",{class:"title"},"膚質感受",-1)),Dk=Rt(()=>_("div",{class:"info"},"清潔、清爽",-1)),Fk=Rt(()=>_("div",{class:"useDivider"},null,-1)),$k=Rt(()=>_("div",{class:"title"},"香氛",-1)),Uk={class:"info"},Bk=Rt(()=>_("div",{class:"useDivider"},null,-1)),zk=Rt(()=>_("div",{class:"title"},"成份",-1)),Vk=Rt(()=>_("div",{class:"info"},"苦橙、檸檬皮、葡萄柚皮",-1)),Hk=Rt(()=>_("div",{class:"useDivider"},null,-1)),Wk=Ut('<div class="serviceWrapper" data-v-c584b77a><div class="section" data-v-c584b77a><img src="'+_k+'" alt="" data-v-c584b77a><div class="mainTitle" data-v-c584b77a>免費禮品包裝</div><p data-v-c584b77a>為您提供禮品包裝、品牌專屬棉袋以及個人化禮物小卡服務，是我們的榮幸。</p></div><div class="section" data-v-c584b77a><img src="'+vk+'" alt="" data-v-c584b77a><div class="mainTitle" data-v-c584b77a>諮詢美容顧問</div><p data-v-c584b77a>我們受過專業訓練的顧問，非常樂意在線上為您提供個人化的產品建議。</p></div><div class="section" data-v-c584b77a><img src="'+yk+'" alt="" data-v-c584b77a><div class="mainTitle" data-v-c584b77a>下單送試用包</div><p data-v-c584b77a>我們很榮幸為所有訂單提供試用包體驗組。</p></div></div><div class="UsageWrapper" data-v-c584b77a><div class="productPic" data-v-c584b77a><img src="'+wk+'" alt="" data-v-c584b77a></div><div class="way" data-v-c584b77a><div class="howToUse" data-v-c584b77a>使用方式</div><p data-v-c584b77a>倒在手中或海綿上。按摩全身濕潤的肌膚，然後徹底洗淨。</p><div class="useDivider" data-v-c584b77a></div><div class="title" data-v-c584b77a>用量</div><div class="info" data-v-c584b77a>倒在手掌上約一個十元硬幣大小</div><div class="divider" data-v-c584b77a></div><div class="title" data-v-c584b77a>質地</div><div class="info" data-v-c584b77a>低泡沫透明凝露</div></div></div>',2),jk={class:"swiper-bottom"},Gk=Rt(()=>_("div",{class:"recommendArticle"},[_("p",null,"推薦搭配使用")],-1)),qk=["onClick"],Kk=["src"],Yk={class:"productitle"},Xk={class:"subtitle"},Qk={__name:"InsidepagesView",setup(t){function e(f){}const n=ou(),s=ae(n.currentProduct),i=cw(),r=[du,fu,hu,pu,cu,mu];function o(f){i.push({name:"insidepagesView",params:{product:JSON.stringify(f)}})}function a(f){console.log(s,f),s.value.selectedSizeIndex=f}const l=gs();function c(f){l.addProduct(f)}function u(){window.scrollTo({top:0,behavior:"smooth"})}let d=ae([{title:"甜橙香檸身體凝乳",subtitle:"柑橘、木質、草本芳香",selectedSizeIndex:0,sizeList:[{capacity:100,price:500,imageSrc:rs},{capacity:500,price:1400,imageSrc:Rn}],id:1},{title:"芫荽籽身體凝乳",subtitle:"溫暖木質辛香",size:"容量",selectedSizeIndex:0,sizeList:[{capacity:100,price:500,imageSrc:rs},{capacity:500,price:1400,imageSrc:Rn}],price:"NT$600起",id:2},{title:"玫瑰身體凝乳",subtitle:"玫瑰花、豆蔻、黑胡椒",size:"容量",selectedSizeIndex:0,sizeList:[{capacity:100,price:500,imageSrc:rs},{capacity:500,price:1400,imageSrc:Rn}],id:3},{title:"橙香萬用油",subtitle:"柑橘、清爽幽香",selectedSizeIndex:0,sizeList:[{capacity:100,price:500,imageSrc:Lg},{capacity:500,price:1400,imageSrc:Rn}],id:4},{title:"晨沐薰衣草面霜",subtitle:"薰衣草、朝露、草本芳香",selectedSizeIndex:0,sizeList:[{capacity:100,price:500,imageSrc:Og},{capacity:500,price:1400,imageSrc:yo}],id:5},{title:"香草森林面霜",subtitle:"香草、木質、草本芳香",selectedSizeIndex:0,sizeList:[{capacity:100,price:500,imageSrc:Ng},{capacity:500,price:1400,imageSrc:yo}],id:6}]);return u(),(f,h)=>(Z(),de("div",bk,[_("div",Ek,[Sk,_("div",Tk,[_("div",Ck,te(s.value.title),1),Ik,_("div",Pk,[_("div",Rk,[_("div",xk,[(Z(!0),de(Oe,null,at(s.value.sizeList,(p,m)=>(Z(),de("div",{class:"size-option",key:m},[_("input",{type:"radio",id:p.id,checked:s.value.selectedSizeIndex===m,onChange:w=>a(m)},null,40,Ak),_("label",{for:p.id},te(p.capacity)+" ml",9,kk)]))),128))])]),_("div",Ok,"NT$ "+te(s.value.sizeList[s.value.selectedSizeIndex].price),1)]),_("div",{class:"addCart",onClick:h[0]||(h[0]=p=>c(s.value))},"加入購物車"),Nk,_("div",Lk,[Mk,Dk,Fk,$k,_("div",Uk,te(s.value.subtitle),1),Bk,zk,Vk,Hk])])]),Wk,_("div",jk,[fe(ue(Ls),{scrollbar:{hide:!1,draggable:!0,dragSize:500},slidesPerView:4,spaceBetween:0,loop:!1,centeredSlides:!1,modules:r,onSwiper:e},{default:Ne(()=>[fe(ue(Tn),null,{default:Ne(()=>[Gk]),_:1}),(Z(!0),de(Oe,null,at(ue(d),p=>(Z(),Cn(ue(Tn),{key:p},{default:Ne(()=>[_("div",{class:"recommendProductsWrapper",onClick:m=>o(p)},[_("img",{src:p.sizeList[0].imageSrc},null,8,Kk),_("div",Yk,te(p.title),1),_("div",Xk,te(p.subtitle),1)],8,qk)]),_:2},1024))),128))]),_:1})])]))}},Jk=rt(Qk,[["__scopeId","data-v-c584b77a"]]),aa=t=>(vt("data-v-4b2fec99"),t=t(),yt(),t),Zk={class:"cartshop"},eO={class:"content"},tO=Ut('<div class="item" data-v-4b2fec99><div class="title" data-v-4b2fec99>商品名稱</div><div class="title" data-v-4b2fec99>容量</div><div class="title" data-v-4b2fec99>單價</div><div class="title" data-v-4b2fec99>數量</div><div class="title" data-v-4b2fec99>小計</div></div><div class="divider" data-v-4b2fec99></div>',2),nO={class:"product-wrapper"},sO={class:"name"},iO={class:"capacity"},rO={class:"unitPrice"},oO={class:"quantity"},aO=["onClick"],lO=["onClick"],cO={class:"delete"},uO=["onClick"],dO={class:"subtotal"},fO=aa(()=>_("div",{class:"divider"},null,-1)),hO={class:"countWrapper"},pO={class:"totalWrapper"},mO=aa(()=>_("div",{class:"total"},"總計",-1)),gO={class:"totalPrice"},_O=aa(()=>_("button",null,"繼續購物",-1)),vO=[_O],yO=aa(()=>_("button",null,"結帳",-1)),wO=[yO],bO={__name:"CartshopView",setup(t){const e=Do(gs()),n=e.cartList;let s=ae(0);const i=Bt();function r(){i.push("/productList")}function o(){i.push("/OrderPageView")}function a(){s.value=0;for(let d of n.value){let f=d.sizeList[d.selectedSizeIndex].price*d.quantity;s.value=s.value+f}}a();function l(d){d.quantity>1&&(d.quantity--,s.value=0,a())}function c(d){d.quantity=d.quantity+1,s.value=0,a()}function u(d){e.deleteProduct(d),a()}return(d,f)=>(Z(),de("div",Zk,[_("div",eO,[tO,_("div",nO,[(Z(!0),de(Oe,null,at(ue(n),(h,p)=>(Z(),de("div",{class:"item_detail",key:p},[_("div",sO,te(h.title),1),_("div",iO,te(h.sizeList[h.selectedSizeIndex].capacity)+" ml",1),_("div",rO,te(h.sizeList[h.selectedSizeIndex].price),1),_("div",oO,[_("button",{onClick:m=>l(h)},"-",8,aO),Et(" "+te(h.quantity)+" ",1),_("button",{onClick:m=>c(h)},"+",8,lO),_("div",cO,[_("button",{onClick:m=>u(h)},"刪除",8,uO)])]),_("div",dO,te(h.sizeList[h.selectedSizeIndex].price*h.quantity),1)]))),128))]),fO,_("div",hO,[_("div",pO,[mO,_("div",gO,te(ue(s)),1)]),_("div",{class:"buttonWrapper"},[_("div",{class:"shopping",onClick:r},vO),_("div",{class:"checkout",onClick:o},wO)])])])]))}},EO=rt(bO,[["__scopeId","data-v-4b2fec99"]]),Es=t=>(vt("data-v-9228c803"),t=t(),yt(),t),SO={class:"container"},TO={class:"oderList"},CO=Es(()=>_("div",{class:"mainTitle"},[_("h2",null,"查看本次訂單")],-1)),IO={class:"orderWrapper"},PO=Ut('<div class="divider" data-v-9228c803></div><div class="listWrapper" data-v-9228c803><div class="item" data-v-9228c803>商品名稱</div><div class="item" data-v-9228c803>容量</div><div class="item" data-v-9228c803>數量</div><div class="item" data-v-9228c803>單價</div><div class="item" data-v-9228c803>小計</div></div><div class="dividerLiter" data-v-9228c803></div>',3),RO={class:"detail"},xO={class:"detail"},AO={class:"detail"},kO={class:"detail"},OO={class:"detail"},NO=Es(()=>_("div",{class:"dividerLiter"},null,-1)),LO={class:"totalPrice"},MO=Es(()=>_("div",{class:"title"},"總計金額:NT$",-1)),DO={class:"number"},FO=Es(()=>_("div",{class:"divider"},null,-1)),$O=Es(()=>_("div",{class:"mainTitle"},[_("h2",null,"填寫訂單資訊")],-1)),UO=Ut('<div class="infoWrapper" data-v-9228c803><div class="divider" data-v-9228c803></div><div class="inputWrapper" data-v-9228c803><div class="title" data-v-9228c803>收件人姓名：</div><input type="text" name="username" placeholder="請輸入全名" id="myInput" data-v-9228c803></div><div class="inputWrapper" data-v-9228c803><div class="title" data-v-9228c803>連絡電話：</div><input type="tel" name="phone" placeholder="0912-000-000" id="myInput" data-v-9228c803></div><div class="inputWrapper" data-v-9228c803><div class="title" data-v-9228c803>收件地址：</div><input type="text" name="address" placeholder="請加入郵遞區號" id="myInput" data-v-9228c803></div></div>',1),BO=Es(()=>_("div",{class:"reset"},[_("button",{type:"reset"},"清除資料")],-1)),zO=Es(()=>_("div",{class:"divider"},null,-1)),VO={__name:"OrderPageView",setup(t){const e=gs(),s=Do(e).cartList;let i=ae(0);const r=Bt();async function o(){await e.submit(),r.push("/FinalpagesView")}window.scrollTo(0,0),window.scrollTo({top:0,behavior:"smooth"});function a(){for(let l of s.value){let c=l.sizeList[l.selectedSizeIndex].price*l.quantity;i.value=i.value+c}}return a(),(l,c)=>(Z(),de("div",SO,[_("div",TO,[CO,_("div",IO,[PO,(Z(!0),de(Oe,null,at(ue(s),(u,d)=>(Z(),de("div",{class:"listWrapper",key:d},[_("div",RO,te(u.title),1),_("div",xO,te(u.sizeList[u.selectedSizeIndex].capacity)+" ml",1),_("div",AO,te(u.quantity),1),_("div",kO,te(u.sizeList[u.selectedSizeIndex].price),1),_("div",OO,te(u.sizeList[u.selectedSizeIndex].price*u.quantity),1)]))),128)),NO,_("div",LO,[MO,_("div",DO,te(ue(i)),1)]),FO]),$O,_("form",null,[_("label",{for:"infoForm"},[UO,_("div",{class:"buttonWrapper"},[BO,_("div",{class:"submit"},[_("button",{class:"submitBtn",onClick:o},"確定送出")])]),zO])])])]))}},HO=rt(VO,[["__scopeId","data-v-9228c803"]]),WO=""+new URL("complete-K7uzOgMP.png",import.meta.url).href,jO={class:"container"},GO={class:"thanksWrapper"},qO=Ut('<div class="textWrapper" data-v-b7a2d2eb><div class="icon" data-v-b7a2d2eb><img src="'+WO+'" data-v-b7a2d2eb></div><div class="mainTitle" data-v-b7a2d2eb>感謝您的購買！</div><div class="subTitle" data-v-b7a2d2eb>已收到您的訂單，將於三個工作天完成包裹寄送，再次感謝您的訂購，預祝您！有個美好的一天！</div></div>',1),KO={class:"buttonWrapper"},YO={class:"back"},XO={class:"finish"},QO={__name:"FinalpagesView",setup(t){return Bt(),(e,n)=>{const s=bh("RouterLink");return Z(),de("div",jO,[_("div",GO,[qO,_("div",KO,[_("div",YO,[_("button",null,[fe(s,{to:"/"},{default:Ne(()=>[Et("返回首頁")]),_:1})])]),_("div",XO,[_("button",{onClick:n[0]||(n[0]=(...i)=>e.closeCurrentWindow&&e.closeCurrentWindow(...i))},"關閉視窗")])])])])}}},JO=rt(QO,[["__scopeId","data-v-b7a2d2eb"]]),gu=t=>(vt("data-v-ce46b3bf"),t=t(),yt(),t),ZO={class:"member"},eN={class:"order"},tN={class:"order-detail"},nN=gu(()=>_("div",{class:"mainTitle"},[_("h2",null,"查看本次訂單")],-1)),sN={class:"orderWrapper"},iN=Ut('<div class="divider" data-v-ce46b3bf></div><div class="listWrapper" data-v-ce46b3bf><div class="item" data-v-ce46b3bf>商品名稱</div><div class="item" data-v-ce46b3bf>容量</div><div class="item" data-v-ce46b3bf>數量</div><div class="item" data-v-ce46b3bf>單價</div><div class="item" data-v-ce46b3bf>小計</div></div><div class="dividerLiter" data-v-ce46b3bf></div>',3),rN={class:"detail"},oN={class:"detail"},aN={class:"detail"},lN={class:"detail"},cN={class:"detail"},uN=gu(()=>_("div",{class:"dividerLiter"},null,-1)),dN=gu(()=>_("div",{class:"divider"},null,-1)),fN={__name:"MemberView",setup(t){Bt();const e=yg(),n=Do(e);e.getOrder();const s=n.order;return(i,r)=>(Z(),de("div",ZO,[_("div",eN,[_("div",tN,[nN,_("div",sN,[iN,(Z(!0),de(Oe,null,at(ue(s),(o,a)=>(Z(),de("div",{class:"listWrapper",key:a},[_("div",rN,te(o.title),1),_("div",oN,te(o.sizeList[o.selectedSizeIndex].capacity)+" ml",1),_("div",aN,te(o.quantity),1),_("div",lN,te(o.sizeList[o.selectedSizeIndex].price),1),_("div",cN,te(o.sizeList[o.selectedSizeIndex].price*o.quantity),1)]))),128)),uN,dN])])])]))}},hN=rt(fN,[["__scopeId","data-v-ce46b3bf"]]),pN=aw({history:Cy(),routes:[{path:"/:pathMatch(.*)",redirect:{name:"home"}},{path:"/",redirect:{name:"home"}},{path:"/home",name:"home",component:Zx},{path:"/shop",name:"shop",component:PA},{path:"/about",name:"about",component:WA},{path:"/productList",name:"productList",component:uk},{path:"/contact",name:"contact",component:gk},{path:"/insidepagesView",name:"insidepagesView",component:Jk},{path:"/cartshopView",name:"cartshopView",component:EO},{path:"/OrderPageView",name:"OrderPageView",component:HO},{path:"/FinalpagesView",name:"FinalpagesView",component:JO},{path:"/member",name:"member",component:hN}]}),la=Jv(wP);la.use(ty());la.use(pN);la.mount("#app");la.config.cartList=[];
